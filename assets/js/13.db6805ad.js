(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{421:function(a,t,r){"use strict";r.r(t);var s=r(2),e=Object(s.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"链式操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#链式操作"}},[a._v("#")]),a._v(" 链式操作")]),a._v(" "),t("h2",{attrs:{id:"模型创建"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模型创建"}},[a._v("#")]),a._v(" 模型创建")]),a._v(" "),t("p",[a._v("链式安全 模型创建 临时模型对象 防止一个模型反复添加条件")]),a._v(" "),t("h2",{attrs:{id:"写入保存"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#写入保存"}},[a._v("#")]),a._v(" 写入保存")]),a._v(" "),t("h2",{attrs:{id:"更新删除"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更新删除"}},[a._v("#")]),a._v(" 更新删除")]),a._v(" "),t("h2",{attrs:{id:"数据查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据查询"}},[a._v("#")]),a._v(" 数据查询")]),a._v(" "),t("h3",{attrs:{id:"查询条件-where"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询条件-where"}},[a._v("#")]),a._v(" 查询条件 Where")]),a._v(" "),t("p",[a._v("WhereOr/Where 查询条件可以是 括号/占位符/关键字/键值对/结构体\n- Where可以使用 string  slice map struct 进行条件预处理，使用string和struct不需要使用g.")]),a._v(" "),t("p",[a._v("Wheref 格式化条件字符串 - 暂时不知道怎么使用")]),a._v(" "),t("p",[a._v("WherePri 主键查询")]),a._v(" "),t("p",[a._v("WhereBuilder 复杂条件组合")]),a._v(" "),t("p",[a._v("空数组条件引发的 0=1 条件")]),a._v(" "),t("h3",{attrs:{id:"查询结果-all-one-array-value-count"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查询结果-all-one-array-value-count"}},[a._v("#")]),a._v(" 查询结果 All/One/Array/Value/Count")]),a._v(" "),t("ol",[t("li",[a._v("All  用于查询并返回多条记录的列表/数组。")]),a._v(" "),t("li",[a._v("One  用于查询并返回单条记录。")]),a._v(" "),t("li",[a._v("Array  用于查询指定字段列的数据，返回数组。")]),a._v(" "),t("li",[a._v("Value  用于查询并返回一个字段值，往往需要结合Fields方法使用。")]),a._v(" "),t("li",[a._v("Count  用于查询并返回记录数。")])]),a._v(" "),t("h3",{attrs:{id:"分页查询结果-allandcount"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分页查询结果-allandcount"}},[a._v("#")]),a._v(" 分页查询结果 AllAndCount")]),a._v(" "),t("p",[a._v("useFieldForCount表示是否在执行Count操作的时候将Fields作为Count参数，一般为true即可。传递false表示执行COUNT(1)查询总数量。")]),a._v(" "),t("h3",{attrs:{id:"结果转换-scan"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#结果转换-scan"}},[a._v("#")]),a._v(" 结果转换 Scan")]),a._v(" "),t("p",[a._v("Scan方法支持将查询结果转换为结构体或者结构体数组，Scan方法将会根据给定的参数类型自动识别执行的转换类型。")]),a._v(" "),t("h4",{attrs:{id:"struct对象"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#struct对象"}},[a._v("#")]),a._v(" struct对象")]),a._v(" "),t("p",[a._v("使用 "),t("code",[a._v("var user = User{}")]),a._v("或者 "),t("code",[a._v("user := User{}")]),a._v(" 不如 "),t("code",[a._v("var user *User")])]),a._v(" "),t("p",[a._v("最后一种方式只有在查询到数据的时候才会执行初始化及内存分配。")]),a._v(" "),t("h4",{attrs:{id:"struct数组"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#struct数组"}},[a._v("#")]),a._v(" struct数组")]),a._v(" "),t("h3",{attrs:{id:"分页查询并结果转换-scanandcount"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分页查询并结果转换-scanandcount"}},[a._v("#")]),a._v(" 分页查询并结果转换 ScanAndCount")]),a._v(" "),t("h3",{attrs:{id:"联表查询-leftjoin-rightjoin-innerjoin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#联表查询-leftjoin-rightjoin-innerjoin"}},[a._v("#")]),a._v(" 联表查询 LeftJoin/RightJoin/InnerJoin")]),a._v(" "),t("p",[a._v("用到再查，和写数据库的sql差不多")]),a._v(" "),t("h3",{attrs:{id:"分组-排序-条件过滤-group-order-having"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分组-排序-条件过滤-group-order-having"}},[a._v("#")]),a._v(" 分组/排序/条件过滤 Group/Order/Having")]),a._v(" "),t("p",[a._v("查询分组")]),a._v(" "),t("p",[a._v("查询排序")]),a._v(" "),t("p",[a._v("查询过滤")]),a._v(" "),t("h3",{attrs:{id:"组合-union-unionall"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#组合-union-unionall"}},[a._v("#")]),a._v(" 组合 Union/UnionAll")]),a._v(" "),t("p",[a._v("操作符用于连接两个以上的 SELECT 语句的结果组合到一个结果集合中")]),a._v(" "),t("h2",{attrs:{id:"模型关联"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#模型关联"}},[a._v("#")]),a._v(" 模型关联")]),a._v(" "),t("h3",{attrs:{id:"动态关联"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#动态关联"}},[a._v("#")]),a._v(" 动态关联")]),a._v(" "),t("h4",{attrs:{id:"数据结构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据结构"}},[a._v("#")]),a._v(" 数据结构")]),a._v(" "),t("h4",{attrs:{id:"数据模型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据模型"}},[a._v("#")]),a._v(" 数据模型")]),a._v(" "),t("p",[a._v("用户表与用户详情是1:1关系。")]),a._v(" "),t("p",[a._v("用户表与用户学分是1:N关系。")]),a._v(" "),t("p",[a._v("这里并没有演示N:N的关系，因为相比较于1:N的查询只是多了一次关联、或者一次查询，最终处理方式和1:N类似。")]),a._v(" "),t("h4",{attrs:{id:"数据写入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据写入"}},[a._v("#")]),a._v(" 数据写入")]),a._v(" "),t("p",[a._v("数据库事务。")]),a._v(" "),t("h4",{attrs:{id:"数据查询-2"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据查询-2"}},[a._v("#")]),a._v(" 数据查询")]),a._v(" "),t("h5",{attrs:{id:"单条数据记录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#单条数据记录"}},[a._v("#")]),a._v(" 单条数据记录")]),a._v(" "),t("p",[a._v("Scan方法会自动识别绑定查询结果到单个对象属性还是数组对象属性中/")]),a._v(" "),t("h5",{attrs:{id:"多条数据记录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多条数据记录"}},[a._v("#")]),a._v(" 多条数据记录")]),a._v(" "),t("h3",{attrs:{id:"静态关联"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#静态关联"}},[a._v("#")]),a._v(" 静态关联")]),a._v(" "),t("h2",{attrs:{id:"对象输入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#对象输入"}},[a._v("#")]),a._v(" 对象输入")]),a._v(" "),t("p",[a._v("推荐使用orm标签来实现数据库ORM的映射关系。")]),a._v(" "),t("h2",{attrs:{id:"字段过滤"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字段过滤"}},[a._v("#")]),a._v(" 字段过滤")]),a._v(" "),t("h3",{attrs:{id:"fields-fieldsex"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#fields-fieldsex"}},[a._v("#")]),a._v(" Fields/FieldsEx")]),a._v(" "),t("p",[a._v("查询、写入字段过滤/查询、写入字段排除")]),a._v(" "),t("h3",{attrs:{id:"omitempty"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#omitempty"}},[a._v("#")]),a._v(" OmitEmpty")]),a._v(" "),t("p",[a._v("空值过滤")]),a._v(" "),t("h2",{attrs:{id:"字段获取"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字段获取"}},[a._v("#")]),a._v(" 字段获取")]),a._v(" "),t("ol",[t("li",[a._v('FieldsStr 用于获取指定表的字段，并可给定字段前缀，字段之间使用","符号连接成字符串返回')]),a._v(" "),t("li",[a._v('FieldsExStr 用于获取指定表中例外的字段，并可给定字段前缀，字段之间使用","符号连接成字符串返回')])]),a._v(" "),t("h2",{attrs:{id:"事务处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#事务处理"}},[a._v("#")]),a._v(" 事务处理")]),a._v(" "),t("h3",{attrs:{id:"transaction"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#transaction"}},[a._v("#")]),a._v(" Transaction")]),a._v(" "),t("h3",{attrs:{id:"tx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tx"}},[a._v("#")]),a._v(" TX")]),a._v(" "),t("h2",{attrs:{id:"主从切换"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主从切换"}},[a._v("#")]),a._v(" 主从切换")])])}),[],!1,null,null,null);t.default=e.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{459:function(v,_,t){"use strict";t.r(_);var a=t(2),s=Object(a.a)({},(function(){var v=this,_=v._self._c;return _("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[_("h1",{attrs:{id:"配置管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#配置管理"}},[v._v("#")]),v._v(" 配置管理")]),v._v(" "),_("h2",{attrs:{id:"什么是配置管理"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是配置管理"}},[v._v("#")]),v._v(" 什么是配置管理")]),v._v(" "),_("p",[v._v("重复配置太多，没必要一个个的配置")]),v._v(" "),_("p",[v._v("配置管理服务：业务配置/路由配置")]),v._v(" "),_("h2",{attrs:{id:"共享配置"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#共享配置"}},[v._v("#")]),v._v(" 共享配置")]),v._v(" "),_("p",[v._v("nacos：")]),v._v(" "),_("ul",[_("li",[v._v("添加配置到配置列表\n"),_("ul",[_("li",[v._v("变化的写在")]),v._v(" "),_("li",[v._v("相应模块的资源文件里面，动态进行读取还能通过 ：执行默认的配置")])])]),v._v(" "),_("li",[v._v("拉取共享配置\n"),_("ul",[_("li",[v._v("基于NacosConfig拉取共享配置代替微服务的本地配置")]),v._v(" "),_("li",[v._v("有一套SpringCloud上下文和SpringBoot上下文")]),v._v(" "),_("li",[v._v("引入依赖")]),v._v(" "),_("li",[v._v("新建bootstrap.yml")])])])]),v._v(" "),_("h2",{attrs:{id:"配置热更新"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#配置热更新"}},[v._v("#")]),v._v(" 配置热更新")]),v._v(" "),_("p",[v._v("配置热更新：当修改配置文件中的配置时，微服务无需重启即可使配置生效。")]),v._v(" "),_("p",[v._v("前提条件：")]),v._v(" "),_("ul",[_("li",[v._v("nacos中要有一个与微服务名有关的配置文件。\n"),_("ul",[_("li",[v._v("name - active - ymal")])])]),v._v(" "),_("li",[v._v("微服务中以特定方式读取需要的配置文件")])]),v._v(" "),_("p",[v._v("配置热更新有点像boss平台的动态控制，哈哈，难道boss平台也是一个nacos？好奇")]),v._v(" "),_("h2",{attrs:{id:"动态路由-拓展"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#动态路由-拓展"}},[v._v("#")]),v._v(" 动态路由（拓展）")]),v._v(" "),_("ul",[_("li",[v._v("读取配置")]),v._v(" "),_("li",[v._v("监听配置")])]),v._v(" "),_("p",[v._v("读取+监听，读了一下nacos源码，实际上维护的这个类已经自动注入了")]),v._v(" "),_("ul",[_("li",[v._v("项目启动，先拉取一次配置，并且添加配置监听器")]),v._v(" "),_("li",[v._v("监听到配置变更，需要去更新路由表")]),v._v(" "),_("li",[v._v("第一次读取到配置，也需要更新到路由表")]),v._v(" "),_("li",[v._v("监听到路由信息后，可以利用RouteDefinitionWriter来更新路由表，学习一个特殊容器")]),v._v(" "),_("li",[v._v("解析配置信息+转换")]),v._v(" "),_("li",[v._v("删除旧的路由表")]),v._v(" "),_("li",[v._v("更新路由表+记录路由id，便于下一次更新时删除")])]),v._v(" "),_("p",[v._v("有点像回调函数")])])}),[],!1,null,null,null);_.default=s.exports}}]);
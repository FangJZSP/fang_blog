<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Flutter路由-navigator.dart | 放|FangJZSP</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="头像.jpg">
    <meta name="description" content="放，就这水平！！！">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/fang_blog/assets/css/0.styles.72d2c4fb.css" as="style"><link rel="preload" href="/fang_blog/assets/js/app.8dbc3baf.js" as="script"><link rel="preload" href="/fang_blog/assets/js/3.d5c9c33c.js" as="script"><link rel="preload" href="/fang_blog/assets/js/1.3f023f4a.js" as="script"><link rel="preload" href="/fang_blog/assets/js/103.c0b41ce3.js" as="script"><link rel="prefetch" href="/fang_blog/assets/js/10.f0d76add.js"><link rel="prefetch" href="/fang_blog/assets/js/100.28282fe8.js"><link rel="prefetch" href="/fang_blog/assets/js/101.0a268033.js"><link rel="prefetch" href="/fang_blog/assets/js/102.323534cc.js"><link rel="prefetch" href="/fang_blog/assets/js/104.e449ff57.js"><link rel="prefetch" href="/fang_blog/assets/js/105.6a92b89a.js"><link rel="prefetch" href="/fang_blog/assets/js/106.980d44bf.js"><link rel="prefetch" href="/fang_blog/assets/js/107.ea0a7f8f.js"><link rel="prefetch" href="/fang_blog/assets/js/108.f30ca041.js"><link rel="prefetch" href="/fang_blog/assets/js/109.42415fa8.js"><link rel="prefetch" href="/fang_blog/assets/js/11.9cdb737f.js"><link rel="prefetch" href="/fang_blog/assets/js/110.69e898c9.js"><link rel="prefetch" href="/fang_blog/assets/js/111.2b6a92e0.js"><link rel="prefetch" href="/fang_blog/assets/js/112.3b443edd.js"><link rel="prefetch" href="/fang_blog/assets/js/113.170bb85f.js"><link rel="prefetch" href="/fang_blog/assets/js/114.ce720583.js"><link rel="prefetch" href="/fang_blog/assets/js/115.51550ce8.js"><link rel="prefetch" href="/fang_blog/assets/js/116.86c61c12.js"><link rel="prefetch" href="/fang_blog/assets/js/117.cd36d235.js"><link rel="prefetch" href="/fang_blog/assets/js/118.d2aa2818.js"><link rel="prefetch" href="/fang_blog/assets/js/119.dfc85732.js"><link rel="prefetch" href="/fang_blog/assets/js/12.c390a872.js"><link rel="prefetch" href="/fang_blog/assets/js/120.acc89b77.js"><link rel="prefetch" href="/fang_blog/assets/js/121.a2ca8c7b.js"><link rel="prefetch" href="/fang_blog/assets/js/122.34558db5.js"><link rel="prefetch" href="/fang_blog/assets/js/13.db6805ad.js"><link rel="prefetch" href="/fang_blog/assets/js/14.3ca931fc.js"><link rel="prefetch" href="/fang_blog/assets/js/15.bc9b8122.js"><link rel="prefetch" href="/fang_blog/assets/js/16.bbc72478.js"><link rel="prefetch" href="/fang_blog/assets/js/17.6aa92457.js"><link rel="prefetch" href="/fang_blog/assets/js/18.3b8c3544.js"><link rel="prefetch" href="/fang_blog/assets/js/19.3720bd61.js"><link rel="prefetch" href="/fang_blog/assets/js/20.3427a82e.js"><link rel="prefetch" href="/fang_blog/assets/js/21.0e0d11a1.js"><link rel="prefetch" href="/fang_blog/assets/js/22.4e83b8c9.js"><link rel="prefetch" href="/fang_blog/assets/js/23.4898c543.js"><link rel="prefetch" href="/fang_blog/assets/js/24.fa4424d2.js"><link rel="prefetch" href="/fang_blog/assets/js/25.a376524e.js"><link rel="prefetch" href="/fang_blog/assets/js/26.a31ca862.js"><link rel="prefetch" href="/fang_blog/assets/js/27.438348b8.js"><link rel="prefetch" href="/fang_blog/assets/js/28.91241cb6.js"><link rel="prefetch" href="/fang_blog/assets/js/29.58c07c4b.js"><link rel="prefetch" href="/fang_blog/assets/js/30.dc74b7f9.js"><link rel="prefetch" href="/fang_blog/assets/js/31.c4e67281.js"><link rel="prefetch" href="/fang_blog/assets/js/32.94559ffa.js"><link rel="prefetch" href="/fang_blog/assets/js/33.1edfe33f.js"><link rel="prefetch" href="/fang_blog/assets/js/34.bb7140a4.js"><link rel="prefetch" href="/fang_blog/assets/js/35.156904ee.js"><link rel="prefetch" href="/fang_blog/assets/js/36.0d2875d2.js"><link rel="prefetch" href="/fang_blog/assets/js/37.0119dcaa.js"><link rel="prefetch" href="/fang_blog/assets/js/38.ff81aade.js"><link rel="prefetch" href="/fang_blog/assets/js/39.95056f0b.js"><link rel="prefetch" href="/fang_blog/assets/js/4.5b40ea71.js"><link rel="prefetch" href="/fang_blog/assets/js/40.c5b78318.js"><link rel="prefetch" href="/fang_blog/assets/js/41.c4b55c58.js"><link rel="prefetch" href="/fang_blog/assets/js/42.f1e526c3.js"><link rel="prefetch" href="/fang_blog/assets/js/43.2da5ad5c.js"><link rel="prefetch" href="/fang_blog/assets/js/44.bcb10cbd.js"><link rel="prefetch" href="/fang_blog/assets/js/45.143c9d01.js"><link rel="prefetch" href="/fang_blog/assets/js/46.d57d89d5.js"><link rel="prefetch" href="/fang_blog/assets/js/47.b1a9d230.js"><link rel="prefetch" href="/fang_blog/assets/js/48.7cf175e1.js"><link rel="prefetch" href="/fang_blog/assets/js/49.d4b80112.js"><link rel="prefetch" href="/fang_blog/assets/js/5.e585f060.js"><link rel="prefetch" href="/fang_blog/assets/js/50.b294f1d7.js"><link rel="prefetch" href="/fang_blog/assets/js/51.92e6630a.js"><link rel="prefetch" href="/fang_blog/assets/js/52.bd1de398.js"><link rel="prefetch" href="/fang_blog/assets/js/53.4a698f74.js"><link rel="prefetch" href="/fang_blog/assets/js/54.6eed3b34.js"><link rel="prefetch" href="/fang_blog/assets/js/55.a510c147.js"><link rel="prefetch" href="/fang_blog/assets/js/56.92051efa.js"><link rel="prefetch" href="/fang_blog/assets/js/57.5ac2c3d8.js"><link rel="prefetch" href="/fang_blog/assets/js/58.b6b26eea.js"><link rel="prefetch" href="/fang_blog/assets/js/59.2d076bd8.js"><link rel="prefetch" href="/fang_blog/assets/js/6.731d207f.js"><link rel="prefetch" href="/fang_blog/assets/js/60.60804a5c.js"><link rel="prefetch" href="/fang_blog/assets/js/61.53ce21a1.js"><link rel="prefetch" href="/fang_blog/assets/js/62.16b18327.js"><link rel="prefetch" href="/fang_blog/assets/js/63.dd3f2e4d.js"><link rel="prefetch" href="/fang_blog/assets/js/64.a54ca66b.js"><link rel="prefetch" href="/fang_blog/assets/js/65.43e4c403.js"><link rel="prefetch" href="/fang_blog/assets/js/66.d2cc48c3.js"><link rel="prefetch" href="/fang_blog/assets/js/67.6dd9b8c9.js"><link rel="prefetch" href="/fang_blog/assets/js/68.c8ab3914.js"><link rel="prefetch" href="/fang_blog/assets/js/69.de6d733c.js"><link rel="prefetch" href="/fang_blog/assets/js/7.5a5b2d02.js"><link rel="prefetch" href="/fang_blog/assets/js/70.3f054ec7.js"><link rel="prefetch" href="/fang_blog/assets/js/71.cbf1c46f.js"><link rel="prefetch" href="/fang_blog/assets/js/72.695ebf98.js"><link rel="prefetch" href="/fang_blog/assets/js/73.a5889b43.js"><link rel="prefetch" href="/fang_blog/assets/js/74.3c210ea9.js"><link rel="prefetch" href="/fang_blog/assets/js/75.129b0790.js"><link rel="prefetch" href="/fang_blog/assets/js/76.45947065.js"><link rel="prefetch" href="/fang_blog/assets/js/77.12b75051.js"><link rel="prefetch" href="/fang_blog/assets/js/78.ec7c9b44.js"><link rel="prefetch" href="/fang_blog/assets/js/79.902cdaa3.js"><link rel="prefetch" href="/fang_blog/assets/js/8.4ed44d5b.js"><link rel="prefetch" href="/fang_blog/assets/js/80.842e525e.js"><link rel="prefetch" href="/fang_blog/assets/js/81.58ac443a.js"><link rel="prefetch" href="/fang_blog/assets/js/82.e0059c58.js"><link rel="prefetch" href="/fang_blog/assets/js/83.1abd0867.js"><link rel="prefetch" href="/fang_blog/assets/js/84.d7185511.js"><link rel="prefetch" href="/fang_blog/assets/js/85.16a92580.js"><link rel="prefetch" href="/fang_blog/assets/js/86.2e57a1f8.js"><link rel="prefetch" href="/fang_blog/assets/js/87.ccca66f8.js"><link rel="prefetch" href="/fang_blog/assets/js/88.abd24c06.js"><link rel="prefetch" href="/fang_blog/assets/js/89.7cfff85d.js"><link rel="prefetch" href="/fang_blog/assets/js/9.3437b5cf.js"><link rel="prefetch" href="/fang_blog/assets/js/90.3847167d.js"><link rel="prefetch" href="/fang_blog/assets/js/91.a6ed2f01.js"><link rel="prefetch" href="/fang_blog/assets/js/92.010d2d2a.js"><link rel="prefetch" href="/fang_blog/assets/js/93.3df292bd.js"><link rel="prefetch" href="/fang_blog/assets/js/94.1dbfc8cd.js"><link rel="prefetch" href="/fang_blog/assets/js/95.94077f67.js"><link rel="prefetch" href="/fang_blog/assets/js/96.db9537fd.js"><link rel="prefetch" href="/fang_blog/assets/js/97.8128b970.js"><link rel="prefetch" href="/fang_blog/assets/js/98.b30e0be2.js"><link rel="prefetch" href="/fang_blog/assets/js/99.629a49a1.js">
    <link rel="stylesheet" href="/fang_blog/assets/css/0.styles.72d2c4fb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>放|FangJZSP</h3> <p class="description" data-v-59e6cb88>放，就这水平！！！</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>Fang</span>
          
        <span data-v-59e6cb88>2024 - </span>
        2025
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/fang_blog/" class="home-link router-link-active"><img src="/fang_blog/头像.jpg" alt="放|FangJZSP" class="logo"> <span class="site-name">放|FangJZSP</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/fang_blog/" class="nav-link"><i class="iconfont reco-home"></i>
  随便看看的主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      缝缝补补的文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fang_blog/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/服务器/" class="nav-link"><i class="undefined"></i>
  服务器
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/移动端/" class="nav-link"><i class="undefined"></i>
  移动端
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/编程思想/" class="nav-link"><i class="undefined"></i>
  编程思想
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/随想/" class="nav-link"><i class="undefined"></i>
  随想
</a></li></ul></div></div><div class="nav-item"><a href="/fang_blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  无关紧要的小标签
</a></div><div class="nav-item"><a href="/fang_blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  不知所措的时间线
</a></div><div class="nav-item"><a href="http://chat.relaxing.top/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-chat"></i>
  摸鱼聊天室
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系我吧~
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/FangJZSP" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><img src="/fang_blog/头像.jpg" alt="author-avatar" class="personal-img" data-v-1fad0c41> <h3 class="name" data-v-1fad0c41>
    Fang
  </h3> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>112</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>27</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/fang_blog/" class="nav-link"><i class="iconfont reco-home"></i>
  随便看看的主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      缝缝补补的文章
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/fang_blog/categories/后端/" class="nav-link"><i class="undefined"></i>
  后端
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/前端/" class="nav-link"><i class="undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/服务器/" class="nav-link"><i class="undefined"></i>
  服务器
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/移动端/" class="nav-link"><i class="undefined"></i>
  移动端
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/算法/" class="nav-link"><i class="undefined"></i>
  算法
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/编程思想/" class="nav-link"><i class="undefined"></i>
  编程思想
</a></li><li class="dropdown-item"><!----> <a href="/fang_blog/categories/随想/" class="nav-link"><i class="undefined"></i>
  随想
</a></li></ul></div></div><div class="nav-item"><a href="/fang_blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  无关紧要的小标签
</a></div><div class="nav-item"><a href="/fang_blog/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  不知所措的时间线
</a></div><div class="nav-item"><a href="http://chat.relaxing.top/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-chat"></i>
  摸鱼聊天室
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      联系我吧~
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/FangJZSP" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><span data-v-59e6cb88>Fang</span>
          
        <span data-v-59e6cb88>2024 - </span>
        2025
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">Flutter路由-navigator.dart</h1> <div data-v-8a445198><i class="iconfont reco-account" data-v-8a445198><span data-v-8a445198>Fang</span></i> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h1 id="flutter路由-navigator-dart"><a href="#flutter路由-navigator-dart" class="header-anchor">#</a> Flutter路由-navigator.dart</h1> <p>flutter3.19.4</p> <h2 id="代码分析"><a href="#代码分析" class="header-anchor">#</a> 代码分析</h2> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">// 在 Android 中延迟重新聚焦的持续时间，以免焦点被打断。</span>
<span class="token keyword">const</span> <span class="token class-name">Duration</span> _kAndroidRefocusingDelayDuration <span class="token operator">=</span> <span class="token class-name">Duration</span><span class="token punctuation">(</span>milliseconds<span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Examples can assume:</span>
<span class="token comment">// typedef MyAppHome = Placeholder;</span>
<span class="token comment">// typedef MyHomePage = Placeholder;</span>
<span class="token comment">// typedef MyPage = ListTile; // any const widget with a Widget &quot;title&quot; constructor argument would do</span>
<span class="token comment">// late NavigatorState navigator;</span>
<span class="token comment">// late BuildContext context;</span>

<span class="token comment">/// 为给定的路由设置创建一个路由。</span>
<span class="token comment">///</span>
<span class="token comment">/// 由[Navigator.onGenerateRoute]使用。</span>
<span class="token comment">/// </span>
<span class="token comment">/// 参见:</span>
<span class="token comment">///</span>
<span class="token comment">/// * [Navigator], 所有[Route]最终都会在这里。</span>
<span class="token keyword">typedef</span> <span class="token class-name">RouteFactory</span> <span class="token operator">=</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">RouteSettings</span> settings<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/// 创建一个或多个路由。</span>
<span class="token comment">///</span>
<span class="token comment">/// 由 [Navigator.onGenerateInitialRoutes] 使用。</span>
<span class="token keyword">typedef</span> <span class="token class-name">RouteListFactory</span> <span class="token operator">=</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">,</span> <span class="token class-name">String</span> initialRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/// Creates a [Route] that is to be added to a [Navigator].</span>
<span class="token comment">///</span>
<span class="token comment">/// The route can be configured with the provided `arguments`. The provided</span>
<span class="token comment">/// `context` is the `BuildContext` of the [Navigator] to which the route is</span>
<span class="token comment">/// added.</span>
<span class="token comment">///</span>
<span class="token comment">/// Used by the restorable methods of the [Navigator] that add anonymous routes</span>
<span class="token comment">/// (e.g. [NavigatorState.restorablePush]). For this use case, the</span>
<span class="token comment">/// [RestorableRouteBuilder] must be static function annotated with</span>
<span class="token comment">/// `@pragma('vm:entry-point')`. The [Navigator] will call it again during</span>
<span class="token comment">/// state restoration to re-create the route.</span>
<span class="token keyword">typedef</span> <span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token operator">=</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/// Signature for the [Navigator.popUntil] predicate argument.</span>
<span class="token keyword">typedef</span> <span class="token class-name">RoutePredicate</span> <span class="token operator">=</span> bool <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/// Signature for a callback that verifies that it's OK to call [Navigator.pop].</span>
<span class="token comment">///</span>
<span class="token comment">/// Used by [Form.onWillPop], [ModalRoute.addScopedWillPopCallback],</span>
<span class="token comment">/// [ModalRoute.removeScopedWillPopCallback], and [WillPopScope].</span>
<span class="token metadata function">@Deprecated</span><span class="token punctuation">(</span>
  <span class="token string-literal"><span class="token string">'Use PopInvokedCallback instead. '</span></span>
  <span class="token string-literal"><span class="token string">'This feature was deprecated after v3.12.0-1.0.pre.'</span></span><span class="token punctuation">,</span>
<span class="token punctuation">)</span>
<span class="token keyword">typedef</span> <span class="token class-name">WillPopCallback</span> <span class="token operator">=</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/// Signature for the [Navigator.onPopPage] callback.</span>
<span class="token comment">///</span>
<span class="token comment">/// This callback must call [Route.didPop] on the specified route and must</span>
<span class="token comment">/// properly update the pages list the next time it is passed into</span>
<span class="token comment">/// [Navigator.pages] so that it no longer includes the corresponding [Page].</span>
<span class="token comment">/// (Otherwise, the page will be interpreted as a new page to show when the</span>
<span class="token comment">/// [Navigator.pages] list is next updated.)</span>
<span class="token keyword">typedef</span> <span class="token class-name">PopPageCallback</span> <span class="token operator">=</span> bool <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">,</span> <span class="token keyword">dynamic</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/// 指示当前路由是否应该被弹出。</span>
<span class="token comment">///</span>
<span class="token comment">/// 用作 [Route.willPop] 的返回值。</span>
<span class="token comment">///</span>
<span class="token comment">/// 另请参见:</span>
<span class="token comment">///</span>
<span class="token comment">///  * [WillPopScope], 一个连接到路由的 [Route.willPop] 机制的 widget。</span>
<span class="token keyword">enum</span> <span class="token class-name">RoutePopDisposition</span> <span class="token punctuation">{</span>
  <span class="token comment">/// 弹出路由</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果 [Route.willPop] 或者 [Route.popDisposition] 返回 [pop]，</span>
  <span class="token comment">/// 那么返回按钮会弹出当前路由。</span>
  pop<span class="token punctuation">,</span>

  <span class="token comment">/// 不弹出路由</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果 [Route.willPop] 或者 [Route.popDisposition] 返回 [doNotPop]，</span>
  <span class="token comment">/// 返回按钮会被忽略。</span>
  doNotPop<span class="token punctuation">,</span>

  <span class="token comment">/// 交给下一个层级的导航器。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果 [Route.willPop] 或 [Route.popDisposition] 返回 [bubble]，则返回按钮会</span>
  <span class="token comment">/// 由 [SystemNavigator] 处理,通常会关闭应用程序。</span>
  bubble<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token comment">/// The default implementation of [TransitionDelegate] that the [Navigator] will</span>
<span class="token comment">/// use if its [Navigator.transitionDelegate] is not specified.</span>
<span class="token comment">///</span>
<span class="token comment">/// This transition delegate follows two rules. Firstly, all the entering routes</span>
<span class="token comment">/// are placed on top of the exiting routes if they are at the same location.</span>
<span class="token comment">/// Secondly, the top most route will always transition with an animated transition.</span>
<span class="token comment">/// All the other routes below will either be completed with</span>
<span class="token comment">/// [Route.currentResult] or added without an animated transition.</span>
<span class="token keyword">class</span> <span class="token class-name">DefaultTransitionDelegate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">TransitionDelegate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/// Creates a default transition delegate.</span>
  <span class="token keyword">const</span> <span class="token class-name">DefaultTransitionDelegate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    required <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> newPageRouteHistory<span class="token punctuation">,</span>
    required <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> locationToExitingPageRoute<span class="token punctuation">,</span>
    required <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> pageRouteToPagelessRoutes<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> results <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// This method will handle the exiting route and its corresponding pageless</span>
    <span class="token comment">// route at this location. It will also recursively check if there is any</span>
    <span class="token comment">// other exiting routes above it and handle them accordingly.</span>
    <span class="token keyword">void</span> <span class="token function">handleExitingRoute</span><span class="token punctuation">(</span><span class="token class-name">RouteTransitionRecord</span><span class="token operator">?</span> location<span class="token punctuation">,</span> bool isLast<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> <span class="token class-name">RouteTransitionRecord</span><span class="token operator">?</span> exitingPageRoute <span class="token operator">=</span> locationToExitingPageRoute<span class="token punctuation">[</span>location<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>exitingPageRoute <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>exitingPageRoute<span class="token punctuation">.</span>isWaitingForExitingDecision<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> bool hasPagelessRoute <span class="token operator">=</span> pageRouteToPagelessRoutes<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>exitingPageRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">final</span> bool isLastExitingPageRoute <span class="token operator">=</span> isLast <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>locationToExitingPageRoute<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>exitingPageRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>isLastExitingPageRoute <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>hasPagelessRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          exitingPageRoute<span class="token punctuation">.</span><span class="token function">markForPop</span><span class="token punctuation">(</span>exitingPageRoute<span class="token punctuation">.</span>route<span class="token punctuation">.</span>currentResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          exitingPageRoute<span class="token punctuation">.</span><span class="token function">markForComplete</span><span class="token punctuation">(</span>exitingPageRoute<span class="token punctuation">.</span>route<span class="token punctuation">.</span>currentResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>hasPagelessRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> pagelessRoutes <span class="token operator">=</span> pageRouteToPagelessRoutes<span class="token punctuation">[</span>exitingPageRoute<span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">;</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">RouteTransitionRecord</span> pagelessRoute <span class="token keyword">in</span> pagelessRoutes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// It is possible that a pageless route that belongs to an exiting</span>
            <span class="token comment">// page-based route does not require exiting decision. This can</span>
            <span class="token comment">// happen if the page list is updated right after a Navigator.pop.</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>pagelessRoute<span class="token punctuation">.</span>isWaitingForExitingDecision<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>isLastExitingPageRoute <span class="token operator">&amp;&amp;</span> pagelessRoute <span class="token operator">==</span> pagelessRoutes<span class="token punctuation">.</span>last<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                pagelessRoute<span class="token punctuation">.</span><span class="token function">markForPop</span><span class="token punctuation">(</span>pagelessRoute<span class="token punctuation">.</span>route<span class="token punctuation">.</span>currentResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
                pagelessRoute<span class="token punctuation">.</span><span class="token function">markForComplete</span><span class="token punctuation">(</span>pagelessRoute<span class="token punctuation">.</span>route<span class="token punctuation">.</span>currentResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      results<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>exitingPageRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token comment">// It is possible there is another exiting route above this exitingPageRoute.</span>
      <span class="token function">handleExitingRoute</span><span class="token punctuation">(</span>exitingPageRoute<span class="token punctuation">,</span> isLast<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Handles exiting route in the beginning of list.</span>
    <span class="token function">handleExitingRoute</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> newPageRouteHistory<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">RouteTransitionRecord</span> pageRoute <span class="token keyword">in</span> newPageRouteHistory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> bool isLastIteration <span class="token operator">=</span> newPageRouteHistory<span class="token punctuation">.</span>last <span class="token operator">==</span> pageRoute<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>pageRoute<span class="token punctuation">.</span>isWaitingForEnteringDecision<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>locationToExitingPageRoute<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>pageRoute<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> isLastIteration<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          pageRoute<span class="token punctuation">.</span><span class="token function">markForPush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          pageRoute<span class="token punctuation">.</span><span class="token function">markForAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      results<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>pageRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">handleExitingRoute</span><span class="token punctuation">(</span>pageRoute<span class="token punctuation">,</span> isLastIteration<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> results<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/// The default value of [Navigator.routeTraversalEdgeBehavior].</span>
<span class="token comment">///</span>
<span class="token comment">/// {@macro flutter.widgets.navigator.routeTraversalEdgeBehavior}</span>
<span class="token keyword">const</span> <span class="token class-name">TraversalEdgeBehavior</span> kDefaultRouteTraversalEdgeBehavior <span class="token operator">=</span> <span class="token class-name">TraversalEdgeBehavior</span><span class="token punctuation">.</span>parentScope<span class="token punctuation">;</span>

<span class="token comment">/// A widget that manages a set of child widgets with a stack discipline.</span>
<span class="token comment">///</span>
<span class="token comment">/// Many apps have a navigator near the top of their widget hierarchy in order</span>
<span class="token comment">/// to display their logical history using an [Overlay] with the most recently</span>
<span class="token comment">/// visited pages visually on top of the older pages. Using this pattern lets</span>
<span class="token comment">/// the navigator visually transition from one page to another by moving the widgets</span>
<span class="token comment">/// around in the overlay. Similarly, the navigator can be used to show a dialog</span>
<span class="token comment">/// by positioning the dialog widget above the current page.</span>
<span class="token comment">///</span>
<span class="token comment">/// ## Using the Pages API</span>
<span class="token comment">///</span>
<span class="token comment">/// The [Navigator] will convert its [Navigator.pages] into a stack of [Route]s</span>
<span class="token comment">/// if it is provided. A change in [Navigator.pages] will trigger an update to</span>
<span class="token comment">/// the stack of [Route]s. The [Navigator] will update its routes to match the</span>
<span class="token comment">/// new configuration of its [Navigator.pages]. To use this API, one can create</span>
<span class="token comment">/// a [Page] subclass and defines a list of [Page]s for [Navigator.pages]. A</span>
<span class="token comment">/// [Navigator.onPopPage] callback is also required to properly clean up the</span>
<span class="token comment">/// input pages in case of a pop.</span>
<span class="token comment">///</span>
<span class="token comment">/// By Default, the [Navigator] will use [DefaultTransitionDelegate] to decide</span>
<span class="token comment">/// how routes transition in or out of the screen. To customize it, define a</span>
<span class="token comment">/// [TransitionDelegate] subclass and provide it to the</span>
<span class="token comment">/// [Navigator.transitionDelegate].</span>
<span class="token comment">///</span>
<span class="token comment">/// For more information on using the pages API, see the [Router] widget.</span>
<span class="token comment">///</span>
<span class="token comment">/// ## Using the Navigator API</span>
<span class="token comment">///</span>
<span class="token comment">/// Mobile apps typically reveal their contents via full-screen elements</span>
<span class="token comment">/// called &quot;screens&quot; or &quot;pages&quot;. In Flutter these elements are called</span>
<span class="token comment">/// routes and they're managed by a [Navigator] widget. The navigator</span>
<span class="token comment">/// manages a stack of [Route] objects and provides two ways for managing</span>
<span class="token comment">/// the stack, the declarative API [Navigator.pages] or imperative API</span>
<span class="token comment">/// [Navigator.push] and [Navigator.pop].</span>
<span class="token comment">///</span>
<span class="token comment">/// When your user interface fits this paradigm of a stack, where the user</span>
<span class="token comment">/// should be able to _navigate_ back to an earlier element in the stack,</span>
<span class="token comment">/// the use of routes and the Navigator is appropriate. On certain platforms,</span>
<span class="token comment">/// such as Android, the system UI will provide a back button (outside the</span>
<span class="token comment">/// bounds of your application) that will allow the user to navigate back</span>
<span class="token comment">/// to earlier routes in your application's stack. On platforms that don't</span>
<span class="token comment">/// have this build-in navigation mechanism, the use of an [AppBar] (typically</span>
<span class="token comment">/// used in the [Scaffold.appBar] property) can automatically add a back</span>
<span class="token comment">/// button for user navigation.</span>
<span class="token comment">///</span>
<span class="token comment">/// ### Displaying a full-screen route</span>
<span class="token comment">///</span>
<span class="token comment">/// Although you can create a navigator directly, it's most common to use the</span>
<span class="token comment">/// navigator created by the `Router` which itself is created and configured by</span>
<span class="token comment">/// a [WidgetsApp] or a [MaterialApp] widget. You can refer to that navigator</span>
<span class="token comment">/// with [Navigator.of].</span>
<span class="token comment">///</span>
<span class="token comment">/// A [MaterialApp] is the simplest way to set things up. The [MaterialApp]'s</span>
<span class="token comment">/// home becomes the route at the bottom of the [Navigator]'s stack. It is what</span>
<span class="token comment">/// you see when the app is launched.</span>
<span class="token comment">///</span>
<span class="token comment">/// ```dart</span>
<span class="token comment">/// void main() {</span>
<span class="token comment">///   runApp(const MaterialApp(home: MyAppHome()));</span>
<span class="token comment">/// }</span>
<span class="token comment">/// ```</span>
<span class="token comment">///</span>
<span class="token comment">/// To push a new route on the stack you can create an instance of</span>
<span class="token comment">/// [MaterialPageRoute] with a builder function that creates whatever you</span>
<span class="token comment">/// want to appear on the screen. For example:</span>
<span class="token comment">///</span>
<span class="token comment">/// ```dart</span>
<span class="token comment">/// Navigator.push(context, MaterialPageRoute&lt;void&gt;(</span>
<span class="token comment">///   builder: (BuildContext context) {</span>
<span class="token comment">///     return Scaffold(</span>
<span class="token comment">///       appBar: AppBar(title: const Text('My Page')),</span>
<span class="token comment">///       body: Center(</span>
<span class="token comment">///         child: TextButton(</span>
<span class="token comment">///           child: const Text('POP'),</span>
<span class="token comment">///           onPressed: () {</span>
<span class="token comment">///             Navigator.pop(context);</span>
<span class="token comment">///           },</span>
<span class="token comment">///         ),</span>
<span class="token comment">///       ),</span>
<span class="token comment">///     );</span>
<span class="token comment">///   },</span>
<span class="token comment">/// ));</span>
<span class="token comment">/// ```</span>
<span class="token comment">///</span>
<span class="token comment">/// The route defines its widget with a builder function instead of a</span>
<span class="token comment">/// child widget because it will be built and rebuilt in different</span>
<span class="token comment">/// contexts depending on when it's pushed and popped.</span>
<span class="token comment">///</span>
<span class="token comment">/// As you can see, the new route can be popped, revealing the app's home</span>
<span class="token comment">/// page, with the Navigator's pop method:</span>
<span class="token comment">///</span>
<span class="token comment">/// ```dart</span>
<span class="token comment">/// Navigator.pop(context);</span>
<span class="token comment">/// ```</span>
<span class="token comment">///</span>
<span class="token comment">/// It usually isn't necessary to provide a widget that pops the Navigator</span>
<span class="token comment">/// in a route with a [Scaffold] because the Scaffold automatically adds a</span>
<span class="token comment">/// 'back' button to its AppBar. Pressing the back button causes</span>
<span class="token comment">/// [Navigator.pop] to be called. On Android, pressing the system back</span>
<span class="token comment">/// button does the same thing.</span>
<span class="token comment">///</span>
<span class="token comment">/// ### Using named navigator routes</span>
<span class="token comment">///</span>
<span class="token comment">/// Mobile apps often manage a large number of routes and it's often</span>
<span class="token comment">/// easiest to refer to them by name. Route names, by convention,</span>
<span class="token comment">/// use a path-like structure (for example, '/a/b/c').</span>
<span class="token comment">/// The app's home page route is named '/' by default.</span>
<span class="token comment">///</span>
<span class="token comment">/// The [MaterialApp] can be created</span>
<span class="token comment">/// with a [Map&lt;String, WidgetBuilder&gt;] which maps from a route's name to</span>
<span class="token comment">/// a builder function that will create it. The [MaterialApp] uses this</span>
<span class="token comment">/// map to create a value for its navigator's [onGenerateRoute] callback.</span>
<span class="token comment">///</span>
<span class="token comment">/// ```dart</span>
<span class="token comment">/// void main() {</span>
<span class="token comment">///   runApp(MaterialApp(</span>
<span class="token comment">///     home: const MyAppHome(), // becomes the route named '/'</span>
<span class="token comment">///     routes: &lt;String, WidgetBuilder&gt; {</span>
<span class="token comment">///       '/a': (BuildContext context) =&gt; const MyPage(title: Text('page A')),</span>
<span class="token comment">///       '/b': (BuildContext context) =&gt; const MyPage(title: Text('page B')),</span>
<span class="token comment">///       '/c': (BuildContext context) =&gt; const MyPage(title: Text('page C')),</span>
<span class="token comment">///     },</span>
<span class="token comment">///   ));</span>
<span class="token comment">/// }</span>
<span class="token comment">/// ```</span>
<span class="token comment">///</span>
<span class="token comment">/// To show a route by name:</span>
<span class="token comment">///</span>
<span class="token comment">/// ```dart</span>
<span class="token comment">/// Navigator.pushNamed(context, '/b');</span>
<span class="token comment">/// ```</span>
<span class="token comment">///</span>
<span class="token comment">/// ### Routes can return a value</span>
<span class="token comment">///</span>
<span class="token comment">/// When a route is pushed to ask the user for a value, the value can be</span>
<span class="token comment">/// returned via the [pop] method's result parameter.</span>
<span class="token comment">///</span>
<span class="token comment">/// Methods that push a route return a [Future]. The Future resolves when the</span>
<span class="token comment">/// route is popped and the [Future]'s value is the [pop] method's `result`</span>
<span class="token comment">/// parameter.</span>
<span class="token comment">///</span>
<span class="token comment">/// For example if we wanted to ask the user to press 'OK' to confirm an</span>
<span class="token comment">/// operation we could `await` the result of [Navigator.push]:</span>
<span class="token comment">///</span>
<span class="token comment">/// ```dart</span>
<span class="token comment">/// bool? value = await Navigator.push(context, MaterialPageRoute&lt;bool&gt;(</span>
<span class="token comment">///   builder: (BuildContext context) {</span>
<span class="token comment">///     return Center(</span>
<span class="token comment">///       child: GestureDetector(</span>
<span class="token comment">///         child: const Text('OK'),</span>
<span class="token comment">///         onTap: () { Navigator.pop(context, true); }</span>
<span class="token comment">///       ),</span>
<span class="token comment">///     );</span>
<span class="token comment">///   }</span>
<span class="token comment">/// ));</span>
<span class="token comment">/// ```</span>
<span class="token comment">///</span>
<span class="token comment">/// If the user presses 'OK' then value will be true. If the user backs</span>
<span class="token comment">/// out of the route, for example by pressing the Scaffold's back button,</span>
<span class="token comment">/// the value will be null.</span>
<span class="token comment">///</span>
<span class="token comment">/// When a route is used to return a value, the route's type parameter must</span>
<span class="token comment">/// match the type of [pop]'s result. That's why we've used</span>
<span class="token comment">/// `MaterialPageRoute&lt;bool&gt;` instead of `MaterialPageRoute&lt;void&gt;` or just</span>
<span class="token comment">/// `MaterialPageRoute`. (If you prefer to not specify the types, though, that's</span>
<span class="token comment">/// fine too.)</span>
<span class="token comment">///</span>
<span class="token comment">/// ### Popup routes</span>
<span class="token comment">///</span>
<span class="token comment">/// Routes don't have to obscure the entire screen. [PopupRoute]s cover the</span>
<span class="token comment">/// screen with a [ModalRoute.barrierColor] that can be only partially opaque to</span>
<span class="token comment">/// allow the current screen to show through. Popup routes are &quot;modal&quot; because</span>
<span class="token comment">/// they block input to the widgets below.</span>
<span class="token comment">///</span>
<span class="token comment">/// There are functions which create and show popup routes. For</span>
<span class="token comment">/// example: [showDialog], [showMenu], and [showModalBottomSheet]. These</span>
<span class="token comment">/// functions return their pushed route's Future as described above.</span>
<span class="token comment">/// Callers can await the returned value to take an action when the</span>
<span class="token comment">/// route is popped, or to discover the route's value.</span>
<span class="token comment">///</span>
<span class="token comment">/// There are also widgets which create popup routes, like [PopupMenuButton] and</span>
<span class="token comment">/// [DropdownButton]. These widgets create internal subclasses of PopupRoute</span>
<span class="token comment">/// and use the Navigator's push and pop methods to show and dismiss them.</span>
<span class="token comment">///</span>
<span class="token comment">/// ### Custom routes</span>
<span class="token comment">///</span>
<span class="token comment">/// You can create your own subclass of one of the widget library route classes</span>
<span class="token comment">/// like [PopupRoute], [ModalRoute], or [PageRoute], to control the animated</span>
<span class="token comment">/// transition employed to show the route, the color and behavior of the route's</span>
<span class="token comment">/// modal barrier, and other aspects of the route.</span>
<span class="token comment">///</span>
<span class="token comment">/// The [PageRouteBuilder] class makes it possible to define a custom route</span>
<span class="token comment">/// in terms of callbacks. Here's an example that rotates and fades its child</span>
<span class="token comment">/// when the route appears or disappears. This route does not obscure the entire</span>
<span class="token comment">/// screen because it specifies `opaque: false`, just as a popup route does.</span>
<span class="token comment">///</span>
<span class="token comment">/// ```dart</span>
<span class="token comment">/// Navigator.push(context, PageRouteBuilder&lt;void&gt;(</span>
<span class="token comment">///   opaque: false,</span>
<span class="token comment">///   pageBuilder: (BuildContext context, _, __) {</span>
<span class="token comment">///     return const Center(child: Text('My PageRoute'));</span>
<span class="token comment">///   },</span>
<span class="token comment">///   transitionsBuilder: (___, Animation&lt;double&gt; animation, ____, Widget child) {</span>
<span class="token comment">///     return FadeTransition(</span>
<span class="token comment">///       opacity: animation,</span>
<span class="token comment">///       child: RotationTransition(</span>
<span class="token comment">///         turns: Tween&lt;double&gt;(begin: 0.5, end: 1.0).animate(animation),</span>
<span class="token comment">///         child: child,</span>
<span class="token comment">///       ),</span>
<span class="token comment">///     );</span>
<span class="token comment">///   }</span>
<span class="token comment">/// ));</span>
<span class="token comment">/// ```</span>
<span class="token comment">///</span>
<span class="token comment">/// The page route is built in two parts, the &quot;page&quot; and the</span>
<span class="token comment">/// &quot;transitions&quot;. The page becomes a descendant of the child passed to</span>
<span class="token comment">/// the `transitionsBuilder` function. Typically the page is only built once,</span>
<span class="token comment">/// because it doesn't depend on its animation parameters (elided with `_`</span>
<span class="token comment">/// and `__` in this example). The transition is built on every frame</span>
<span class="token comment">/// for its duration.</span>
<span class="token comment">///</span>
<span class="token comment">/// (In this example, `void` is used as the return type for the route, because</span>
<span class="token comment">/// it does not return a value.)</span>
<span class="token comment">///</span>
<span class="token comment">/// ### Nesting Navigators</span>
<span class="token comment">///</span>
<span class="token comment">/// An app can use more than one [Navigator]. Nesting one [Navigator] below</span>
<span class="token comment">/// another [Navigator] can be used to create an &quot;inner journey&quot; such as tabbed</span>
<span class="token comment">/// navigation, user registration, store checkout, or other independent journeys</span>
<span class="token comment">/// that represent a subsection of your overall application.</span>
<span class="token comment">///</span>
<span class="token comment">/// #### Example</span>
<span class="token comment">///</span>
<span class="token comment">/// It is standard practice for iOS apps to use tabbed navigation where each</span>
<span class="token comment">/// tab maintains its own navigation history. Therefore, each tab has its own</span>
<span class="token comment">/// [Navigator], creating a kind of &quot;parallel navigation.&quot;</span>
<span class="token comment">///</span>
<span class="token comment">/// In addition to the parallel navigation of the tabs, it is still possible to</span>
<span class="token comment">/// launch full-screen pages that completely cover the tabs. For example: an</span>
<span class="token comment">/// on-boarding flow, or an alert dialog. Therefore, there must exist a &quot;root&quot;</span>
<span class="token comment">/// [Navigator] that sits above the tab navigation. As a result, each of the</span>
<span class="token comment">/// tab's [Navigator]s are actually nested [Navigator]s sitting below a single</span>
<span class="token comment">/// root [Navigator].</span>
<span class="token comment">///</span>
<span class="token comment">/// In practice, the nested [Navigator]s for tabbed navigation sit in the</span>
<span class="token comment">/// [WidgetsApp] and [CupertinoTabView] widgets and do not need to be explicitly</span>
<span class="token comment">/// created or managed.</span>
<span class="token comment">///</span>
<span class="token comment">/// {@tool sample}</span>
<span class="token comment">/// The following example demonstrates how a nested [Navigator] can be used to</span>
<span class="token comment">/// present a standalone user registration journey.</span>
<span class="token comment">///</span>
<span class="token comment">/// Even though this example uses two [Navigator]s to demonstrate nested</span>
<span class="token comment">/// [Navigator]s, a similar result is possible using only a single [Navigator].</span>
<span class="token comment">///</span>
<span class="token comment">/// Run this example with `flutter run --route=/signup` to start it with</span>
<span class="token comment">/// the signup flow instead of on the home page.</span>
<span class="token comment">///</span>
<span class="token comment">/// ** See code in examples/api/lib/widgets/navigator/navigator.0.dart **</span>
<span class="token comment">/// {@end-tool}</span>
<span class="token comment">///</span>
<span class="token comment">/// [Navigator.of] operates on the nearest ancestor [Navigator] from the given</span>
<span class="token comment">/// [BuildContext]. Be sure to provide a [BuildContext] below the intended</span>
<span class="token comment">/// [Navigator], especially in large `build` methods where nested [Navigator]s</span>
<span class="token comment">/// are created. The [Builder] widget can be used to access a [BuildContext] at</span>
<span class="token comment">/// a desired location in the widget subtree.</span>
<span class="token comment">///</span>
<span class="token comment">/// ### Finding the enclosing route</span>
<span class="token comment">///</span>
<span class="token comment">/// In the common case of a modal route, the enclosing route can be obtained</span>
<span class="token comment">/// from inside a build method using [ModalRoute.of]. To determine if the</span>
<span class="token comment">/// enclosing route is the active route (e.g. so that controls can be dimmed</span>
<span class="token comment">/// when the route is not active), the [Route.isCurrent] property can be checked</span>
<span class="token comment">/// on the returned route.</span>
<span class="token comment">///</span>
<span class="token comment">/// ## State Restoration</span>
<span class="token comment">///</span>
<span class="token comment">/// If provided with a [restorationScopeId] and when surrounded by a valid</span>
<span class="token comment">/// [RestorationScope] the [Navigator] will restore its state by recreating</span>
<span class="token comment">/// the current history stack of [Route]s during state restoration and by</span>
<span class="token comment">/// restoring the internal state of those [Route]s. However, not all [Route]s</span>
<span class="token comment">/// on the stack can be restored:</span>
<span class="token comment">///</span>
<span class="token comment">///  * [Page]-based routes restore their state if [Page.restorationId] is</span>
<span class="token comment">///    provided.</span>
<span class="token comment">///  * [Route]s added with the classic imperative API ([push], [pushNamed], and</span>
<span class="token comment">///    friends) can never restore their state.</span>
<span class="token comment">///  * A [Route] added with the restorable imperative API ([restorablePush],</span>
<span class="token comment">///    [restorablePushNamed], and all other imperative methods with &quot;restorable&quot;</span>
<span class="token comment">///    in their name) restores its state if all routes below it up to and</span>
<span class="token comment">///    including the first [Page]-based route below it are restored. If there</span>
<span class="token comment">///    is no [Page]-based route below it, it only restores its state if all</span>
<span class="token comment">///    routes below it restore theirs.</span>
<span class="token comment">///</span>
<span class="token comment">/// If a [Route] is deemed restorable, the [Navigator] will set its</span>
<span class="token comment">/// [Route.restorationScopeId] to a non-null value. Routes can use that ID to</span>
<span class="token comment">/// store and restore their own state. As an example, the [ModalRoute] will</span>
<span class="token comment">/// use this ID to create a [RestorationScope] for its content widgets.</span>
<span class="token keyword">class</span> <span class="token class-name">Navigator</span> <span class="token keyword">extends</span> <span class="token class-name">StatefulWidget</span> <span class="token punctuation">{</span>
  <span class="token comment">/// Creates a widget that maintains a stack-based history of child widgets.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If the [pages] is not empty, the [onPopPage] must not be null.</span>
  <span class="token keyword">const</span> <span class="token class-name">Navigator</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>key<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>pages <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Page</span><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onPopPage<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>initialRoute<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onGenerateInitialRoutes <span class="token operator">=</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span>defaultGenerateInitialRoutes<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onGenerateRoute<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onUnknownRoute<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>transitionDelegate <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token class-name">DefaultTransitionDelegate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>reportsRouteUpdateToEngine <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>clipBehavior <span class="token operator">=</span> <span class="token class-name">Clip</span><span class="token punctuation">.</span>hardEdge<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>observers <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorObserver</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>requestFocus <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>restorationScopeId<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>routeTraversalEdgeBehavior <span class="token operator">=</span> kDefaultRouteTraversalEdgeBehavior<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// The list of pages with which to populate the history.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Pages are turned into routes using [Page.createRoute] in a manner</span>
  <span class="token comment">/// analogous to how [Widget]s are turned into [Element]s (and [State]s or</span>
  <span class="token comment">/// [RenderObject]s) using [Widget.createElement] (and</span>
  <span class="token comment">/// [StatefulWidget.createState] or [RenderObjectWidget.createRenderObject]).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// When this list is updated, the new list is compared to the previous</span>
  <span class="token comment">/// list and the set of routes is updated accordingly.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Some [Route]s do not correspond to [Page] objects, namely, those that are</span>
  <span class="token comment">/// added to the history using the [Navigator] API ([push] and friends). A</span>
  <span class="token comment">/// [Route] that does not correspond to a [Page] object is called a pageless</span>
  <span class="token comment">/// route and is tied to the [Route] that _does_ correspond to a [Page] object</span>
  <span class="token comment">/// that is below it in the history.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Pages that are added or removed may be animated as controlled by the</span>
  <span class="token comment">/// [transitionDelegate]. If a page is removed that had other pageless routes</span>
  <span class="token comment">/// pushed on top of it using [push] and friends, those pageless routes are</span>
  <span class="token comment">/// also removed with or without animation as determined by the</span>
  <span class="token comment">/// [transitionDelegate].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// To use this API, an [onPopPage] callback must also be provided to properly</span>
  <span class="token comment">/// clean up this list if a page has been popped.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If [initialRoute] is non-null when the widget is first created, then</span>
  <span class="token comment">/// [onGenerateInitialRoutes] is used to generate routes that are above those</span>
  <span class="token comment">/// corresponding to [pages] in the initial history.</span>
  <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Page</span><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> pages<span class="token punctuation">;</span>

  <span class="token comment">/// Called when [pop] is invoked but the current [Route] corresponds to a</span>
  <span class="token comment">/// [Page] found in the [pages] list.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `result` argument is the value with which the route is to complete</span>
  <span class="token comment">/// (e.g. the value returned from a dialog).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// This callback is responsible for calling [Route.didPop] and returning</span>
  <span class="token comment">/// whether this pop is successful.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The [Navigator] widget should be rebuilt with a [pages] list that does not</span>
  <span class="token comment">/// contain the [Page] for the given [Route]. The next time the [pages] list</span>
  <span class="token comment">/// is updated, if the [Page] corresponding to this [Route] is still present,</span>
  <span class="token comment">/// it will be interpreted as a new route to display.</span>
  <span class="token keyword">final</span> <span class="token class-name">PopPageCallback</span><span class="token operator">?</span> onPopPage<span class="token punctuation">;</span>

  <span class="token comment">/// The delegate used for deciding how routes transition in or off the screen</span>
  <span class="token comment">/// during the [pages] updates.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Defaults to [DefaultTransitionDelegate].</span>
  <span class="token keyword">final</span> <span class="token class-name">TransitionDelegate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> transitionDelegate<span class="token punctuation">;</span>

  <span class="token comment">/// The name of the first route to show.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Defaults to [Navigator.defaultRouteName].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The value is interpreted according to [onGenerateInitialRoutes], which</span>
  <span class="token comment">/// defaults to [defaultGenerateInitialRoutes].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Changing the [initialRoute] will have no effect, as it only controls the</span>
  <span class="token comment">/// _initial_ route. To change the route while the application is running, use</span>
  <span class="token comment">/// the static functions on this class, such as [push] or [replace].</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> initialRoute<span class="token punctuation">;</span>

  <span class="token comment">/// Called to generate a route for a given [RouteSettings].</span>
  <span class="token keyword">final</span> <span class="token class-name">RouteFactory</span><span class="token operator">?</span> onGenerateRoute<span class="token punctuation">;</span>

  <span class="token comment">/// Called when [onGenerateRoute] fails to generate a route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// This callback is typically used for error handling. For example, this</span>
  <span class="token comment">/// callback might always generate a &quot;not found&quot; page that describes the route</span>
  <span class="token comment">/// that wasn't found.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Unknown routes can arise either from errors in the app or from external</span>
  <span class="token comment">/// requests to push routes, such as from Android intents.</span>
  <span class="token keyword">final</span> <span class="token class-name">RouteFactory</span><span class="token operator">?</span> onUnknownRoute<span class="token punctuation">;</span>

  <span class="token comment">/// A list of observers for this navigator.</span>
  <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorObserver</span><span class="token punctuation">&gt;</span></span> observers<span class="token punctuation">;</span>

  <span class="token comment">/// Restoration ID to save and restore the state of the navigator, including</span>
  <span class="token comment">/// its history.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.restorationScopeId}</span>
  <span class="token comment">/// If a restoration ID is provided, the navigator will persist its internal</span>
  <span class="token comment">/// state (including the route history as well as the restorable state of the</span>
  <span class="token comment">/// routes) and restore it during state restoration.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If no restoration ID is provided, the route history stack will not be</span>
  <span class="token comment">/// restored and state restoration is disabled for the individual routes as</span>
  <span class="token comment">/// well.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The state is persisted in a [RestorationBucket] claimed from</span>
  <span class="token comment">/// the surrounding [RestorationScope] using the provided restoration ID.</span>
  <span class="token comment">/// Within that bucket, the [Navigator] also creates a new [RestorationScope]</span>
  <span class="token comment">/// for its children (the [Route]s).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [RestorationManager], which explains how state restoration works in</span>
  <span class="token comment">///    Flutter.</span>
  <span class="token comment">///  * [RestorationMixin], which contains a runnable code sample showcasing</span>
  <span class="token comment">///    state restoration in Flutter.</span>
  <span class="token comment">///  * [Navigator], which explains under the heading &quot;state restoration&quot;</span>
  <span class="token comment">///    how and under what conditions the navigator restores its state.</span>
  <span class="token comment">///  * [Navigator.restorablePush], which includes an example showcasing how</span>
  <span class="token comment">///    to push a restorable route unto the navigator.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> restorationScopeId<span class="token punctuation">;</span>

  <span class="token comment">/// Controls the transfer of focus beyond the first and the last items of a</span>
  <span class="token comment">/// focus scope that defines focus traversal of widgets within a route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.routeTraversalEdgeBehavior}</span>
  <span class="token comment">/// The focus inside routes installed in the top of the app affects how</span>
  <span class="token comment">/// the app behaves with respect to the platform content surrounding it.</span>
  <span class="token comment">/// For example, on the web, an app is at a minimum surrounded by browser UI,</span>
  <span class="token comment">/// such as the address bar, browser tabs, and more. The user should be able</span>
  <span class="token comment">/// to reach browser UI using normal focus shortcuts. Similarly, if the app</span>
  <span class="token comment">/// is embedded within an `&lt;iframe&gt;` or inside a custom element, it should</span>
  <span class="token comment">/// be able to participate in the overall focus traversal, including elements</span>
  <span class="token comment">/// not rendered by Flutter.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token keyword">final</span> <span class="token class-name">TraversalEdgeBehavior</span> routeTraversalEdgeBehavior<span class="token punctuation">;</span>

  <span class="token comment">/// The name for the default route of the application.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [dart:ui.PlatformDispatcher.defaultRouteName], which reflects the route that the</span>
  <span class="token comment">///    application was started with.</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> <span class="token class-name">String</span> defaultRouteName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">;</span>

  <span class="token comment">/// Called when the widget is created to generate the initial list of [Route]</span>
  <span class="token comment">/// objects if [initialRoute] is not null.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Defaults to [defaultGenerateInitialRoutes].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The [NavigatorState] and [initialRoute] will be passed to the callback.</span>
  <span class="token comment">/// The callback must return a list of [Route] objects with which the history</span>
  <span class="token comment">/// will be primed.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// When parsing the initialRoute, if there's any chance that the it may</span>
  <span class="token comment">/// contain complex characters, it's best to use the</span>
  <span class="token comment">/// [characters](https://pub.dev/packages/characters) API. This will ensure</span>
  <span class="token comment">/// that extended grapheme clusters and surrogate pairs are treated as single</span>
  <span class="token comment">/// characters by the code, the same way that they appear to the user. For</span>
  <span class="token comment">/// example, the string &quot;👨‍👩‍👦&quot; appears to the user as a single</span>
  <span class="token comment">/// character and `string.characters.length` intuitively returns 1. On the</span>
  <span class="token comment">/// other hand, `string.length` returns 8, and `string.runes.length` returns</span>
  <span class="token comment">/// 5!</span>
  <span class="token keyword">final</span> <span class="token class-name">RouteListFactory</span> onGenerateInitialRoutes<span class="token punctuation">;</span>

  <span class="token comment">/// Whether this navigator should report route update message back to the</span>
  <span class="token comment">/// engine when the top-most route changes.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If the property is set to true, this navigator automatically sends the</span>
  <span class="token comment">/// route update message to the engine when it detects top-most route changes.</span>
  <span class="token comment">/// The messages are used by the web engine to update the browser URL bar.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If the property is set to true when the [Navigator] is first created,</span>
  <span class="token comment">/// single-entry history mode is requested using</span>
  <span class="token comment">/// [SystemNavigator.selectSingleEntryHistory]. This means this property</span>
  <span class="token comment">/// should not be used at the same time as [PlatformRouteInformationProvider]</span>
  <span class="token comment">/// is used with a [Router] (including when used with [MaterialApp.router],</span>
  <span class="token comment">/// for example).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If there are multiple navigators in the widget tree, at most one of them</span>
  <span class="token comment">/// can set this property to true (typically, the top-most one created from</span>
  <span class="token comment">/// the [WidgetsApp]). Otherwise, the web engine may receive multiple route</span>
  <span class="token comment">/// update messages from different navigators and fail to update the URL</span>
  <span class="token comment">/// bar.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Defaults to false.</span>
  <span class="token keyword">final</span> bool reportsRouteUpdateToEngine<span class="token punctuation">;</span>

  <span class="token comment">/// {@macro flutter.material.Material.clipBehavior}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// In cases where clipping is not desired, consider setting this property to</span>
  <span class="token comment">/// [Clip.none].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Defaults to [Clip.hardEdge].</span>
  <span class="token keyword">final</span> <span class="token class-name">Clip</span> clipBehavior<span class="token punctuation">;</span>

  <span class="token comment">/// Whether or not the navigator and it's new topmost route should request focus</span>
  <span class="token comment">/// when the new route is pushed onto the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Defaults to true.</span>
  <span class="token keyword">final</span> bool requestFocus<span class="token punctuation">;</span>

  <span class="token comment">/// Push a named route onto the navigator that most tightly encloses the given</span>
  <span class="token comment">/// context.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.pushNamed}</span>
  <span class="token comment">/// The route name will be passed to the [Navigator.onGenerateRoute]</span>
  <span class="token comment">/// callback. The returned route will be pushed into the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The new route and the previous route (if any) are notified (see</span>
  <span class="token comment">/// [Route.didPush] and [Route.didChangeNext]). If the [Navigator] has any</span>
  <span class="token comment">/// [Navigator.observers], they will be notified as well (see</span>
  <span class="token comment">/// [NavigatorObserver.didPush]).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Ongoing gestures within the current route are canceled when a new route is</span>
  <span class="token comment">/// pushed.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `T` type argument is the type of the return value of the route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// To use [pushNamed], an [Navigator.onGenerateRoute] callback must be</span>
  <span class="token comment">/// provided,</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">/// Returns a [Future] that completes to the `result` value passed to [pop]</span>
  <span class="token comment">/// when the pushed route is popped off the navigator.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.Navigator.pushNamed}</span>
  <span class="token comment">/// The provided `arguments` are passed to the pushed route via</span>
  <span class="token comment">/// [RouteSettings.arguments]. Any object can be passed as `arguments` (e.g. a</span>
  <span class="token comment">/// [String], [int], or an instance of a custom `MyRouteArguments` class).</span>
  <span class="token comment">/// Often, a [Map] is used to pass key-value pairs.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `arguments` may be used in [Navigator.onGenerateRoute] or</span>
  <span class="token comment">/// [Navigator.onUnknownRoute] to construct the route.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _didPushButton() {</span>
  <span class="token comment">///   Navigator.pushNamed(context, '/settings');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The following example shows how to pass additional `arguments` to the</span>
  <span class="token comment">/// route:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _showBerlinWeather() {</span>
  <span class="token comment">///   Navigator.pushNamed(</span>
  <span class="token comment">///     context,</span>
  <span class="token comment">///     '/weather',</span>
  <span class="token comment">///     arguments: &lt;String, String&gt;{</span>
  <span class="token comment">///       'city': 'Berlin',</span>
  <span class="token comment">///       'country': 'Germany',</span>
  <span class="token comment">///     },</span>
  <span class="token comment">///   );</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The following example shows how to pass a custom Object to the route:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// class WeatherRouteArguments {</span>
  <span class="token comment">///   WeatherRouteArguments({ required this.city, required this.country });</span>
  <span class="token comment">///   final String city;</span>
  <span class="token comment">///   final String country;</span>
  <span class="token comment">///</span>
  <span class="token comment">///   bool get isGermanCapital {</span>
  <span class="token comment">///     return country == 'Germany' &amp;&amp; city == 'Berlin';</span>
  <span class="token comment">///   }</span>
  <span class="token comment">/// }</span>
  <span class="token comment">///</span>
  <span class="token comment">/// void _showWeather() {</span>
  <span class="token comment">///   Navigator.pushNamed(</span>
  <span class="token comment">///     context,</span>
  <span class="token comment">///     '/weather',</span>
  <span class="token comment">///     arguments: WeatherRouteArguments(city: 'Berlin', country: 'Germany'),</span>
  <span class="token comment">///   );</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePushNamed], which pushes a route that can be restored</span>
  <span class="token comment">///    during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> pushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>pushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>routeName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push a named route onto the navigator that most tightly encloses the given</span>
  <span class="token comment">/// context.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.restorablePushNamed}</span>
  <span class="token comment">/// Unlike [Route]s pushed via [pushNamed], [Route]s pushed with this method</span>
  <span class="token comment">/// are restored during state restoration according to the rules outlined</span>
  <span class="token comment">/// in the &quot;State Restoration&quot; section of [Navigator].</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.Navigator.restorablePushNamed.arguments}</span>
  <span class="token comment">/// The provided `arguments` are passed to the pushed route via</span>
  <span class="token comment">/// [RouteSettings.arguments]. Any object that is serializable via the</span>
  <span class="token comment">/// [StandardMessageCodec] can be passed as `arguments`. Often, a Map is used</span>
  <span class="token comment">/// to pass key-value pairs.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The arguments may be used in [Navigator.onGenerateRoute] or</span>
  <span class="token comment">/// [Navigator.onUnknownRoute] to construct the route.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">/// The method returns an opaque ID for the pushed route that can be used by</span>
  <span class="token comment">/// the [RestorableRouteFuture] to gain access to the actual [Route] object</span>
  <span class="token comment">/// added to the navigator and its return value. You can ignore the return</span>
  <span class="token comment">/// value of this method, if you do not care about the route object or the</span>
  <span class="token comment">/// route's return value.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _showParisWeather() {</span>
  <span class="token comment">///   Navigator.restorablePushNamed(</span>
  <span class="token comment">///     context,</span>
  <span class="token comment">///     '/weather',</span>
  <span class="token comment">///     arguments: &lt;String, String&gt;{</span>
  <span class="token comment">///       'city': 'Paris',</span>
  <span class="token comment">///       'country': 'France',</span>
  <span class="token comment">///     },</span>
  <span class="token comment">///   );</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> restorablePushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>restorablePushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>routeName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replace the current route of the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context by pushing the route named [routeName] and then disposing</span>
  <span class="token comment">/// the previous route once the new route has finished animating in.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.pushReplacementNamed}</span>
  <span class="token comment">/// If non-null, `result` will be used as the result of the route that is</span>
  <span class="token comment">/// removed; the future that had been returned from pushing that old route</span>
  <span class="token comment">/// will complete with `result`. Routes such as dialogs or popup menus</span>
  <span class="token comment">/// typically use this mechanism to return the value selected by the user to</span>
  <span class="token comment">/// the widget that created their route. The type of `result`, if provided,</span>
  <span class="token comment">/// must match the type argument of the class of the old route (`TO`).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The route name will be passed to the [Navigator.onGenerateRoute]</span>
  <span class="token comment">/// callback. The returned route will be pushed into the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The new route and the route below the removed route are notified (see</span>
  <span class="token comment">/// [Route.didPush] and [Route.didChangeNext]). If the [Navigator] has any</span>
  <span class="token comment">/// [Navigator.observers], they will be notified as well (see</span>
  <span class="token comment">/// [NavigatorObserver.didReplace]). The removed route is notified once the</span>
  <span class="token comment">/// new route has finished animating (see [Route.didComplete]). The removed</span>
  <span class="token comment">/// route's exit animation is not run (see [popAndPushNamed] for a variant</span>
  <span class="token comment">/// that does animated the removed route).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Ongoing gestures within the current route are canceled when a new route is</span>
  <span class="token comment">/// pushed.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `T` type argument is the type of the return value of the new route,</span>
  <span class="token comment">/// and `TO` is the type of the return value of the old route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// To use [pushReplacementNamed], a [Navigator.onGenerateRoute] callback must</span>
  <span class="token comment">/// be provided.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.pushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _switchToBrightness() {</span>
  <span class="token comment">///   Navigator.pushReplacementNamed(context, '/settings/brightness');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePushReplacementNamed], which pushes a replacement route that</span>
  <span class="token comment">///    can be restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> pushReplacementNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    TO<span class="token operator">?</span> result<span class="token punctuation">,</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>pushReplacementNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> TO<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>routeName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span> result<span class="token punctuation">:</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replace the current route of the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context by pushing the route named [routeName] and then disposing</span>
  <span class="token comment">/// the previous route once the new route has finished animating in.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.restorablePushReplacementNamed}</span>
  <span class="token comment">/// Unlike [Route]s pushed via [pushReplacementNamed], [Route]s pushed with</span>
  <span class="token comment">/// this method are restored during state restoration according to the rules</span>
  <span class="token comment">/// outlined in the &quot;State Restoration&quot; section of [Navigator].</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushReplacementNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.arguments}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _switchToAudioVolume() {</span>
  <span class="token comment">///   Navigator.restorablePushReplacementNamed(context, '/settings/volume');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> restorablePushReplacementNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    TO<span class="token operator">?</span> result<span class="token punctuation">,</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>restorablePushReplacementNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> TO<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>routeName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span> result<span class="token punctuation">:</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Pop the current route off the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context and push a named route in its place.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.popAndPushNamed}</span>
  <span class="token comment">/// The popping of the previous route is handled as per [pop].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The new route's name will be passed to the [Navigator.onGenerateRoute]</span>
  <span class="token comment">/// callback. The returned route will be pushed into the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The new route, the old route, and the route below the old route (if any)</span>
  <span class="token comment">/// are all notified (see [Route.didPop], [Route.didComplete],</span>
  <span class="token comment">/// [Route.didPopNext], [Route.didPush], and [Route.didChangeNext]). If the</span>
  <span class="token comment">/// [Navigator] has any [Navigator.observers], they will be notified as well</span>
  <span class="token comment">/// (see [NavigatorObserver.didPop] and [NavigatorObserver.didPush]). The</span>
  <span class="token comment">/// animations for the pop and the push are performed simultaneously, so the</span>
  <span class="token comment">/// route below may be briefly visible even if both the old route and the new</span>
  <span class="token comment">/// route are opaque (see [TransitionRoute.opaque]).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Ongoing gestures within the current route are canceled when a new route is</span>
  <span class="token comment">/// pushed.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `T` type argument is the type of the return value of the new route,</span>
  <span class="token comment">/// and `TO` is the return value type of the old route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// To use [popAndPushNamed], a [Navigator.onGenerateRoute] callback must be provided.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.pushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _selectAccessibility() {</span>
  <span class="token comment">///   Navigator.popAndPushNamed(context, '/settings/accessibility');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePopAndPushNamed], which pushes a new route that can be</span>
  <span class="token comment">///    restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> popAndPushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    TO<span class="token operator">?</span> result<span class="token punctuation">,</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>popAndPushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> TO<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>routeName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span> result<span class="token punctuation">:</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Pop the current route off the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context and push a named route in its place.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.restorablePopAndPushNamed}</span>
  <span class="token comment">/// Unlike [Route]s pushed via [popAndPushNamed], [Route]s pushed with</span>
  <span class="token comment">/// this method are restored during state restoration according to the rules</span>
  <span class="token comment">/// outlined in the &quot;State Restoration&quot; section of [Navigator].</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.popAndPushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.arguments}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _selectNetwork() {</span>
  <span class="token comment">///   Navigator.restorablePopAndPushNamed(context, '/settings/network');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> restorablePopAndPushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    TO<span class="token operator">?</span> result<span class="token punctuation">,</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>restorablePopAndPushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> TO<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>routeName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span> result<span class="token punctuation">:</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push the route with the given name onto the navigator that most tightly</span>
  <span class="token comment">/// encloses the given context, and then remove all the previous routes until</span>
  <span class="token comment">/// the `predicate` returns true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.pushNamedAndRemoveUntil}</span>
  <span class="token comment">/// The predicate may be applied to the same route more than once if</span>
  <span class="token comment">/// [Route.willHandlePopInternally] is true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// To remove routes until a route with a certain name, use the</span>
  <span class="token comment">/// [RoutePredicate] returned from [ModalRoute.withName].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// To remove all the routes below the pushed route, use a [RoutePredicate]</span>
  <span class="token comment">/// that always returns false (e.g. `(Route&lt;dynamic&gt; route) =&gt; false`).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The removed routes are removed without being completed, so this method</span>
  <span class="token comment">/// does not take a return value argument.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The new route's name (`routeName`) will be passed to the</span>
  <span class="token comment">/// [Navigator.onGenerateRoute] callback. The returned route will be pushed</span>
  <span class="token comment">/// into the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The new route and the route below the bottommost removed route (which</span>
  <span class="token comment">/// becomes the route below the new route) are notified (see [Route.didPush]</span>
  <span class="token comment">/// and [Route.didChangeNext]). If the [Navigator] has any</span>
  <span class="token comment">/// [Navigator.observers], they will be notified as well (see</span>
  <span class="token comment">/// [NavigatorObserver.didPush] and [NavigatorObserver.didRemove]). The</span>
  <span class="token comment">/// removed routes are disposed, without being notified, once the new route</span>
  <span class="token comment">/// has finished animating. The futures that had been returned from pushing</span>
  <span class="token comment">/// those routes will not complete.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Ongoing gestures within the current route are canceled when a new route is</span>
  <span class="token comment">/// pushed.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `T` type argument is the type of the return value of the new route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// To use [pushNamedAndRemoveUntil], an [Navigator.onGenerateRoute] callback</span>
  <span class="token comment">/// must be provided.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.pushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _resetToCalendar() {</span>
  <span class="token comment">///   Navigator.pushNamedAndRemoveUntil(context, '/calendar', ModalRoute.withName('/'));</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePushNamedAndRemoveUntil], which pushes a new route that can</span>
  <span class="token comment">///    be restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> pushNamedAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>
    <span class="token class-name">String</span> newRouteName<span class="token punctuation">,</span>
    <span class="token class-name">RoutePredicate</span> predicate<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>pushNamedAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>newRouteName<span class="token punctuation">,</span> predicate<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push the route with the given name onto the navigator that most tightly</span>
  <span class="token comment">/// encloses the given context, and then remove all the previous routes until</span>
  <span class="token comment">/// the `predicate` returns true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.restorablePushNamedAndRemoveUntil}</span>
  <span class="token comment">/// Unlike [Route]s pushed via [pushNamedAndRemoveUntil], [Route]s pushed with</span>
  <span class="token comment">/// this method are restored during state restoration according to the rules</span>
  <span class="token comment">/// outlined in the &quot;State Restoration&quot; section of [Navigator].</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamedAndRemoveUntil}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.arguments}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _resetToOverview() {</span>
  <span class="token comment">///   Navigator.restorablePushNamedAndRemoveUntil(context, '/overview', ModalRoute.withName('/'));</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> restorablePushNamedAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span>
    <span class="token class-name">String</span> newRouteName<span class="token punctuation">,</span>
    <span class="token class-name">RoutePredicate</span> predicate<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>restorablePushNamedAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>newRouteName<span class="token punctuation">,</span> predicate<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push the given route onto the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.push}</span>
  <span class="token comment">/// The new route and the previous route (if any) are notified (see</span>
  <span class="token comment">/// [Route.didPush] and [Route.didChangeNext]). If the [Navigator] has any</span>
  <span class="token comment">/// [Navigator.observers], they will be notified as well (see</span>
  <span class="token comment">/// [NavigatorObserver.didPush]).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Ongoing gestures within the current route are canceled when a new route is</span>
  <span class="token comment">/// pushed.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `T` type argument is the type of the return value of the route.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _openMyPage() {</span>
  <span class="token comment">///   Navigator.push&lt;void&gt;(</span>
  <span class="token comment">///     context,</span>
  <span class="token comment">///     MaterialPageRoute&lt;void&gt;(</span>
  <span class="token comment">///       builder: (BuildContext context) =&gt; const MyPage(),</span>
  <span class="token comment">///     ),</span>
  <span class="token comment">///   );</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePush], which pushes a route that can be restored during</span>
  <span class="token comment">///    state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> push<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push a new route onto the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.restorablePush}</span>
  <span class="token comment">/// Unlike [Route]s pushed via [push], [Route]s pushed with this method are</span>
  <span class="token comment">/// restored during state restoration according to the rules outlined in the</span>
  <span class="token comment">/// &quot;State Restoration&quot; section of [Navigator].</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.push}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.Navigator.restorablePush}</span>
  <span class="token comment">/// The method takes a [RestorableRouteBuilder] as argument, which must be a</span>
  <span class="token comment">/// _static_ function annotated with `@pragma('vm:entry-point')`. It must</span>
  <span class="token comment">/// instantiate and return a new [Route] object that will be added to the</span>
  <span class="token comment">/// navigator. The provided `arguments` object is passed to the</span>
  <span class="token comment">/// `routeBuilder`. The navigator calls the static `routeBuilder` function</span>
  <span class="token comment">/// again during state restoration to re-create the route object.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Any object that is serializable via the [StandardMessageCodec] can be</span>
  <span class="token comment">/// passed as `arguments`. Often, a Map is used to pass key-value pairs.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool dartpad}</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ** See code in examples/api/lib/widgets/navigator/navigator.restorable_push.0.dart **</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> restorablePush<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> routeBuilder<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">restorablePush</span><span class="token punctuation">(</span>routeBuilder<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replace the current route of the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context by pushing the given route and then disposing the previous</span>
  <span class="token comment">/// route once the new route has finished animating in.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.pushReplacement}</span>
  <span class="token comment">/// If non-null, `result` will be used as the result of the route that is</span>
  <span class="token comment">/// removed; the future that had been returned from pushing that old route will</span>
  <span class="token comment">/// complete with `result`. Routes such as dialogs or popup menus typically</span>
  <span class="token comment">/// use this mechanism to return the value selected by the user to the widget</span>
  <span class="token comment">/// that created their route. The type of `result`, if provided, must match</span>
  <span class="token comment">/// the type argument of the class of the old route (`TO`).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The new route and the route below the removed route are notified (see</span>
  <span class="token comment">/// [Route.didPush] and [Route.didChangeNext]). If the [Navigator] has any</span>
  <span class="token comment">/// [Navigator.observers], they will be notified as well (see</span>
  <span class="token comment">/// [NavigatorObserver.didReplace]). The removed route is notified once the</span>
  <span class="token comment">/// new route has finished animating (see [Route.didComplete]).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Ongoing gestures within the current route are canceled when a new route is</span>
  <span class="token comment">/// pushed.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `T` type argument is the type of the return value of the new route,</span>
  <span class="token comment">/// and `TO` is the type of the return value of the old route.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _completeLogin() {</span>
  <span class="token comment">///   Navigator.pushReplacement&lt;void, void&gt;(</span>
  <span class="token comment">///     context,</span>
  <span class="token comment">///     MaterialPageRoute&lt;void&gt;(</span>
  <span class="token comment">///       builder: (BuildContext context) =&gt; const MyHomePage(),</span>
  <span class="token comment">///     ),</span>
  <span class="token comment">///   );</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePushReplacement], which pushes a replacement route that can</span>
  <span class="token comment">///    be restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> pushReplacement<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRoute<span class="token punctuation">,</span> <span class="token punctuation">{</span> TO<span class="token operator">?</span> result <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>pushReplacement<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> TO<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>newRoute<span class="token punctuation">,</span> result<span class="token punctuation">:</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replace the current route of the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context by pushing a new route and then disposing the previous</span>
  <span class="token comment">/// route once the new route has finished animating in.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.restorablePushReplacement}</span>
  <span class="token comment">/// Unlike [Route]s pushed via [pushReplacement], [Route]s pushed with this</span>
  <span class="token comment">/// method are restored during state restoration according to the rules</span>
  <span class="token comment">/// outlined in the &quot;State Restoration&quot; section of [Navigator].</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushReplacement}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePush}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool dartpad}</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ** See code in examples/api/lib/widgets/navigator/navigator.restorable_push_replacement.0.dart **</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> restorablePushReplacement<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> routeBuilder<span class="token punctuation">,</span> <span class="token punctuation">{</span> TO<span class="token operator">?</span> result<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token operator">?</span> arguments <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>restorablePushReplacement<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">,</span> TO<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>routeBuilder<span class="token punctuation">,</span> result<span class="token punctuation">:</span> result<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push the given route onto the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context, and then remove all the previous routes until the</span>
  <span class="token comment">/// `predicate` returns true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.pushAndRemoveUntil}</span>
  <span class="token comment">/// The predicate may be applied to the same route more than once if</span>
  <span class="token comment">/// [Route.willHandlePopInternally] is true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// To remove routes until a route with a certain name, use the</span>
  <span class="token comment">/// [RoutePredicate] returned from [ModalRoute.withName].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// To remove all the routes below the pushed route, use a [RoutePredicate]</span>
  <span class="token comment">/// that always returns false (e.g. `(Route&lt;dynamic&gt; route) =&gt; false`).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The removed routes are removed without being completed, so this method</span>
  <span class="token comment">/// does not take a return value argument.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The newly pushed route and its preceding route are notified for</span>
  <span class="token comment">/// [Route.didPush]. After removal, the new route and its new preceding route,</span>
  <span class="token comment">/// (the route below the bottommost removed route) are notified through</span>
  <span class="token comment">/// [Route.didChangeNext]). If the [Navigator] has any [Navigator.observers],</span>
  <span class="token comment">/// they will be notified as well (see [NavigatorObserver.didPush] and</span>
  <span class="token comment">/// [NavigatorObserver.didRemove]). The removed routes are disposed of and</span>
  <span class="token comment">/// notified, once the new route has finished animating. The futures that had</span>
  <span class="token comment">/// been returned from pushing those routes will not complete.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Ongoing gestures within the current route are canceled when a new route is</span>
  <span class="token comment">/// pushed.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `T` type argument is the type of the return value of the new route.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _finishAccountCreation() {</span>
  <span class="token comment">///   Navigator.pushAndRemoveUntil&lt;void&gt;(</span>
  <span class="token comment">///     context,</span>
  <span class="token comment">///     MaterialPageRoute&lt;void&gt;(builder: (BuildContext context) =&gt; const MyHomePage()),</span>
  <span class="token comment">///     ModalRoute.withName('/'),</span>
  <span class="token comment">///   );</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePushAndRemoveUntil], which pushes a route that can be</span>
  <span class="token comment">///    restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> pushAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRoute<span class="token punctuation">,</span> <span class="token class-name">RoutePredicate</span> predicate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>pushAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>newRoute<span class="token punctuation">,</span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push a new route onto the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context, and then remove all the previous routes until the</span>
  <span class="token comment">/// `predicate` returns true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.restorablePushAndRemoveUntil}</span>
  <span class="token comment">/// Unlike [Route]s pushed via [pushAndRemoveUntil], [Route]s pushed with this</span>
  <span class="token comment">/// method are restored during state restoration according to the rules</span>
  <span class="token comment">/// outlined in the &quot;State Restoration&quot; section of [Navigator].</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushAndRemoveUntil}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePush}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool dartpad}</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ** See code in examples/api/lib/widgets/navigator/navigator.restorable_push_and_remove_until.0.dart **</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> restorablePushAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRouteBuilder<span class="token punctuation">,</span> <span class="token class-name">RoutePredicate</span> predicate<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>restorablePushAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>newRouteBuilder<span class="token punctuation">,</span> predicate<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replaces a route on the navigator that most tightly encloses the given</span>
  <span class="token comment">/// context with a new route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.replace}</span>
  <span class="token comment">/// The old route must not be currently visible, as this method skips the</span>
  <span class="token comment">/// animations and therefore the removal would be jarring if it was visible.</span>
  <span class="token comment">/// To replace the top-most route, consider [pushReplacement] instead, which</span>
  <span class="token comment">/// _does_ animate the new route, and delays removing the old route until the</span>
  <span class="token comment">/// new route has finished animating.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The removed route is removed without being completed, so this method does</span>
  <span class="token comment">/// not take a return value argument.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The new route, the route below the new route (if any), and the route above</span>
  <span class="token comment">/// the new route, are all notified (see [Route.didReplace],</span>
  <span class="token comment">/// [Route.didChangeNext], and [Route.didChangePrevious]). If the [Navigator]</span>
  <span class="token comment">/// has any [Navigator.observers], they will be notified as well (see</span>
  <span class="token comment">/// [NavigatorObserver.didReplace]). The removed route is disposed without</span>
  <span class="token comment">/// being notified. The future that had been returned from pushing that routes</span>
  <span class="token comment">/// will not complete.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// This can be useful in combination with [removeRouteBelow] when building a</span>
  <span class="token comment">/// non-linear user experience.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `T` type argument is the type of the return value of the new route.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [replaceRouteBelow], which is the same but identifies the route to be</span>
  <span class="token comment">///    removed by reference to the route above it, rather than directly.</span>
  <span class="token comment">///  * [restorableReplace], which adds a replacement route that can be</span>
  <span class="token comment">///    restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> replace<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token punctuation">{</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> oldRoute<span class="token punctuation">,</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRoute <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>replace<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>oldRoute<span class="token punctuation">:</span> oldRoute<span class="token punctuation">,</span> newRoute<span class="token punctuation">:</span> newRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replaces a route on the navigator that most tightly encloses the given</span>
  <span class="token comment">/// context with a new route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.restorableReplace}</span>
  <span class="token comment">/// Unlike [Route]s added via [replace], [Route]s added with this method are</span>
  <span class="token comment">/// restored during state restoration according to the rules outlined in the</span>
  <span class="token comment">/// &quot;State Restoration&quot; section of [Navigator].</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.replace}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePush}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> restorableReplace<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token punctuation">{</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> oldRoute<span class="token punctuation">,</span> required <span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRouteBuilder<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token operator">?</span> arguments <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>restorableReplace<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>oldRoute<span class="token punctuation">:</span> oldRoute<span class="token punctuation">,</span> newRouteBuilder<span class="token punctuation">:</span> newRouteBuilder<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replaces a route on the navigator that most tightly encloses the given</span>
  <span class="token comment">/// context with a new route. The route to be replaced is the one below the</span>
  <span class="token comment">/// given `anchorRoute`.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.replaceRouteBelow}</span>
  <span class="token comment">/// The old route must not be current visible, as this method skips the</span>
  <span class="token comment">/// animations and therefore the removal would be jarring if it was visible.</span>
  <span class="token comment">/// To replace the top-most route, consider [pushReplacement] instead, which</span>
  <span class="token comment">/// _does_ animate the new route, and delays removing the old route until the</span>
  <span class="token comment">/// new route has finished animating.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The removed route is removed without being completed, so this method does</span>
  <span class="token comment">/// not take a return value argument.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The new route, the route below the new route (if any), and the route above</span>
  <span class="token comment">/// the new route, are all notified (see [Route.didReplace],</span>
  <span class="token comment">/// [Route.didChangeNext], and [Route.didChangePrevious]). If the [Navigator]</span>
  <span class="token comment">/// has any [Navigator.observers], they will be notified as well (see</span>
  <span class="token comment">/// [NavigatorObserver.didReplace]). The removed route is disposed without</span>
  <span class="token comment">/// being notified. The future that had been returned from pushing that routes</span>
  <span class="token comment">/// will not complete.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `T` type argument is the type of the return value of the new route.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [replace], which is the same but identifies the route to be removed</span>
  <span class="token comment">///    directly.</span>
  <span class="token comment">///  * [restorableReplaceRouteBelow], which adds a replacement route that can</span>
  <span class="token comment">///    be restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> replaceRouteBelow<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token punctuation">{</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> anchorRoute<span class="token punctuation">,</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRoute <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>replaceRouteBelow<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>anchorRoute<span class="token punctuation">:</span> anchorRoute<span class="token punctuation">,</span> newRoute<span class="token punctuation">:</span> newRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replaces a route on the navigator that most tightly encloses the given</span>
  <span class="token comment">/// context with a new route. The route to be replaced is the one below the</span>
  <span class="token comment">/// given `anchorRoute`.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.restorableReplaceRouteBelow}</span>
  <span class="token comment">/// Unlike [Route]s added via [restorableReplaceRouteBelow], [Route]s added</span>
  <span class="token comment">/// with this method are restored during state restoration according to the</span>
  <span class="token comment">/// rules outlined in the &quot;State Restoration&quot; section of [Navigator].</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.replaceRouteBelow}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePush}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span> restorableReplaceRouteBelow<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token punctuation">{</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> anchorRoute<span class="token punctuation">,</span> required <span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRouteBuilder<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token operator">?</span> arguments <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>restorableReplaceRouteBelow<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>anchorRoute<span class="token punctuation">:</span> anchorRoute<span class="token punctuation">,</span> newRouteBuilder<span class="token punctuation">:</span> newRouteBuilder<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Whether the navigator that most tightly encloses the given context can be</span>
  <span class="token comment">/// popped.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.canPop}</span>
  <span class="token comment">/// The initial route cannot be popped off the navigator, which implies that</span>
  <span class="token comment">/// this function returns true only if popping the navigator would not remove</span>
  <span class="token comment">/// the initial route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If there is no [Navigator] in scope, returns false.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Does not consider anything that might externally prevent popping, such as</span>
  <span class="token comment">/// [PopEntry].</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [Route.isFirst], which returns true for routes for which [canPop]</span>
  <span class="token comment">///    returns false.</span>
  <span class="token keyword">static</span> bool <span class="token function">canPop</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">NavigatorState</span><span class="token operator">?</span> navigator <span class="token operator">=</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">maybeOf</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> navigator <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> navigator<span class="token punctuation">.</span><span class="token function">canPop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Consults the current route's [Route.popDisposition] getter or</span>
  <span class="token comment">/// [Route.willPop] method, and acts accordingly, potentially popping the</span>
  <span class="token comment">/// route as a result; returns whether the pop request should be considered</span>
  <span class="token comment">/// handled.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.maybePop}</span>
  <span class="token comment">/// If the [RoutePopDisposition] is [RoutePopDisposition.pop], then the [pop]</span>
  <span class="token comment">/// method is called, and this method returns true, indicating that it handled</span>
  <span class="token comment">/// the pop request.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If the [RoutePopDisposition] is [RoutePopDisposition.doNotPop], then this</span>
  <span class="token comment">/// method returns true, but does not do anything beyond that.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If the [RoutePopDisposition] is [RoutePopDisposition.bubble], then this</span>
  <span class="token comment">/// method returns false, and the caller is responsible for sending the</span>
  <span class="token comment">/// request to the containing scope (e.g. by closing the application).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// This method is typically called for a user-initiated [pop]. For example on</span>
  <span class="token comment">/// Android it's called by the binding for the system's back button.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `T` type argument is the type of the return value of the current</span>
  <span class="token comment">/// route. (Typically this isn't known; consider specifying `dynamic` or</span>
  <span class="token comment">/// `Null`.)</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [Form], which provides an `onWillPop` callback that enables the form</span>
  <span class="token comment">///    to veto a [pop] initiated by the app's back button.</span>
  <span class="token comment">///  * [ModalRoute], which provides a `scopedWillPopCallback` that can be used</span>
  <span class="token comment">///    to define the route's `willPop` method.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> maybePop<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token class-name">T</span><span class="token operator">?</span> result <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>maybePop<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Pop the top-most route off the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.pop}</span>
  <span class="token comment">/// The current route's [Route.didPop] method is called first. If that method</span>
  <span class="token comment">/// returns false, then the route remains in the [Navigator]'s history (the</span>
  <span class="token comment">/// route is expected to have popped some internal state; see e.g.</span>
  <span class="token comment">/// [LocalHistoryRoute]). Otherwise, the rest of this description applies.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If non-null, `result` will be used as the result of the route that is</span>
  <span class="token comment">/// popped; the future that had been returned from pushing the popped route</span>
  <span class="token comment">/// will complete with `result`. Routes such as dialogs or popup menus</span>
  <span class="token comment">/// typically use this mechanism to return the value selected by the user to</span>
  <span class="token comment">/// the widget that created their route. The type of `result`, if provided,</span>
  <span class="token comment">/// must match the type argument of the class of the popped route (`T`).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The popped route and the route below it are notified (see [Route.didPop],</span>
  <span class="token comment">/// [Route.didComplete], and [Route.didPopNext]). If the [Navigator] has any</span>
  <span class="token comment">/// [Navigator.observers], they will be notified as well (see</span>
  <span class="token comment">/// [NavigatorObserver.didPop]).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `T` type argument is the type of the return value of the popped route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The type of `result`, if provided, must match the type argument of the</span>
  <span class="token comment">/// class of the popped route (`T`).</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage for closing a route is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _close() {</span>
  <span class="token comment">///   Navigator.pop(context);</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// A dialog box might be closed with a result:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _accept() {</span>
  <span class="token comment">///   Navigator.pop(context, true); // dialog returns true</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> pop<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token class-name">T</span><span class="token operator">?</span> result <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span>pop<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Calls [pop] repeatedly on the navigator that most tightly encloses the</span>
  <span class="token comment">/// given context until the predicate returns true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.popUntil}</span>
  <span class="token comment">/// The predicate may be applied to the same route more than once if</span>
  <span class="token comment">/// [Route.willHandlePopInternally] is true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// To pop until a route with a certain name, use the [RoutePredicate]</span>
  <span class="token comment">/// returned from [ModalRoute.withName].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The routes are closed with null as their `return` value.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See [pop] for more details of the semantics of popping a route.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _logout() {</span>
  <span class="token comment">///   Navigator.popUntil(context, ModalRoute.withName('/login'));</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">popUntil</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">RoutePredicate</span> predicate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">popUntil</span><span class="token punctuation">(</span>predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Immediately remove `route` from the navigator that most tightly encloses</span>
  <span class="token comment">/// the given context, and [Route.dispose] it.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.removeRoute}</span>
  <span class="token comment">/// The removed route is removed without being completed, so this method does</span>
  <span class="token comment">/// not take a return value argument. No animations are run as a result of</span>
  <span class="token comment">/// this method call.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The routes below and above the removed route are notified (see</span>
  <span class="token comment">/// [Route.didChangeNext] and [Route.didChangePrevious]). If the [Navigator]</span>
  <span class="token comment">/// has any [Navigator.observers], they will be notified as well (see</span>
  <span class="token comment">/// [NavigatorObserver.didRemove]). The removed route is disposed without</span>
  <span class="token comment">/// being notified. The future that had been returned from pushing that routes</span>
  <span class="token comment">/// will not complete.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The given `route` must be in the history; this method will throw an</span>
  <span class="token comment">/// exception if it is not.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Ongoing gestures within the current route are canceled.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// This method is used, for example, to instantly dismiss dropdown menus that</span>
  <span class="token comment">/// are up when the screen's orientation changes.</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">removeRoute</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeRoute</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Immediately remove a route from the navigator that most tightly encloses</span>
  <span class="token comment">/// the given context, and [Route.dispose] it. The route to be removed is the</span>
  <span class="token comment">/// one below the given `anchorRoute`.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@template flutter.widgets.navigator.removeRouteBelow}</span>
  <span class="token comment">/// The removed route is removed without being completed, so this method does</span>
  <span class="token comment">/// not take a return value argument. No animations are run as a result of</span>
  <span class="token comment">/// this method call.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The routes below and above the removed route are notified (see</span>
  <span class="token comment">/// [Route.didChangeNext] and [Route.didChangePrevious]). If the [Navigator]</span>
  <span class="token comment">/// has any [Navigator.observers], they will be notified as well (see</span>
  <span class="token comment">/// [NavigatorObserver.didRemove]). The removed route is disposed without</span>
  <span class="token comment">/// being notified. The future that had been returned from pushing that routes</span>
  <span class="token comment">/// will not complete.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The given `anchorRoute` must be in the history and must have a route below</span>
  <span class="token comment">/// it; this method will throw an exception if it is not or does not.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Ongoing gestures within the current route are canceled.</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">removeRouteBelow</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> anchorRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeRouteBelow</span><span class="token punctuation">(</span>anchorRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// The state from the closest instance of this class that encloses the given</span>
  <span class="token comment">/// context.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// Navigator.of(context)</span>
  <span class="token comment">///   ..pop()</span>
  <span class="token comment">///   ..pop()</span>
  <span class="token comment">///   ..pushNamed('/settings');</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If `rootNavigator` is set to true, the state from the furthest instance of</span>
  <span class="token comment">/// this class is given instead. Useful for pushing contents above all</span>
  <span class="token comment">/// subsequent instances of [Navigator].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If there is no [Navigator] in the give `context`, this function will throw</span>
  <span class="token comment">/// a [FlutterError] in debug mode, and an exception in release mode.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// This method can be expensive (it walks the element tree).</span>
  <span class="token keyword">static</span> <span class="token class-name">NavigatorState</span> <span class="token function">of</span><span class="token punctuation">(</span>
    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    bool rootNavigator <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Handles the case where the input context is a navigator element.</span>
    <span class="token class-name">NavigatorState</span><span class="token operator">?</span> navigator<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>context <span class="token operator">is</span> <span class="token class-name">StatefulElement</span> <span class="token operator">&amp;&amp;</span> context<span class="token punctuation">.</span>state <span class="token operator">is</span> <span class="token class-name">NavigatorState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      navigator <span class="token operator">=</span> context<span class="token punctuation">.</span>state <span class="token operator">as</span> <span class="token class-name">NavigatorState</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rootNavigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      navigator <span class="token operator">=</span> context<span class="token punctuation">.</span>findRootAncestorStateOfType<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token operator">?</span> navigator<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      navigator <span class="token operator">=</span> navigator <span class="token operator">?</span><span class="token operator">?</span> context<span class="token punctuation">.</span>findAncestorStateOfType<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token class-name">FlutterError</span><span class="token punctuation">(</span>
          <span class="token string-literal"><span class="token string">'Navigator operation requested with a context that does not include a Navigator.\n'</span></span>
          <span class="token string-literal"><span class="token string">'The context used to push or pop routes from the Navigator must be that of a '</span></span>
          <span class="token string-literal"><span class="token string">'widget that is a descendant of a Navigator widget.'</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> navigator<span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// The state from the closest instance of this class that encloses the given</span>
  <span class="token comment">/// context, if any.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// NavigatorState? navigatorState = Navigator.maybeOf(context);</span>
  <span class="token comment">/// if (navigatorState != null) {</span>
  <span class="token comment">///   navigatorState</span>
  <span class="token comment">///     ..pop()</span>
  <span class="token comment">///     ..pop()</span>
  <span class="token comment">///     ..pushNamed('/settings');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If `rootNavigator` is set to true, the state from the furthest instance of</span>
  <span class="token comment">/// this class is given instead. Useful for pushing contents above all</span>
  <span class="token comment">/// subsequent instances of [Navigator].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Will return null if there is no ancestor [Navigator] in the `context`.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// This method can be expensive (it walks the element tree).</span>
  <span class="token keyword">static</span> <span class="token class-name">NavigatorState</span><span class="token operator">?</span> <span class="token function">maybeOf</span><span class="token punctuation">(</span>
    <span class="token class-name">BuildContext</span> context<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    bool rootNavigator <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Handles the case where the input context is a navigator element.</span>
    <span class="token class-name">NavigatorState</span><span class="token operator">?</span> navigator<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>context <span class="token operator">is</span> <span class="token class-name">StatefulElement</span> <span class="token operator">&amp;&amp;</span> context<span class="token punctuation">.</span>state <span class="token operator">is</span> <span class="token class-name">NavigatorState</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      navigator <span class="token operator">=</span> context<span class="token punctuation">.</span>state <span class="token operator">as</span> <span class="token class-name">NavigatorState</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rootNavigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      navigator <span class="token operator">=</span> context<span class="token punctuation">.</span>findRootAncestorStateOfType<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span><span class="token operator">?</span> navigator<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      navigator <span class="token operator">=</span> navigator <span class="token operator">?</span><span class="token operator">?</span> context<span class="token punctuation">.</span>findAncestorStateOfType<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> navigator<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Turn a route name into a set of [Route] objects.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// This is the default value of [onGenerateInitialRoutes], which is used if</span>
  <span class="token comment">/// [initialRoute] is not null.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If this string starts with a `/` character and has multiple `/` characters</span>
  <span class="token comment">/// in it, then the string is split on those characters and substrings from</span>
  <span class="token comment">/// the start of the string up to each such character are, in turn, used as</span>
  <span class="token comment">/// routes to push.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// For example, if the route `/stocks/HOOLI` was used as the [initialRoute],</span>
  <span class="token comment">/// then the [Navigator] would push the following routes on startup: `/`,</span>
  <span class="token comment">/// `/stocks`, `/stocks/HOOLI`. This enables deep linking while allowing the</span>
  <span class="token comment">/// application to maintain a predictable route history.</span>
  <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">defaultGenerateInitialRoutes</span><span class="token punctuation">(</span><span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">,</span> <span class="token class-name">String</span> initialRouteName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>initialRouteName<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> initialRouteName<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      initialRouteName <span class="token operator">=</span> initialRouteName<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// strip leading '/'</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token class-name">Navigator</span><span class="token punctuation">.</span>defaultRouteName <span class="token operator">==</span> <span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> debugRouteNames<span class="token punctuation">;</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        debugRouteNames <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span>defaultRouteName <span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>_routeNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Navigator</span><span class="token punctuation">.</span>defaultRouteName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> allowNull<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> routeParts <span class="token operator">=</span> initialRouteName<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'/'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>initialRouteName<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> routeName <span class="token operator">=</span> <span class="token string-literal"><span class="token string">''</span></span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token keyword">part</span> <span class="token keyword">in</span> routeParts<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          routeName <span class="token operator">+=</span> <span class="token string-literal"><span class="token string">'/</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression"><span class="token keyword">part</span></span></span><span class="token string">'</span></span><span class="token punctuation">;</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            debugRouteNames<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>routeName<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>_routeNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>routeName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> allowNull<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>last <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token class-name">FlutterError</span><span class="token punctuation">.</span><span class="token function">reportError</span><span class="token punctuation">(</span>
            <span class="token class-name">FlutterErrorDetails</span><span class="token punctuation">(</span>
              exception<span class="token punctuation">:</span>
                <span class="token string-literal"><span class="token string">'Could not navigate to initial route.\n'</span></span>
                <span class="token string-literal"><span class="token string">'The requested route name was: &quot;/</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">initialRouteName</span></span><span class="token string">&quot;\n'</span></span>
                <span class="token string-literal"><span class="token string">'There was no corresponding route in the app, and therefore the initial route specified will be '</span></span>
                <span class="token string-literal"><span class="token string">'ignored and &quot;</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression"><span class="token class-name">Navigator</span><span class="token punctuation">.</span>defaultRouteName</span><span class="token punctuation">}</span></span><span class="token string">&quot; will be used instead.'</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> route <span class="token keyword">in</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          route<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        result<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>initialRouteName <span class="token operator">!=</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span>defaultRouteName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// If initialRouteName wasn't '/', then we try to get it with allowNull:true, so that if that fails,</span>
      <span class="token comment">// we fall back to '/' (without allowNull:true, see below).</span>
      result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>_routeNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>initialRouteName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> allowNull<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Null route might be a result of gap in initialRouteName</span>
    <span class="token comment">//</span>
    <span class="token comment">// For example, routes = ['A', 'A/B/C'], and initialRouteName = 'A/B/C'</span>
    <span class="token comment">// This should result in result = ['A', null,'A/B/C'] where 'A/B' produces</span>
    <span class="token comment">// the null. In this case, we want to filter out the null and return</span>
    <span class="token comment">// result = ['A', 'A/B/C'].</span>
    result<span class="token punctuation">.</span><span class="token function">removeWhere</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> route<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> route <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>_routeNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Navigator</span><span class="token punctuation">.</span>defaultRouteName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">.</span>cast<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">NavigatorState</span> <span class="token function">createState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">NavigatorState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// The _RouteLifecycle state machine (only goes down):</span>
<span class="token comment">//</span>
<span class="token comment">//                    [creation of a _RouteEntry]</span>
<span class="token comment">//                                 |</span>
<span class="token comment">//                                 +</span>
<span class="token comment">//                                 |\</span>
<span class="token comment">//                                 | \</span>
<span class="token comment">//                                 | staging</span>
<span class="token comment">//                                 | /</span>
<span class="token comment">//                                 |/</span>
<span class="token comment">//                    +-+----------+--+-------+</span>
<span class="token comment">//                   /  |             |       |</span>
<span class="token comment">//                  /   |             |       |</span>
<span class="token comment">//                 /    |             |       |</span>
<span class="token comment">//                /     |             |       |</span>
<span class="token comment">//               /      |             |       |</span>
<span class="token comment">//      pushReplace   push*         add*   replace*</span>
<span class="token comment">//               \       |            |       |</span>
<span class="token comment">//                \      |            |      /</span>
<span class="token comment">//                 +--pushing#      adding  /</span>
<span class="token comment">//                          \        /     /</span>
<span class="token comment">//                           \      /     /</span>
<span class="token comment">//                           idle--+-----+</span>
<span class="token comment">//                           /  \</span>
<span class="token comment">//                          /    +------+</span>
<span class="token comment">//                         /     |      |</span>
<span class="token comment">//                        /      |  complete*</span>
<span class="token comment">//                        |      |    /</span>
<span class="token comment">//                       pop*  remove*</span>
<span class="token comment">//                        /        \</span>
<span class="token comment">//                       /       removing#</span>
<span class="token comment">//                     popping#       |</span>
<span class="token comment">//                      |             |</span>
<span class="token comment">//                   [finalizeRoute]  |</span>
<span class="token comment">//                              \     |</span>
<span class="token comment">//                              dispose*</span>
<span class="token comment">//                                 |</span>
<span class="token comment">//                              disposing</span>
<span class="token comment">//                                 |</span>
<span class="token comment">//                              disposed</span>
<span class="token comment">//                                 |</span>
<span class="token comment">//                                 |</span>
<span class="token comment">//                  [_RouteEntry garbage collected]</span>
<span class="token comment">//                          (terminal state)</span>
<span class="token comment">//</span>
<span class="token comment">// * These states are transient; as soon as _flushHistoryUpdates is run the</span>
<span class="token comment">//   route entry will exit that state.</span>
<span class="token comment">// # These states await futures or other events, then transition automatically.</span>
<span class="token keyword">enum</span> _RouteLifecycle <span class="token punctuation">{</span>
  staging<span class="token punctuation">,</span> <span class="token comment">// we will wait for transition delegate to decide what to do with this route.</span>
  <span class="token comment">//</span>
  <span class="token comment">// routes that are present:</span>
  <span class="token comment">//</span>
  add<span class="token punctuation">,</span> <span class="token comment">// we'll want to run install, didAdd, etc; a route created by onGenerateInitialRoutes or by the initial widget.pages</span>
  adding<span class="token punctuation">,</span> <span class="token comment">// we'll waiting for the future from didPush of top-most route to complete</span>
  <span class="token comment">// routes that are ready for transition.</span>
  push<span class="token punctuation">,</span> <span class="token comment">// we'll want to run install, didPush, etc; a route added via push() and friends</span>
  pushReplace<span class="token punctuation">,</span> <span class="token comment">// we'll want to run install, didPush, etc; a route added via pushReplace() and friends</span>
  pushing<span class="token punctuation">,</span> <span class="token comment">// we're waiting for the future from didPush to complete</span>
  replace<span class="token punctuation">,</span> <span class="token comment">// we'll want to run install, didReplace, etc; a route added via replace() and friends</span>
  idle<span class="token punctuation">,</span> <span class="token comment">// route is being harmless</span>
  <span class="token comment">//</span>
  <span class="token comment">// routes that are not present:</span>
  <span class="token comment">//</span>
  <span class="token comment">// routes that should be included in route announcement and should still listen to transition changes.</span>
  pop<span class="token punctuation">,</span> <span class="token comment">// we'll want to call didPop</span>
  complete<span class="token punctuation">,</span> <span class="token comment">// we'll want to call didComplete,</span>
  remove<span class="token punctuation">,</span> <span class="token comment">// we'll want to run didReplace/didRemove etc</span>
  <span class="token comment">// routes should not be included in route announcement but should still listen to transition changes.</span>
  popping<span class="token punctuation">,</span> <span class="token comment">// we're waiting for the route to call finalizeRoute to switch to dispose</span>
  removing<span class="token punctuation">,</span> <span class="token comment">// we are waiting for subsequent routes to be done animating, then will switch to dispose</span>
  <span class="token comment">// routes that are completely removed from the navigator and overlay.</span>
  dispose<span class="token punctuation">,</span> <span class="token comment">// we will dispose the route momentarily</span>
  disposing<span class="token punctuation">,</span> <span class="token comment">// The entry is waiting for its widget subtree to be disposed</span>
             <span class="token comment">// first. It is stored in _entryWaitingForSubTreeDisposal while</span>
             <span class="token comment">// awaiting that.</span>
  disposed<span class="token punctuation">,</span> <span class="token comment">// we have disposed the route</span>
<span class="token punctuation">}</span>

<span class="token keyword">typedef</span> _RouteEntryPredicate <span class="token operator">=</span> bool <span class="token class-name">Function</span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> _NotAnnounced <span class="token keyword">extends</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token comment">// A placeholder for the lastAnnouncedPreviousRoute, the</span>
  <span class="token comment">// lastAnnouncedPoppedNextRoute, and the lastAnnouncedNextRoute before any</span>
  <span class="token comment">// change has been announced.</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _RouteEntry <span class="token keyword">extends</span> <span class="token class-name">RouteTransitionRecord</span> <span class="token punctuation">{</span>
  <span class="token function">_RouteEntry</span><span class="token punctuation">(</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">,</span> <span class="token punctuation">{</span>
      required _RouteLifecycle initialState<span class="token punctuation">,</span>
      required <span class="token keyword">this</span><span class="token punctuation">.</span>pageBased<span class="token punctuation">,</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>restorationInformation<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>pageBased <span class="token operator">||</span> route<span class="token punctuation">.</span>settings <span class="token operator">is</span> <span class="token class-name">Page</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
         <span class="token keyword">assert</span><span class="token punctuation">(</span>
           initialState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>staging <span class="token operator">||</span>
           initialState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>add <span class="token operator">||</span>
           initialState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>push <span class="token operator">||</span>
           initialState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>pushReplace <span class="token operator">||</span>
           initialState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>replace<span class="token punctuation">,</span>
         <span class="token punctuation">)</span><span class="token punctuation">,</span>
        currentState <span class="token operator">=</span> initialState <span class="token punctuation">{</span>
    <span class="token comment">// TODO(polina-c): stop duplicating code across disposables</span>
    <span class="token comment">// https://github.com/flutter/flutter/issues/137435</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>kFlutterMemoryAllocationsEnabled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">FlutterMemoryAllocations</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">dispatchObjectCreated</span><span class="token punctuation">(</span>
        <span class="token keyword">library</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'package:flutter/widgets.dart'</span></span><span class="token punctuation">,</span>
        className<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">_RouteEntry</span></span><span class="token string">'</span></span><span class="token punctuation">,</span>
        object<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">final</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">;</span>
  <span class="token keyword">final</span> _RestorationInformation<span class="token operator">?</span> restorationInformation<span class="token punctuation">;</span>
  <span class="token keyword">final</span> bool pageBased<span class="token punctuation">;</span>

  <span class="token comment">/// The limit this route entry will attempt to pop in the case of route being</span>
  <span class="token comment">/// remove as a result of a page update.</span>
  <span class="token keyword">static</span> <span class="token keyword">const</span> int kDebugPopAttemptLimit <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>

  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> notAnnounced <span class="token operator">=</span> <span class="token function">_NotAnnounced</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  _RouteLifecycle currentState<span class="token punctuation">;</span>
  <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> lastAnnouncedPreviousRoute <span class="token operator">=</span> notAnnounced<span class="token punctuation">;</span> <span class="token comment">// last argument to Route.didChangePrevious</span>
  <span class="token class-name">WeakReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> lastAnnouncedPoppedNextRoute <span class="token operator">=</span> <span class="token class-name">WeakReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>notAnnounced<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// last argument to Route.didPopNext</span>
  <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> lastAnnouncedNextRoute <span class="token operator">=</span> notAnnounced<span class="token punctuation">;</span> <span class="token comment">// last argument to Route.didChangeNext</span>
  int<span class="token operator">?</span> lastFocusNode<span class="token punctuation">;</span> <span class="token comment">// The last focused semantic node for the route entry.</span>

  <span class="token comment">/// Restoration ID to be used for the encapsulating route when restoration is</span>
  <span class="token comment">/// enabled for it or null if restoration cannot be enabled for it.</span>
  <span class="token class-name">String</span><span class="token operator">?</span> <span class="token keyword">get</span> restorationId <span class="token punctuation">{</span>
    <span class="token comment">// User-provided restoration ids of Pages are prefixed with 'p+'. Generated</span>
    <span class="token comment">// ids for pageless routes are prefixed with 'r+' to avoid clashes.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pageBased<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> route<span class="token punctuation">.</span>settings <span class="token operator">as</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> page<span class="token punctuation">.</span>restorationId <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string-literal"><span class="token string">'p+</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">page<span class="token punctuation">.</span>restorationId</span><span class="token punctuation">}</span></span><span class="token string">'</span></span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>restorationInformation <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">'r+</span><span class="token interpolation"><span class="token punctuation">${</span><span class="token expression">restorationInformation<span class="token operator">!</span><span class="token punctuation">.</span>restorationScopeId</span><span class="token punctuation">}</span></span><span class="token string">'</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  bool <span class="token function">canUpdateFrom</span><span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> page<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>willBePresent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>pageBased<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">final</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> routePage <span class="token operator">=</span> route<span class="token punctuation">.</span>settings <span class="token operator">as</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> page<span class="token punctuation">.</span><span class="token function">canUpdate</span><span class="token punctuation">(</span>routePage<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">handleAdd</span><span class="token punctuation">(</span><span class="token punctuation">{</span> required <span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">,</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> previousPresent <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>add<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    route<span class="token punctuation">.</span>_navigator <span class="token operator">=</span> navigator<span class="token punctuation">;</span>
    route<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>overlayEntries<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>adding<span class="token punctuation">;</span>
    navigator<span class="token punctuation">.</span>_observedRouteAdditions<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
      <span class="token function">_NavigatorPushObservation</span><span class="token punctuation">(</span>route<span class="token punctuation">,</span> previousPresent<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">handlePush</span><span class="token punctuation">(</span><span class="token punctuation">{</span> required <span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">,</span> required bool isNewFirst<span class="token punctuation">,</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> previous<span class="token punctuation">,</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> previousPresent <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>push <span class="token operator">||</span> currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>pushReplace <span class="token operator">||</span> currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>replace<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>
      route<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
      <span class="token string-literal"><span class="token string">'The pushed route has already been used. When pushing a route, a new '</span></span>
      <span class="token string-literal"><span class="token string">'Route object must be provided.'</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteLifecycle previousState <span class="token operator">=</span> currentState<span class="token punctuation">;</span>
    route<span class="token punctuation">.</span>_navigator <span class="token operator">=</span> navigator<span class="token punctuation">;</span>
    route<span class="token punctuation">.</span><span class="token function">install</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>overlayEntries<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>push <span class="token operator">||</span> currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>pushReplace<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> <span class="token class-name">TickerFuture</span> routeFuture <span class="token operator">=</span> route<span class="token punctuation">.</span><span class="token function">didPush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>pushing<span class="token punctuation">;</span>
      routeFuture<span class="token punctuation">.</span><span class="token function">whenCompleteOrCancel</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>pushing<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>idle<span class="token punctuation">;</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>navigator<span class="token punctuation">.</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> navigator<span class="token punctuation">.</span>_debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          navigator<span class="token punctuation">.</span><span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> navigator<span class="token punctuation">.</span>_debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>replace<span class="token punctuation">)</span><span class="token punctuation">;</span>
      route<span class="token punctuation">.</span><span class="token function">didReplace</span><span class="token punctuation">(</span>previous<span class="token punctuation">)</span><span class="token punctuation">;</span>
      currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>idle<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isNewFirst<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      route<span class="token punctuation">.</span><span class="token function">didChangeNext</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>previousState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>replace <span class="token operator">||</span> previousState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>pushReplace<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      navigator<span class="token punctuation">.</span>_observedRouteAdditions<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token function">_NavigatorReplaceObservation</span><span class="token punctuation">(</span>route<span class="token punctuation">,</span> previousPresent<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>previousState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>
      navigator<span class="token punctuation">.</span>_observedRouteAdditions<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token function">_NavigatorPushObservation</span><span class="token punctuation">(</span>route<span class="token punctuation">,</span> previousPresent<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">handleDidPopNext</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> poppedRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    route<span class="token punctuation">.</span><span class="token function">didPopNext</span><span class="token punctuation">(</span>poppedRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    lastAnnouncedPoppedNextRoute <span class="token operator">=</span> <span class="token class-name">WeakReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Route</span><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>poppedRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lastFocusNode <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Move focus back to the last focused node.</span>
      poppedRoute<span class="token punctuation">.</span>_disposeCompleter<span class="token punctuation">.</span>future<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">dynamic</span> result<span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
        <span class="token keyword">switch</span> <span class="token punctuation">(</span>defaultTargetPlatform<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">case</span> <span class="token class-name">TargetPlatform</span><span class="token punctuation">.</span>android<span class="token punctuation">:</span>
            <span class="token comment">// In the Android platform, we have to wait for the system refocus to complete before</span>
            <span class="token comment">// sending the refocus message. Otherwise, the refocus message will be ignored.</span>
            <span class="token comment">// TODO(hangyujin): update this logic if Android provide a better way to do so.</span>
            <span class="token keyword">final</span> int<span class="token operator">?</span> reFocusNode <span class="token operator">=</span> lastFocusNode<span class="token punctuation">;</span>
            <span class="token keyword">await</span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token function">delayed</span><span class="token punctuation">(</span>_kAndroidRefocusingDelayDuration<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">SystemChannels</span><span class="token punctuation">.</span>accessibility<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">FocusSemanticEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>nodeId<span class="token punctuation">:</span> reFocusNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> <span class="token class-name">TargetPlatform</span><span class="token punctuation">.</span>iOS<span class="token punctuation">:</span>
            <span class="token class-name">SystemChannels</span><span class="token punctuation">.</span>accessibility<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token class-name">FocusSemanticEvent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>nodeId<span class="token punctuation">:</span> lastFocusNode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">case</span> _<span class="token punctuation">:</span>
            <span class="token keyword">break</span> <span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Process the to-be-popped route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// A route can be marked for pop by transition delegate or Navigator.pop,</span>
  <span class="token comment">/// this method actually pops the route by calling Route.didPop.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Returns true if the route is popped; otherwise, returns false if the route</span>
  <span class="token comment">/// refuses to be popped.</span>
  bool <span class="token function">handlePop</span><span class="token punctuation">(</span><span class="token punctuation">{</span> required <span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">,</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> previousPresent <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> navigator<span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>popping<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>route<span class="token punctuation">.</span>_popCompleter<span class="token punctuation">.</span>isCompleted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// This is a page-based route popped through the Navigator.pop. The</span>
      <span class="token comment">// didPop should have been called. No further action is needed.</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>pageBased<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>pendingResult <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>route<span class="token punctuation">.</span><span class="token function">didPop</span><span class="token punctuation">(</span>pendingResult<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>idle<span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    pendingResult <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">handleComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    route<span class="token punctuation">.</span><span class="token function">didComplete</span><span class="token punctuation">(</span>pendingResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pendingResult <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>_popCompleter<span class="token punctuation">.</span>isCompleted<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// implies didComplete was called</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>remove<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">handleRemoval</span><span class="token punctuation">(</span><span class="token punctuation">{</span> required <span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">,</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> previousPresent <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> navigator<span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>removing<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_reportRemovalToObserver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      navigator<span class="token punctuation">.</span>_observedRouteDeletions<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
        <span class="token function">_NavigatorRemoveObservation</span><span class="token punctuation">(</span>route<span class="token punctuation">,</span> previousPresent<span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">didAdd</span><span class="token punctuation">(</span><span class="token punctuation">{</span> required <span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">,</span> required bool isNewFirst<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    route<span class="token punctuation">.</span><span class="token function">didAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>idle<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>isNewFirst<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      route<span class="token punctuation">.</span><span class="token function">didChangeNext</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">Object</span><span class="token operator">?</span> pendingResult<span class="token punctuation">;</span>

  <span class="token keyword">void</span> pop<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token operator">?</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>isPresent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    pendingResult <span class="token operator">=</span> result<span class="token punctuation">;</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>pop<span class="token punctuation">;</span>
    route<span class="token punctuation">.</span><span class="token function">onPopInvoked</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  bool _reportRemovalToObserver <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

  <span class="token comment">// Route is removed without being completed.</span>
  <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">{</span> bool isReplaced <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>
      <span class="token operator">!</span>pageBased <span class="token operator">||</span> isWaitingForExitingDecision<span class="token punctuation">,</span>
      <span class="token string-literal"><span class="token string">'A page-based route cannot be completed using imperative api, provide a '</span></span>
      <span class="token string-literal"><span class="token string">'new list without the corresponding Page to Navigator.pages instead. '</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">.</span>index <span class="token operator">&gt;=</span> _RouteLifecycle<span class="token punctuation">.</span>remove<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>isPresent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _reportRemovalToObserver <span class="token operator">=</span> <span class="token operator">!</span>isReplaced<span class="token punctuation">;</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>remove<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Route completes with `result` and is removed.</span>
  <span class="token keyword">void</span> complete<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">T</span> result<span class="token punctuation">,</span> <span class="token punctuation">{</span> bool isReplaced <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>
      <span class="token operator">!</span>pageBased <span class="token operator">||</span> isWaitingForExitingDecision<span class="token punctuation">,</span>
      <span class="token string-literal"><span class="token string">'A page-based route cannot be completed using imperative api, provide a '</span></span>
      <span class="token string-literal"><span class="token string">'new list without the corresponding Page to Navigator.pages instead. '</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentState<span class="token punctuation">.</span>index <span class="token operator">&gt;=</span> _RouteLifecycle<span class="token punctuation">.</span>remove<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>isPresent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _reportRemovalToObserver <span class="token operator">=</span> <span class="token operator">!</span>isReplaced<span class="token punctuation">;</span>
    pendingResult <span class="token operator">=</span> result<span class="token punctuation">;</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>complete<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>currentState<span class="token punctuation">.</span>index <span class="token operator">&lt;</span> _RouteLifecycle<span class="token punctuation">.</span>dispose<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>dispose<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Disposes this route entry and its [route] immediately.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// This method does not wait for the widget subtree of the [route] to unmount</span>
  <span class="token comment">/// before disposing.</span>
  <span class="token keyword">void</span> <span class="token function">forcedDispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>currentState<span class="token punctuation">.</span>index <span class="token operator">&lt;</span> _RouteLifecycle<span class="token punctuation">.</span>disposed<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// TODO(polina-c): stop duplicating code across disposables</span>
    <span class="token comment">// https://github.com/flutter/flutter/issues/137435</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>kFlutterMemoryAllocationsEnabled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">FlutterMemoryAllocations</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">dispatchObjectDisposed</span><span class="token punctuation">(</span>object<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>disposed<span class="token punctuation">;</span>
    route<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Disposes this route entry and its [route].</span>
  <span class="token comment">///</span>
  <span class="token comment">/// This method waits for the widget subtree of the [route] to unmount before</span>
  <span class="token comment">/// disposing. If subtree is already unmounted, this method calls</span>
  <span class="token comment">/// [forcedDispose] immediately.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Use [forcedDispose] if the [route] need to be disposed immediately.</span>
  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>currentState<span class="token punctuation">.</span>index <span class="token operator">&lt;</span> _RouteLifecycle<span class="token punctuation">.</span>disposing<span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>disposing<span class="token punctuation">;</span>

    <span class="token comment">// If the overlay entries are still mounted, widgets in the route's subtree</span>
    <span class="token comment">// may still reference resources from the route and we delay disposal of</span>
    <span class="token comment">// the route until the overlay entries are no longer mounted.</span>
    <span class="token comment">// Since the overlay entry is the root of the route's subtree it will only</span>
    <span class="token comment">// get unmounted after every other widget in the subtree has been unmounted.</span>

    <span class="token keyword">final</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OverlayEntry</span><span class="token punctuation">&gt;</span></span> mountedEntries <span class="token operator">=</span> route<span class="token punctuation">.</span>overlayEntries<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">OverlayEntry</span> e<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> e<span class="token punctuation">.</span>mounted<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>mountedEntries<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">forcedDispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    int mounted <span class="token operator">=</span> mountedEntries<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>mounted <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">NavigatorState</span> navigator <span class="token operator">=</span> route<span class="token punctuation">.</span>_navigator<span class="token operator">!</span><span class="token punctuation">;</span>
    navigator<span class="token punctuation">.</span>_entryWaitingForSubTreeDisposal<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">OverlayEntry</span> entry <span class="token keyword">in</span> mountedEntries<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      late <span class="token class-name">VoidCallback</span> listener<span class="token punctuation">;</span>
      listener <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>mounted <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>entry<span class="token punctuation">.</span>mounted<span class="token punctuation">)</span><span class="token punctuation">;</span>
        mounted<span class="token operator">--</span><span class="token punctuation">;</span>
        entry<span class="token punctuation">.</span><span class="token function">removeListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>mounted <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>overlayEntries<span class="token punctuation">.</span><span class="token function">every</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">OverlayEntry</span> e<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token operator">!</span>e<span class="token punctuation">.</span>mounted<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token comment">// This is a listener callback of one of the overlayEntries in this</span>
          <span class="token comment">// route. Disposing the route also disposes its overlayEntries and</span>
          <span class="token comment">// violates the rule that a change notifier can't be disposed during</span>
          <span class="token comment">// its notifying callback.</span>
          <span class="token comment">//</span>
          <span class="token comment">// Use a microtask to ensure the overlayEntries have finished</span>
          <span class="token comment">// notifying their listeners before disposing.</span>
          <span class="token keyword">return</span> <span class="token function">scheduleMicrotask</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>navigator<span class="token punctuation">.</span>_entryWaitingForSubTreeDisposal<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// This route must have been destroyed as a result of navigator</span>
              <span class="token comment">// force dispose.</span>
              <span class="token keyword">assert</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>navigator<span class="token punctuation">.</span>mounted<span class="token punctuation">)</span><span class="token punctuation">;</span>
              <span class="token keyword">return</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">assert</span><span class="token punctuation">(</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>disposing<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">forcedDispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
      entry<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  bool <span class="token keyword">get</span> willBePresent <span class="token punctuation">{</span>
    <span class="token keyword">return</span> currentState<span class="token punctuation">.</span>index <span class="token operator">&lt;=</span> _RouteLifecycle<span class="token punctuation">.</span>idle<span class="token punctuation">.</span>index <span class="token operator">&amp;&amp;</span>
           currentState<span class="token punctuation">.</span>index <span class="token operator">&gt;=</span> _RouteLifecycle<span class="token punctuation">.</span>add<span class="token punctuation">.</span>index<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  bool <span class="token keyword">get</span> isPresent <span class="token punctuation">{</span>
    <span class="token keyword">return</span> currentState<span class="token punctuation">.</span>index <span class="token operator">&lt;=</span> _RouteLifecycle<span class="token punctuation">.</span>remove<span class="token punctuation">.</span>index <span class="token operator">&amp;&amp;</span>
           currentState<span class="token punctuation">.</span>index <span class="token operator">&gt;=</span> _RouteLifecycle<span class="token punctuation">.</span>add<span class="token punctuation">.</span>index<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  bool <span class="token keyword">get</span> isPresentForRestoration <span class="token operator">=</span><span class="token operator">&gt;</span> currentState<span class="token punctuation">.</span>index <span class="token operator">&lt;=</span> _RouteLifecycle<span class="token punctuation">.</span>idle<span class="token punctuation">.</span>index<span class="token punctuation">;</span>

  bool <span class="token keyword">get</span> suitableForAnnouncement <span class="token punctuation">{</span>
    <span class="token keyword">return</span> currentState<span class="token punctuation">.</span>index <span class="token operator">&lt;=</span> _RouteLifecycle<span class="token punctuation">.</span>removing<span class="token punctuation">.</span>index <span class="token operator">&amp;&amp;</span>
           currentState<span class="token punctuation">.</span>index <span class="token operator">&gt;=</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">.</span>index<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  bool <span class="token keyword">get</span> suitableForTransitionAnimation <span class="token punctuation">{</span>
    <span class="token keyword">return</span> currentState<span class="token punctuation">.</span>index <span class="token operator">&lt;=</span> _RouteLifecycle<span class="token punctuation">.</span>remove<span class="token punctuation">.</span>index <span class="token operator">&amp;&amp;</span>
           currentState<span class="token punctuation">.</span>index <span class="token operator">&gt;=</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">.</span>index<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  bool <span class="token function">shouldAnnounceChangeToNext</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> nextRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>nextRoute <span class="token operator">!=</span> lastAnnouncedNextRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Do not announce if `next` changes from a just popped route to null. We</span>
    <span class="token comment">// already announced this change by calling didPopNext.</span>
    <span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span>
      nextRoute <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span>
        lastAnnouncedPoppedNextRoute<span class="token punctuation">.</span>target <span class="token operator">==</span> lastAnnouncedNextRoute
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> bool <span class="token function">isPresentPredicate</span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> entry<span class="token punctuation">.</span>isPresent<span class="token punctuation">;</span>
  <span class="token keyword">static</span> bool <span class="token function">suitableForTransitionAnimationPredicate</span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> entry<span class="token punctuation">.</span>suitableForTransitionAnimation<span class="token punctuation">;</span>
  <span class="token keyword">static</span> bool <span class="token function">willBePresentPredicate</span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> entry<span class="token punctuation">.</span>willBePresent<span class="token punctuation">;</span>

  <span class="token keyword">static</span> _RouteEntryPredicate <span class="token function">isRoutePredicate</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> entry<span class="token punctuation">.</span>route <span class="token operator">==</span> route<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  bool <span class="token keyword">get</span> isWaitingForEnteringDecision <span class="token operator">=</span><span class="token operator">&gt;</span> currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>staging<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  bool <span class="token keyword">get</span> isWaitingForExitingDecision <span class="token operator">=</span><span class="token operator">&gt;</span> _isWaitingForExitingDecision<span class="token punctuation">;</span>
  bool _isWaitingForExitingDecision <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token keyword">void</span> <span class="token function">markNeedsExitingDecision</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> _isWaitingForExitingDecision <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">markForPush</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>
      isWaitingForEnteringDecision <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isWaitingForExitingDecision<span class="token punctuation">,</span>
      <span class="token string-literal"><span class="token string">'This route cannot be marked for push. Either a decision has already been '</span></span>
      <span class="token string-literal"><span class="token string">'made or it does not require an explicit decision on how to transition in.'</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">markForAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>
      isWaitingForEnteringDecision <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>isWaitingForExitingDecision<span class="token punctuation">,</span>
      <span class="token string-literal"><span class="token string">'This route cannot be marked for add. Either a decision has already been '</span></span>
      <span class="token string-literal"><span class="token string">'made or it does not require an explicit decision on how to transition in.'</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>add<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">markForPop</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">dynamic</span> result<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>
      <span class="token operator">!</span>isWaitingForEnteringDecision <span class="token operator">&amp;&amp;</span> isWaitingForExitingDecision <span class="token operator">&amp;&amp;</span> isPresent<span class="token punctuation">,</span>
      <span class="token string-literal"><span class="token string">'This route cannot be marked for pop. Either a decision has already been '</span></span>
      <span class="token string-literal"><span class="token string">'made or it does not require an explicit decision on how to transition out.'</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Remove state that prevents a pop, e.g. LocalHistoryEntry[s].</span>
    int attempt <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>route<span class="token punctuation">.</span>willHandlePopInternally<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          attempt <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> attempt <span class="token operator">&lt;</span> kDebugPopAttemptLimit<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">'Attempted to pop </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">route</span></span><span class="token string"> </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">kDebugPopAttemptLimit</span></span><span class="token string"> times, but still failed'</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">final</span> bool popResult <span class="token operator">=</span> route<span class="token punctuation">.</span><span class="token function">didPop</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>popResult<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
    pop<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _isWaitingForExitingDecision <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">markForComplete</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">dynamic</span> result<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>
      <span class="token operator">!</span>isWaitingForEnteringDecision <span class="token operator">&amp;&amp;</span> isWaitingForExitingDecision <span class="token operator">&amp;&amp;</span> isPresent<span class="token punctuation">,</span>
      <span class="token string-literal"><span class="token string">'This route cannot be marked for complete. Either a decision has already '</span></span>
      <span class="token string-literal"><span class="token string">'been made or it does not require an explicit decision on how to transition '</span></span>
      <span class="token string-literal"><span class="token string">'out.'</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    complete<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _isWaitingForExitingDecision <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">markForRemove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>
      <span class="token operator">!</span>isWaitingForEnteringDecision <span class="token operator">&amp;&amp;</span> isWaitingForExitingDecision <span class="token operator">&amp;&amp;</span> isPresent<span class="token punctuation">,</span>
      <span class="token string-literal"><span class="token string">'This route cannot be marked for remove. Either a decision has already '</span></span>
      <span class="token string-literal"><span class="token string">'been made or it does not require an explicit decision on how to transition '</span></span>
      <span class="token string-literal"><span class="token string">'out.'</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _isWaitingForExitingDecision <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  bool <span class="token keyword">get</span> restorationEnabled <span class="token operator">=</span><span class="token operator">&gt;</span> route<span class="token punctuation">.</span>restorationScopeId<span class="token punctuation">.</span>value <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token keyword">set</span> <span class="token function">restorationEnabled</span><span class="token punctuation">(</span>bool value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>value <span class="token operator">||</span> restorationId <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    route<span class="token punctuation">.</span><span class="token function">_updateRestorationId</span><span class="token punctuation">(</span>value <span class="token operator">?</span> restorationId <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">abstract</span> <span class="token keyword">class</span> _NavigatorObservation <span class="token punctuation">{</span>
  <span class="token function">_NavigatorObservation</span><span class="token punctuation">(</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>primaryRoute<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>secondaryRoute<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> primaryRoute<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> secondaryRoute<span class="token punctuation">;</span>

  <span class="token keyword">void</span> <span class="token function">notify</span><span class="token punctuation">(</span><span class="token class-name">NavigatorObserver</span> observer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _NavigatorPushObservation <span class="token keyword">extends</span> _NavigatorObservation <span class="token punctuation">{</span>
  <span class="token function">_NavigatorPushObservation</span><span class="token punctuation">(</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>primaryRoute<span class="token punctuation">,</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>secondaryRoute<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">notify</span><span class="token punctuation">(</span><span class="token class-name">NavigatorObserver</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    observer<span class="token punctuation">.</span><span class="token function">didPush</span><span class="token punctuation">(</span>primaryRoute<span class="token punctuation">,</span> secondaryRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _NavigatorPopObservation <span class="token keyword">extends</span> _NavigatorObservation <span class="token punctuation">{</span>
  <span class="token function">_NavigatorPopObservation</span><span class="token punctuation">(</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>primaryRoute<span class="token punctuation">,</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>secondaryRoute<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">notify</span><span class="token punctuation">(</span><span class="token class-name">NavigatorObserver</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    observer<span class="token punctuation">.</span><span class="token function">didPop</span><span class="token punctuation">(</span>primaryRoute<span class="token punctuation">,</span> secondaryRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _NavigatorRemoveObservation <span class="token keyword">extends</span> _NavigatorObservation <span class="token punctuation">{</span>
  <span class="token function">_NavigatorRemoveObservation</span><span class="token punctuation">(</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>primaryRoute<span class="token punctuation">,</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>secondaryRoute<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">notify</span><span class="token punctuation">(</span><span class="token class-name">NavigatorObserver</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    observer<span class="token punctuation">.</span><span class="token function">didRemove</span><span class="token punctuation">(</span>primaryRoute<span class="token punctuation">,</span> secondaryRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _NavigatorReplaceObservation <span class="token keyword">extends</span> _NavigatorObservation <span class="token punctuation">{</span>
  <span class="token function">_NavigatorReplaceObservation</span><span class="token punctuation">(</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>primaryRoute<span class="token punctuation">,</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>secondaryRoute<span class="token punctuation">,</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">notify</span><span class="token punctuation">(</span><span class="token class-name">NavigatorObserver</span> observer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    observer<span class="token punctuation">.</span><span class="token function">didReplace</span><span class="token punctuation">(</span>newRoute<span class="token punctuation">:</span> primaryRoute<span class="token punctuation">,</span> oldRoute<span class="token punctuation">:</span> secondaryRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">typedef</span> _IndexWhereCallback <span class="token operator">=</span> bool <span class="token class-name">Function</span><span class="token punctuation">(</span>_RouteEntry element<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/// A collection of _RouteEntries representing a navigation history.</span>
<span class="token comment">///</span>
<span class="token comment">/// Acts as a ChangeNotifier and notifies after its List of _RouteEntries is</span>
<span class="token comment">/// mutated.</span>
<span class="token keyword">class</span> _History <span class="token keyword">extends</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> <span class="token keyword">with</span> <span class="token class-name">ChangeNotifier</span> <span class="token punctuation">{</span>
  <span class="token comment">/// Creates an instance of [_History].</span>
  <span class="token function">_History</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>kFlutterMemoryAllocationsEnabled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">ChangeNotifier</span><span class="token punctuation">.</span><span class="token function">maybeDispatchObjectCreation</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> _value <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  int <span class="token function">indexWhere</span><span class="token punctuation">(</span>_IndexWhereCallback test<span class="token punctuation">,</span> <span class="token punctuation">[</span>int start <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> _value<span class="token punctuation">.</span><span class="token function">indexWhere</span><span class="token punctuation">(</span>test<span class="token punctuation">,</span> start<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span>_RouteEntry element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _value<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">addAll</span><span class="token punctuation">(</span><span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> elements<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _value<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>elements<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>elements<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> bool valueWasEmpty <span class="token operator">=</span> _value<span class="token punctuation">.</span>isEmpty<span class="token punctuation">;</span>
    _value<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>valueWasEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">insert</span><span class="token punctuation">(</span>int index<span class="token punctuation">,</span> _RouteEntry element<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _value<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> element<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  _RouteEntry <span class="token function">removeAt</span><span class="token punctuation">(</span>int index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _value<span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> entry<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  _RouteEntry <span class="token function">removeLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _value<span class="token punctuation">.</span><span class="token function">removeLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> entry<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  _RouteEntry <span class="token keyword">operator</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">(</span>int index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> _value<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> iterator <span class="token punctuation">{</span>
    <span class="token keyword">return</span> _value<span class="token punctuation">.</span>iterator<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> _value<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/// The state for a [Navigator] widget.</span>
<span class="token comment">///</span>
<span class="token comment">/// A reference to this class can be obtained by calling [Navigator.of].</span>
<span class="token keyword">class</span> <span class="token class-name">NavigatorState</span> <span class="token keyword">extends</span> <span class="token class-name">State</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Navigator</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">with</span> <span class="token class-name">TickerProviderStateMixin</span><span class="token punctuation">,</span> <span class="token class-name">RestorationMixin</span> <span class="token punctuation">{</span>
  late <span class="token class-name">GlobalKey</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OverlayState</span><span class="token punctuation">&gt;</span></span> _overlayKey<span class="token punctuation">;</span>
  <span class="token keyword">final</span> _History _history <span class="token operator">=</span> <span class="token function">_History</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// A set for entries that are waiting to dispose until their subtrees are</span>
  <span class="token comment">/// disposed.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// These entries are not considered to be in the _history and will usually</span>
  <span class="token comment">/// remove themselves from this set once they can dispose.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The navigator keep track of these entries so that, in case the navigator</span>
  <span class="token comment">/// itself is disposed, it can dispose these entries immediately.</span>
  <span class="token keyword">final</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> _entryWaitingForSubTreeDisposal <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> _HistoryProperty _serializableHistory <span class="token operator">=</span> <span class="token function">_HistoryProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span>_NavigatorObservation<span class="token punctuation">&gt;</span></span> _observedRouteAdditions <span class="token operator">=</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span>_NavigatorObservation<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span>_NavigatorObservation<span class="token punctuation">&gt;</span></span> _observedRouteDeletions <span class="token operator">=</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span>_NavigatorObservation<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// The [FocusNode] for the [Focus] that encloses the routes.</span>
  <span class="token keyword">final</span> <span class="token class-name">FocusNode</span> focusNode <span class="token operator">=</span> <span class="token class-name">FocusNode</span><span class="token punctuation">(</span>debugLabel<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Navigator'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  bool _debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// used to prevent re-entrant calls to push, pop, and friends</span>

  <span class="token class-name">HeroController</span><span class="token operator">?</span> _heroControllerFromScope<span class="token punctuation">;</span>

  late <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorObserver</span><span class="token punctuation">&gt;</span></span> _effectiveObservers<span class="token punctuation">;</span>

  bool <span class="token keyword">get</span> _usingPagesAPI <span class="token operator">=</span><span class="token operator">&gt;</span> widget<span class="token punctuation">.</span>pages <span class="token operator">!=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Page</span><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token keyword">void</span> <span class="token function">_handleHistoryChanged</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> bool navigatorCanPop <span class="token operator">=</span> <span class="token function">canPop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    late <span class="token keyword">final</span> bool routeBlocksPop<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>navigatorCanPop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> _RouteEntry<span class="token operator">?</span> lastEntry <span class="token operator">=</span> <span class="token function">_lastRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
      routeBlocksPop <span class="token operator">=</span> lastEntry <span class="token operator">!=</span> <span class="token keyword">null</span>
          <span class="token operator">&amp;&amp;</span> lastEntry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>popDisposition <span class="token operator">==</span> <span class="token class-name">RoutePopDisposition</span><span class="token punctuation">.</span>doNotPop<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      routeBlocksPop <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">final</span> <span class="token class-name">NavigationNotification</span> notification <span class="token operator">=</span> <span class="token class-name">NavigationNotification</span><span class="token punctuation">(</span>
      canHandlePop<span class="token punctuation">:</span> navigatorCanPop <span class="token operator">||</span> routeBlocksPop<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Avoid dispatching a notification in the middle of a build.</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>schedulerPhase<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token class-name">SchedulerPhase</span><span class="token punctuation">.</span>postFrameCallbacks<span class="token punctuation">:</span>
        notification<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token class-name">SchedulerPhase</span><span class="token punctuation">.</span>idle<span class="token punctuation">:</span>
      <span class="token keyword">case</span> <span class="token class-name">SchedulerPhase</span><span class="token punctuation">.</span>midFrameMicrotasks<span class="token punctuation">:</span>
      <span class="token keyword">case</span> <span class="token class-name">SchedulerPhase</span><span class="token punctuation">.</span>persistentCallbacks<span class="token punctuation">:</span>
      <span class="token keyword">case</span> <span class="token class-name">SchedulerPhase</span><span class="token punctuation">.</span>transientCallbacks<span class="token punctuation">:</span>
        <span class="token class-name">SchedulerBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">addPostFrameCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Duration</span> timeStamp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mounted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          notification<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> debugLabel<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Navigator.dispatchNotification'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">initState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_usingPagesAPI<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>pages<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token class-name">FlutterError</span><span class="token punctuation">.</span><span class="token function">reportError</span><span class="token punctuation">(</span>
            <span class="token class-name">FlutterErrorDetails</span><span class="token punctuation">(</span>
              exception<span class="token punctuation">:</span> <span class="token class-name">FlutterError</span><span class="token punctuation">(</span>
                <span class="token string-literal"><span class="token string">'The Navigator.pages must not be empty to use the '</span></span>
                <span class="token string-literal"><span class="token string">'Navigator.pages API'</span></span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token keyword">library</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'widget library'</span></span><span class="token punctuation">,</span>
              stack<span class="token punctuation">:</span> <span class="token class-name">StackTrace</span><span class="token punctuation">.</span>current<span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>onPopPage <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token class-name">FlutterError</span><span class="token punctuation">.</span><span class="token function">reportError</span><span class="token punctuation">(</span>
            <span class="token class-name">FlutterErrorDetails</span><span class="token punctuation">(</span>
              exception<span class="token punctuation">:</span> <span class="token class-name">FlutterError</span><span class="token punctuation">(</span>
                <span class="token string-literal"><span class="token string">'The Navigator.onPopPage must be provided to use the '</span></span>
                <span class="token string-literal"><span class="token string">'Navigator.pages API'</span></span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token keyword">library</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'widget library'</span></span><span class="token punctuation">,</span>
              stack<span class="token punctuation">:</span> <span class="token class-name">StackTrace</span><span class="token punctuation">.</span>current<span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">NavigatorObserver</span> observer <span class="token keyword">in</span> widget<span class="token punctuation">.</span>observers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>observer<span class="token punctuation">.</span>navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">NavigatorObserver</span><span class="token punctuation">.</span>_navigators<span class="token punctuation">[</span>observer<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    _effectiveObservers <span class="token operator">=</span> widget<span class="token punctuation">.</span>observers<span class="token punctuation">;</span>

    <span class="token comment">// We have to manually extract the inherited widget in initState because</span>
    <span class="token comment">// the current context is not fully initialized.</span>
    <span class="token keyword">final</span> <span class="token class-name">HeroControllerScope</span><span class="token operator">?</span> heroControllerScope <span class="token operator">=</span> context
      <span class="token punctuation">.</span>getElementForInheritedWidgetOfExactType<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HeroControllerScope</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token operator">?</span><span class="token punctuation">.</span>widget <span class="token operator">as</span> <span class="token class-name">HeroControllerScope</span><span class="token operator">?</span><span class="token punctuation">;</span>
    <span class="token function">_updateHeroController</span><span class="token punctuation">(</span>heroControllerScope<span class="token operator">?</span><span class="token punctuation">.</span>controller<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>reportsRouteUpdateToEngine<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">SystemNavigator</span><span class="token punctuation">.</span><span class="token function">selectSingleEntryHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token class-name">ServicesBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>accessibilityFocus<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>_recordLastFocus<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _history<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>_handleHistoryChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Record the last focused node in route entry.</span>
  <span class="token keyword">void</span> <span class="token function">_recordLastFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">final</span> _RouteEntry<span class="token operator">?</span> entry <span class="token operator">=</span> _history<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">.</span>lastOrNull<span class="token punctuation">;</span>
    entry<span class="token operator">?</span><span class="token punctuation">.</span>lastFocusNode <span class="token operator">=</span> <span class="token class-name">ServicesBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>accessibilityFocus<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Use [_nextPagelessRestorationScopeId] to get the next id.</span>
  <span class="token keyword">final</span> <span class="token class-name">RestorableNum</span><span class="token generics"><span class="token punctuation">&lt;</span>int<span class="token punctuation">&gt;</span></span> _rawNextPagelessRestorationScopeId <span class="token operator">=</span> <span class="token class-name">RestorableNum</span><span class="token generics"><span class="token punctuation">&lt;</span>int<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  int <span class="token keyword">get</span> _nextPagelessRestorationScopeId <span class="token operator">=</span><span class="token operator">&gt;</span> _rawNextPagelessRestorationScopeId<span class="token punctuation">.</span>value<span class="token operator">++</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">restoreState</span><span class="token punctuation">(</span><span class="token class-name">RestorationBucket</span><span class="token operator">?</span> oldBucket<span class="token punctuation">,</span> bool initialRestore<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">registerForRestoration</span><span class="token punctuation">(</span>_rawNextPagelessRestorationScopeId<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'id'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">registerForRestoration</span><span class="token punctuation">(</span>_serializableHistory<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'history'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Delete everything in the old history and clear the overlay.</span>
    <span class="token function">_forcedDisposeAllRouteEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_history<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _overlayKey <span class="token operator">=</span> <span class="token class-name">GlobalKey</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OverlayState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Populate the new history from restoration data.</span>
    _history<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>_serializableHistory<span class="token punctuation">.</span><span class="token function">restoreEntriesForPage</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> page <span class="token keyword">in</span> widget<span class="token punctuation">.</span>pages<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> <span class="token function">_RouteEntry</span><span class="token punctuation">(</span>
        page<span class="token punctuation">.</span><span class="token function">createRoute</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">,</span>
        pageBased<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>add<span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>
        entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>settings <span class="token operator">==</span> page<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">'The settings getter of a page-based Route must return a Page object. '</span></span>
        <span class="token string-literal"><span class="token string">'Please set the settings to the Page in the Page.createRoute method.'</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      _history<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      _history<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>_serializableHistory<span class="token punctuation">.</span><span class="token function">restoreEntriesForPage</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// If there was nothing to restore, we need to process the initial route.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_serializableHistory<span class="token punctuation">.</span>hasData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">String</span><span class="token operator">?</span> initialRoute <span class="token operator">=</span> widget<span class="token punctuation">.</span>initialRoute<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>pages<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        initialRoute <span class="token operator">=</span> initialRoute <span class="token operator">?</span><span class="token operator">?</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span>defaultRouteName<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>initialRoute <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        _history<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>
          widget<span class="token punctuation">.</span><span class="token function">onGenerateInitialRoutes</span><span class="token punctuation">(</span>
            <span class="token keyword">this</span><span class="token punctuation">,</span>
            widget<span class="token punctuation">.</span>initialRoute <span class="token operator">?</span><span class="token operator">?</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span>defaultRouteName<span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token function">_RouteEntry</span><span class="token punctuation">(</span>
              route<span class="token punctuation">,</span>
              pageBased<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
              initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>add<span class="token punctuation">,</span>
              restorationInformation<span class="token punctuation">:</span> route<span class="token punctuation">.</span>settings<span class="token punctuation">.</span>name <span class="token operator">!=</span> <span class="token keyword">null</span>
                <span class="token operator">?</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">named</span><span class="token punctuation">(</span>
                  name<span class="token punctuation">:</span> route<span class="token punctuation">.</span>settings<span class="token punctuation">.</span>name<span class="token operator">!</span><span class="token punctuation">,</span>
                  arguments<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
                  restorationScopeId<span class="token punctuation">:</span> _nextPagelessRestorationScopeId<span class="token punctuation">,</span>
                <span class="token punctuation">)</span>
                <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">assert</span><span class="token punctuation">(</span>
      _history<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">,</span>
      <span class="token string-literal"><span class="token string">'All routes returned by onGenerateInitialRoutes are not restorable. '</span></span>
      <span class="token string-literal"><span class="token string">'Please make sure that all routes returned by onGenerateInitialRoutes '</span></span>
      <span class="token string-literal"><span class="token string">'have their RouteSettings defined with names that are defined in the '</span></span>
      <span class="token string-literal"><span class="token string">&quot;app's routes table.&quot;</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">didToggleBucket</span><span class="token punctuation">(</span><span class="token class-name">RestorationBucket</span><span class="token operator">?</span> oldBucket<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didToggleBucket</span><span class="token punctuation">(</span>oldBucket<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>bucket <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _serializableHistory<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>_history<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      _serializableHistory<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token metadata function">@override</span>
  <span class="token class-name">String</span><span class="token operator">?</span> <span class="token keyword">get</span> restorationId <span class="token operator">=</span><span class="token operator">&gt;</span> widget<span class="token punctuation">.</span>restorationScopeId<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">didChangeDependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didChangeDependencies</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_updateHeroController</span><span class="token punctuation">(</span><span class="token class-name">HeroControllerScope</span><span class="token punctuation">.</span><span class="token function">maybeOf</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> _RouteEntry entry <span class="token keyword">in</span> _history<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span><span class="token function">changedExternalState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Dispose all lingering router entries immediately.</span>
  <span class="token keyword">void</span> <span class="token function">_forcedDisposeAllRouteEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _entryWaitingForSubTreeDisposal<span class="token punctuation">.</span><span class="token function">removeWhere</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      entry<span class="token punctuation">.</span><span class="token function">forcedDispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>_history<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">_disposeRouteEntry</span><span class="token punctuation">(</span>_history<span class="token punctuation">.</span><span class="token function">removeLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> graceful<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">_disposeRouteEntry</span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">,</span> <span class="token punctuation">{</span>required bool graceful<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">OverlayEntry</span> overlayEntry <span class="token keyword">in</span> entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>overlayEntries<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      overlayEntry<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>graceful<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      entry<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      entry<span class="token punctuation">.</span><span class="token function">forcedDispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_updateHeroController</span><span class="token punctuation">(</span><span class="token class-name">HeroController</span><span class="token operator">?</span> newHeroController<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_heroControllerFromScope <span class="token operator">!=</span> newHeroController<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newHeroController <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Makes sure the same hero controller is not shared between two navigators.</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// It is possible that the hero controller subscribes to an existing</span>
          <span class="token comment">// navigator. We are fine as long as that navigator gives up the hero</span>
          <span class="token comment">// controller at the end of the build.</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>newHeroController<span class="token punctuation">.</span>navigator <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">final</span> <span class="token class-name">NavigatorState</span> previousOwner <span class="token operator">=</span> newHeroController<span class="token punctuation">.</span>navigator<span class="token operator">!</span><span class="token punctuation">;</span>
            <span class="token class-name">ServicesBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">addPostFrameCallback</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Duration</span> timestamp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token comment">// We only check if this navigator still owns the hero controller.</span>
              <span class="token keyword">if</span> <span class="token punctuation">(</span>_heroControllerFromScope <span class="token operator">==</span> newHeroController<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">final</span> bool hasHeroControllerOwnerShip <span class="token operator">=</span> _heroControllerFromScope<span class="token operator">!</span><span class="token punctuation">.</span>navigator <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasHeroControllerOwnerShip <span class="token operator">||</span>
                    previousOwner<span class="token punctuation">.</span>_heroControllerFromScope <span class="token operator">==</span> newHeroController<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                  <span class="token keyword">final</span> <span class="token class-name">NavigatorState</span> otherOwner <span class="token operator">=</span> hasHeroControllerOwnerShip
                    <span class="token operator">?</span> previousOwner
                    <span class="token punctuation">:</span> _heroControllerFromScope<span class="token operator">!</span><span class="token punctuation">.</span>navigator<span class="token operator">!</span><span class="token punctuation">;</span>
                  <span class="token class-name">FlutterError</span><span class="token punctuation">.</span><span class="token function">reportError</span><span class="token punctuation">(</span>
                    <span class="token class-name">FlutterErrorDetails</span><span class="token punctuation">(</span>
                      exception<span class="token punctuation">:</span> <span class="token class-name">FlutterError</span><span class="token punctuation">(</span>
                        <span class="token string-literal"><span class="token string">'A HeroController can not be shared by multiple Navigators. '</span></span>
                        <span class="token string-literal"><span class="token string">'The Navigators that share the same HeroController are:\n'</span></span>
                        <span class="token string-literal"><span class="token string">'- </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression"><span class="token keyword">this</span></span></span><span class="token string">\n'</span></span>
                        <span class="token string-literal"><span class="token string">'- </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">otherOwner</span></span><span class="token string">\n'</span></span>
                        <span class="token string-literal"><span class="token string">'Please create a HeroControllerScope for each Navigator or '</span></span>
                        <span class="token string-literal"><span class="token string">'use a HeroControllerScope.none to prevent subtree from '</span></span>
                        <span class="token string-literal"><span class="token string">'receiving a HeroController.'</span></span><span class="token punctuation">,</span>
                      <span class="token punctuation">)</span><span class="token punctuation">,</span>
                      <span class="token keyword">library</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'widget library'</span></span><span class="token punctuation">,</span>
                      stack<span class="token punctuation">:</span> <span class="token class-name">StackTrace</span><span class="token punctuation">.</span>current<span class="token punctuation">,</span>
                    <span class="token punctuation">)</span><span class="token punctuation">,</span>
                  <span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
              <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span> debugLabel<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'Navigator.checkHeroControllerOwnership'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">NavigatorObserver</span><span class="token punctuation">.</span>_navigators<span class="token punctuation">[</span>newHeroController<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// Only unsubscribe the hero controller when it is currently subscribe to</span>
      <span class="token comment">// this navigator.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_heroControllerFromScope<span class="token operator">?</span><span class="token punctuation">.</span>navigator <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">NavigatorObserver</span><span class="token punctuation">.</span>_navigators<span class="token punctuation">[</span>_heroControllerFromScope<span class="token operator">!</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      _heroControllerFromScope <span class="token operator">=</span> newHeroController<span class="token punctuation">;</span>
      <span class="token function">_updateEffectiveObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_updateEffectiveObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_heroControllerFromScope <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _effectiveObservers <span class="token operator">=</span> widget<span class="token punctuation">.</span>observers <span class="token operator">+</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorObserver</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>_heroControllerFromScope<span class="token operator">!</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      _effectiveObservers <span class="token operator">=</span> widget<span class="token punctuation">.</span>observers<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">didUpdateWidget</span><span class="token punctuation">(</span><span class="token class-name">Navigator</span> oldWidget<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">didUpdateWidget</span><span class="token punctuation">(</span>oldWidget<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_usingPagesAPI<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// This navigator uses page API.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>pages<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token class-name">FlutterError</span><span class="token punctuation">.</span><span class="token function">reportError</span><span class="token punctuation">(</span>
            <span class="token class-name">FlutterErrorDetails</span><span class="token punctuation">(</span>
              exception<span class="token punctuation">:</span> <span class="token class-name">FlutterError</span><span class="token punctuation">(</span>
                <span class="token string-literal"><span class="token string">'The Navigator.pages must not be empty to use the '</span></span>
                <span class="token string-literal"><span class="token string">'Navigator.pages API'</span></span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token keyword">library</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'widget library'</span></span><span class="token punctuation">,</span>
              stack<span class="token punctuation">:</span> <span class="token class-name">StackTrace</span><span class="token punctuation">.</span>current<span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>onPopPage <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token class-name">FlutterError</span><span class="token punctuation">.</span><span class="token function">reportError</span><span class="token punctuation">(</span>
            <span class="token class-name">FlutterErrorDetails</span><span class="token punctuation">(</span>
              exception<span class="token punctuation">:</span> <span class="token class-name">FlutterError</span><span class="token punctuation">(</span>
                <span class="token string-literal"><span class="token string">'The Navigator.onPopPage must be provided to use the '</span></span>
                <span class="token string-literal"><span class="token string">'Navigator.pages API'</span></span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token keyword">library</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'widget library'</span></span><span class="token punctuation">,</span>
              stack<span class="token punctuation">:</span> <span class="token class-name">StackTrace</span><span class="token punctuation">.</span>current<span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldWidget<span class="token punctuation">.</span>observers <span class="token operator">!=</span> widget<span class="token punctuation">.</span>observers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">NavigatorObserver</span> observer <span class="token keyword">in</span> oldWidget<span class="token punctuation">.</span>observers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">NavigatorObserver</span><span class="token punctuation">.</span>_navigators<span class="token punctuation">[</span>observer<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">NavigatorObserver</span> observer <span class="token keyword">in</span> widget<span class="token punctuation">.</span>observers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>observer<span class="token punctuation">.</span>navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">NavigatorObserver</span><span class="token punctuation">.</span>_navigators<span class="token punctuation">[</span>observer<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">_updateEffectiveObservers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldWidget<span class="token punctuation">.</span>pages <span class="token operator">!=</span> widget<span class="token punctuation">.</span>pages <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>restorePending<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>pages<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token class-name">FlutterError</span><span class="token punctuation">.</span><span class="token function">reportError</span><span class="token punctuation">(</span>
            <span class="token class-name">FlutterErrorDetails</span><span class="token punctuation">(</span>
              exception<span class="token punctuation">:</span> <span class="token class-name">FlutterError</span><span class="token punctuation">(</span>
                <span class="token string-literal"><span class="token string">'The Navigator.pages must not be empty to use the '</span></span>
                <span class="token string-literal"><span class="token string">'Navigator.pages API'</span></span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token keyword">library</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'widget library'</span></span><span class="token punctuation">,</span>
              stack<span class="token punctuation">:</span> <span class="token class-name">StackTrace</span><span class="token punctuation">.</span>current<span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">_updatePages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> _RouteEntry entry <span class="token keyword">in</span> _history<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span><span class="token function">changedExternalState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_debugCheckDuplicatedPageKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">&gt;</span></span> keyReservation <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> page <span class="token keyword">in</span> widget<span class="token punctuation">.</span>pages<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">LocalKey</span><span class="token operator">?</span> key <span class="token operator">=</span> page<span class="token punctuation">.</span>key<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>keyReservation<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          keyReservation<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">NavigatorObserver</span> observer <span class="token keyword">in</span> _effectiveObservers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">NavigatorObserver</span><span class="token punctuation">.</span>_navigators<span class="token punctuation">[</span>observer<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">deactivate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">activate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">activate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">NavigatorObserver</span> observer <span class="token keyword">in</span> _effectiveObservers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>observer<span class="token punctuation">.</span>navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">NavigatorObserver</span><span class="token punctuation">.</span>_navigators<span class="token punctuation">[</span>observer<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">NavigatorObserver</span> observer <span class="token keyword">in</span> _effectiveObservers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>observer<span class="token punctuation">.</span>navigator <span class="token operator">!=</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_updateHeroController</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    focusNode<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_forcedDisposeAllRouteEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _rawNextPagelessRestorationScopeId<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _serializableHistory<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    userGestureInProgressNotifier<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ServicesBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>accessibilityFocus<span class="token punctuation">.</span><span class="token function">removeListener</span><span class="token punctuation">(</span>_recordLastFocus<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _history<span class="token punctuation">.</span><span class="token function">removeListener</span><span class="token punctuation">(</span>_handleHistoryChanged<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _history<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// don't unlock, so that the object becomes unusable</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// The overlay this navigator uses for its visual presentation.</span>
  <span class="token class-name">OverlayState</span><span class="token operator">?</span> <span class="token keyword">get</span> overlay <span class="token operator">=</span><span class="token operator">&gt;</span> _overlayKey<span class="token punctuation">.</span>currentState<span class="token punctuation">;</span>

  <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OverlayEntry</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> _allRouteOverlayEntries <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OverlayEntry</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> _RouteEntry entry <span class="token keyword">in</span> _history<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>overlayEntries<span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">String</span><span class="token operator">?</span> _lastAnnouncedRouteName<span class="token punctuation">;</span>

  bool _debugUpdatingPage <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token keyword">void</span> <span class="token function">_updatePages</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugUpdatingPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">_debugCheckDuplicatedPageKeys</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      _debugUpdatingPage <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// This attempts to diff the new pages list (widget.pages) with</span>
    <span class="token comment">// the old _RouteEntry(s) list (_history), and produces a new list of</span>
    <span class="token comment">// _RouteEntry(s) to be the new list of _history. This method roughly</span>
    <span class="token comment">// follows the same outline of RenderObjectElement.updateChildren.</span>
    <span class="token comment">//</span>
    <span class="token comment">// The cases it tries to optimize for are:</span>
    <span class="token comment">//  - the old list is empty</span>
    <span class="token comment">//  - All the pages in the new list can match the page-based routes in the old</span>
    <span class="token comment">//    list, and their orders are the same.</span>
    <span class="token comment">//  - there is an insertion or removal of one or more page-based route in</span>
    <span class="token comment">//    only one place in the list</span>
    <span class="token comment">// If a page-based route with a key is in both lists, it will be synced.</span>
    <span class="token comment">// Page-based routes without keys might be synced but there is no guarantee.</span>

    <span class="token comment">// The general approach is to sync the entire new list backwards, as follows:</span>
    <span class="token comment">// 1. Walk the lists from the bottom, syncing nodes, and record pageless routes,</span>
    <span class="token comment">//    until you no longer have matching nodes.</span>
    <span class="token comment">// 2. Walk the lists from the top, without syncing nodes, until you no</span>
    <span class="token comment">//    longer have matching nodes. We'll sync these nodes at the end. We</span>
    <span class="token comment">//    don't sync them now because we want to sync all the nodes in order</span>
    <span class="token comment">//    from beginning to end.</span>
    <span class="token comment">// At this point we narrowed the old and new lists to the point</span>
    <span class="token comment">// where the nodes no longer match.</span>
    <span class="token comment">// 3. Walk the narrowed part of the old list to get the list of</span>
    <span class="token comment">//    keys.</span>
    <span class="token comment">// 4. Walk the narrowed part of the new list forwards:</span>
    <span class="token comment">//     * Create a new _RouteEntry for non-keyed items and record them for</span>
    <span class="token comment">//       transitionDelegate.</span>
    <span class="token comment">//     * Sync keyed items with the source if it exists.</span>
    <span class="token comment">// 5. Walk the narrowed part of the old list again to records the</span>
    <span class="token comment">//    _RouteEntry(s), as well as pageless routes, needed to be removed for</span>
    <span class="token comment">//    transitionDelegate.</span>
    <span class="token comment">// 5. Walk the top of the list again, syncing the nodes and recording</span>
    <span class="token comment">//    pageless routes.</span>
    <span class="token comment">// 6. Use transitionDelegate for explicit decisions on how _RouteEntry(s)</span>
    <span class="token comment">//    transition in or off the screens.</span>
    <span class="token comment">// 7. Fill pageless routes back into the new history.</span>

    bool needsExplicitDecision <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    int newPagesBottom <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    int oldEntriesBottom <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    int newPagesTop <span class="token operator">=</span> widget<span class="token punctuation">.</span>pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    int oldEntriesTop <span class="token operator">=</span> _history<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> newHistory <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> pageRouteToPagelessRoutes <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// Updates the bottom of the list.</span>
    _RouteEntry<span class="token operator">?</span> previousOldPageRouteEntry<span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>oldEntriesBottom <span class="token operator">&lt;=</span> oldEntriesTop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> _RouteEntry oldEntry <span class="token operator">=</span> _history<span class="token punctuation">[</span>oldEntriesBottom<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>oldEntry<span class="token punctuation">.</span>currentState <span class="token operator">!=</span> _RouteLifecycle<span class="token punctuation">.</span>disposed<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// Records pageless route. The bottom most pageless routes will be</span>
      <span class="token comment">// stored in key = null.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oldEntry<span class="token punctuation">.</span>pageBased<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> pagelessRoutes <span class="token operator">=</span> pageRouteToPagelessRoutes<span class="token punctuation">.</span><span class="token function">putIfAbsent</span><span class="token punctuation">(</span>
          previousOldPageRouteEntry<span class="token punctuation">,</span>
          <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        pagelessRoutes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>oldEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
        oldEntriesBottom <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newPagesBottom <span class="token operator">&gt;</span> newPagesTop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">final</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> newPage <span class="token operator">=</span> widget<span class="token punctuation">.</span>pages<span class="token punctuation">[</span>newPagesBottom<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oldEntry<span class="token punctuation">.</span><span class="token function">canUpdateFrom</span><span class="token punctuation">(</span>newPage<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      previousOldPageRouteEntry <span class="token operator">=</span> oldEntry<span class="token punctuation">;</span>
      oldEntry<span class="token punctuation">.</span>route<span class="token punctuation">.</span><span class="token function">_updateSettings</span><span class="token punctuation">(</span>newPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
      newHistory<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>oldEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      newPagesBottom <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      oldEntriesBottom <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> unattachedPagelessRoutes<span class="token operator">=</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// Scans the top of the list until we found a page-based route that cannot be</span>
    <span class="token comment">// updated.</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>oldEntriesBottom <span class="token operator">&lt;=</span> oldEntriesTop<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>newPagesBottom <span class="token operator">&lt;=</span> newPagesTop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> _RouteEntry oldEntry <span class="token operator">=</span> _history<span class="token punctuation">[</span>oldEntriesTop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>oldEntry<span class="token punctuation">.</span>currentState <span class="token operator">!=</span> _RouteLifecycle<span class="token punctuation">.</span>disposed<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oldEntry<span class="token punctuation">.</span>pageBased<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        unattachedPagelessRoutes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>oldEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
        oldEntriesTop <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">final</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> newPage <span class="token operator">=</span> widget<span class="token punctuation">.</span>pages<span class="token punctuation">[</span>newPagesTop<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oldEntry<span class="token punctuation">.</span><span class="token function">canUpdateFrom</span><span class="token punctuation">(</span>newPage<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token comment">// We found the page for all the consecutive pageless routes below. Attach these</span>
      <span class="token comment">// pageless routes to the page.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>unattachedPagelessRoutes<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         pageRouteToPagelessRoutes<span class="token punctuation">.</span><span class="token function">putIfAbsent</span><span class="token punctuation">(</span>
          oldEntry<span class="token punctuation">,</span>
          <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span>  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>unattachedPagelessRoutes<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        unattachedPagelessRoutes<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      oldEntriesTop <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      newPagesTop <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Reverts the pageless routes that cannot be updated.</span>
    oldEntriesTop <span class="token operator">+=</span> unattachedPagelessRoutes<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

    <span class="token comment">// Scans middle of the old entries and records the page key to old entry map.</span>
    int oldEntriesBottomToScan <span class="token operator">=</span> oldEntriesBottom<span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LocalKey</span><span class="token punctuation">,</span> _RouteEntry<span class="token punctuation">&gt;</span></span> pageKeyToOldEntry <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">LocalKey</span><span class="token punctuation">,</span> _RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token comment">// This set contains entries that are transitioning out but are still in</span>
    <span class="token comment">// the route stack.</span>
    <span class="token keyword">final</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> phantomEntries <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>oldEntriesBottomToScan <span class="token operator">&lt;=</span> oldEntriesTop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> _RouteEntry oldEntry <span class="token operator">=</span> _history<span class="token punctuation">[</span>oldEntriesBottomToScan<span class="token punctuation">]</span><span class="token punctuation">;</span>
      oldEntriesBottomToScan <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>
        oldEntry<span class="token punctuation">.</span>currentState <span class="token operator">!=</span> _RouteLifecycle<span class="token punctuation">.</span>disposed<span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// Pageless routes will be recorded when we update the middle of the old</span>
      <span class="token comment">// list.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oldEntry<span class="token punctuation">.</span>pageBased<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">final</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> page <span class="token operator">=</span> oldEntry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>settings <span class="token operator">as</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span>key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oldEntry<span class="token punctuation">.</span>willBePresent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        phantomEntries<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>oldEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>pageKeyToOldEntry<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      pageKeyToOldEntry<span class="token punctuation">[</span>page<span class="token punctuation">.</span>key<span class="token operator">!</span><span class="token punctuation">]</span> <span class="token operator">=</span> oldEntry<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Updates the middle of the list.</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>newPagesBottom <span class="token operator">&lt;=</span> newPagesTop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> nextPage <span class="token operator">=</span> widget<span class="token punctuation">.</span>pages<span class="token punctuation">[</span>newPagesBottom<span class="token punctuation">]</span><span class="token punctuation">;</span>
      newPagesBottom <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>
        nextPage<span class="token punctuation">.</span>key <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
        <span class="token operator">!</span>pageKeyToOldEntry<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>nextPage<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token operator">||</span>
        <span class="token operator">!</span>pageKeyToOldEntry<span class="token punctuation">[</span>nextPage<span class="token punctuation">.</span>key<span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">canUpdateFrom</span><span class="token punctuation">(</span>nextPage<span class="token punctuation">)</span>
      <span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// There is no matching key in the old history, we need to create a new</span>
        <span class="token comment">// route and wait for the transition delegate to decide how to add</span>
        <span class="token comment">// it into the history.</span>
        <span class="token keyword">final</span> _RouteEntry newEntry <span class="token operator">=</span> <span class="token function">_RouteEntry</span><span class="token punctuation">(</span>
          nextPage<span class="token punctuation">.</span><span class="token function">createRoute</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">,</span>
          pageBased<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>staging<span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        needsExplicitDecision <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>
          newEntry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>settings <span class="token operator">==</span> nextPage<span class="token punctuation">,</span>
          <span class="token string-literal"><span class="token string">'The settings getter of a page-based Route must return a Page object. '</span></span>
          <span class="token string-literal"><span class="token string">'Please set the settings to the Page in the Page.createRoute method.'</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        newHistory<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>newEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// Removes the key from pageKeyToOldEntry to indicate it is taken.</span>
        <span class="token keyword">final</span> _RouteEntry matchingEntry <span class="token operator">=</span> pageKeyToOldEntry<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>nextPage<span class="token punctuation">.</span>key<span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>matchingEntry<span class="token punctuation">.</span><span class="token function">canUpdateFrom</span><span class="token punctuation">(</span>nextPage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        matchingEntry<span class="token punctuation">.</span>route<span class="token punctuation">.</span><span class="token function">_updateSettings</span><span class="token punctuation">(</span>nextPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
        newHistory<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>matchingEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Any remaining old routes that do not have a match will need to be removed.</span>
    <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> locationToExitingPageRoute <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>oldEntriesBottom <span class="token operator">&lt;=</span> oldEntriesTop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> _RouteEntry potentialEntryToRemove <span class="token operator">=</span> _history<span class="token punctuation">[</span>oldEntriesBottom<span class="token punctuation">]</span><span class="token punctuation">;</span>
      oldEntriesBottom <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>potentialEntryToRemove<span class="token punctuation">.</span>pageBased<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>previousOldPageRouteEntry <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> pagelessRoutes <span class="token operator">=</span> pageRouteToPagelessRoutes
          <span class="token punctuation">.</span><span class="token function">putIfAbsent</span><span class="token punctuation">(</span>
            previousOldPageRouteEntry<span class="token punctuation">,</span>
            <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        pagelessRoutes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>potentialEntryToRemove<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>previousOldPageRouteEntry<span class="token operator">!</span><span class="token punctuation">.</span>isWaitingForExitingDecision <span class="token operator">&amp;&amp;</span> potentialEntryToRemove<span class="token punctuation">.</span>willBePresent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          potentialEntryToRemove<span class="token punctuation">.</span><span class="token function">markNeedsExitingDecision</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">final</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> potentialPageToRemove <span class="token operator">=</span> potentialEntryToRemove<span class="token punctuation">.</span>route<span class="token punctuation">.</span>settings <span class="token operator">as</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
      <span class="token comment">// Marks for transition delegate to remove if this old page does not have</span>
      <span class="token comment">// a key, was not taken during updating the middle of new page, or is</span>
      <span class="token comment">// already transitioning out.</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>potentialPageToRemove<span class="token punctuation">.</span>key <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span>
          pageKeyToOldEntry<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>potentialPageToRemove<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token operator">||</span>
          phantomEntries<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>potentialEntryToRemove<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        locationToExitingPageRoute<span class="token punctuation">[</span>previousOldPageRouteEntry<span class="token punctuation">]</span> <span class="token operator">=</span> potentialEntryToRemove<span class="token punctuation">;</span>
        <span class="token comment">// We only need a decision if it has not already been popped.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>potentialEntryToRemove<span class="token punctuation">.</span>willBePresent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          potentialEntryToRemove<span class="token punctuation">.</span><span class="token function">markNeedsExitingDecision</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      previousOldPageRouteEntry <span class="token operator">=</span> potentialEntryToRemove<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// We've scanned the whole list.</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>oldEntriesBottom <span class="token operator">==</span> oldEntriesTop <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>newPagesBottom <span class="token operator">==</span> newPagesTop <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    newPagesTop <span class="token operator">=</span> widget<span class="token punctuation">.</span>pages<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    oldEntriesTop <span class="token operator">=</span> _history<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token comment">// Verifies we either reach the bottom or the oldEntriesBottom must be updatable</span>
    <span class="token comment">// by newPagesBottom.</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>oldEntriesBottom <span class="token operator">&lt;=</span> oldEntriesTop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> newPagesBottom <span class="token operator">&lt;=</span> newPagesTop <span class="token operator">&amp;&amp;</span>
          _history<span class="token punctuation">[</span>oldEntriesBottom<span class="token punctuation">]</span><span class="token punctuation">.</span>pageBased <span class="token operator">&amp;&amp;</span>
          _history<span class="token punctuation">[</span>oldEntriesBottom<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">canUpdateFrom</span><span class="token punctuation">(</span>widget<span class="token punctuation">.</span>pages<span class="token punctuation">[</span>newPagesBottom<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> newPagesBottom <span class="token operator">&gt;</span> newPagesTop<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Updates the top of the list.</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>oldEntriesBottom <span class="token operator">&lt;=</span> oldEntriesTop<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>newPagesBottom <span class="token operator">&lt;=</span> newPagesTop<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> _RouteEntry oldEntry <span class="token operator">=</span> _history<span class="token punctuation">[</span>oldEntriesBottom<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>oldEntry<span class="token punctuation">.</span>currentState <span class="token operator">!=</span> _RouteLifecycle<span class="token punctuation">.</span>disposed<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>oldEntry<span class="token punctuation">.</span>pageBased<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>previousOldPageRouteEntry <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> pagelessRoutes <span class="token operator">=</span> pageRouteToPagelessRoutes
          <span class="token punctuation">.</span><span class="token function">putIfAbsent</span><span class="token punctuation">(</span>
          previousOldPageRouteEntry<span class="token punctuation">,</span>
            <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
        pagelessRoutes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>oldEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      previousOldPageRouteEntry <span class="token operator">=</span> oldEntry<span class="token punctuation">;</span>
      <span class="token keyword">final</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> newPage <span class="token operator">=</span> widget<span class="token punctuation">.</span>pages<span class="token punctuation">[</span>newPagesBottom<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>oldEntry<span class="token punctuation">.</span><span class="token function">canUpdateFrom</span><span class="token punctuation">(</span>newPage<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      oldEntry<span class="token punctuation">.</span>route<span class="token punctuation">.</span><span class="token function">_updateSettings</span><span class="token punctuation">(</span>newPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
      newHistory<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>oldEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
      oldEntriesBottom <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      newPagesBottom <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Finally, uses transition delegate to make explicit decision if needed.</span>
    needsExplicitDecision <span class="token operator">=</span> needsExplicitDecision <span class="token operator">||</span> locationToExitingPageRoute<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">;</span>
    <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> results <span class="token operator">=</span> newHistory<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>needsExplicitDecision<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      results <span class="token operator">=</span> widget<span class="token punctuation">.</span>transitionDelegate<span class="token punctuation">.</span><span class="token function">_transition</span><span class="token punctuation">(</span>
        newPageRouteHistory<span class="token punctuation">:</span> newHistory<span class="token punctuation">,</span>
        locationToExitingPageRoute<span class="token punctuation">:</span> locationToExitingPageRoute<span class="token punctuation">,</span>
        pageRouteToPagelessRoutes<span class="token punctuation">:</span> pageRouteToPagelessRoutes<span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">.</span>cast<span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    _history<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Adds the leading pageless routes if there is any.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pageRouteToPagelessRoutes<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _history<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>pageRouteToPagelessRoutes<span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> _RouteEntry result <span class="token keyword">in</span> results<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _history<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>pageRouteToPagelessRoutes<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        _history<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>pageRouteToPagelessRoutes<span class="token punctuation">[</span>result<span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>_debugUpdatingPage <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  bool _flushingHistory <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token keyword">void</span> <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span><span class="token punctuation">{</span>bool rearrangeOverlay <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_debugLocked <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>_debugUpdatingPage<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _flushingHistory <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token comment">// Clean up the list, sending updates to the routes that changed. Notably,</span>
    <span class="token comment">// we don't send the didChangePrevious/didChangeNext updates to those that</span>
    <span class="token comment">// did not change at this point, because we're not yet sure exactly what the</span>
    <span class="token comment">// routes will be at the end of the day (some might get disposed).</span>
    int index <span class="token operator">=</span> _history<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    _RouteEntry<span class="token operator">?</span> next<span class="token punctuation">;</span>
    _RouteEntry<span class="token operator">?</span> entry <span class="token operator">=</span> _history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    _RouteEntry<span class="token operator">?</span> previous <span class="token operator">=</span> index <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> _history<span class="token punctuation">[</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    bool canRemoveOrAdd <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// Whether there is a fully opaque route on top to silently remove or add route underneath.</span>
    <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> poppedRoute<span class="token punctuation">;</span> <span class="token comment">// The route that should trigger didPopNext on the top active route.</span>
    bool seenTopActiveRoute <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// Whether we've seen the route that would get didPopNext.</span>
    <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> toBeDisposed <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">switch</span> <span class="token punctuation">(</span>entry<span class="token operator">!</span><span class="token punctuation">.</span>currentState<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>add<span class="token punctuation">:</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>rearrangeOverlay<span class="token punctuation">)</span><span class="token punctuation">;</span>
          entry<span class="token punctuation">.</span><span class="token function">handleAdd</span><span class="token punctuation">(</span>
            navigator<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
            previousPresent<span class="token punctuation">:</span> <span class="token function">_getRouteBefore</span><span class="token punctuation">(</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> _RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>adding<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>adding<span class="token punctuation">:</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>canRemoveOrAdd <span class="token operator">||</span> next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            entry<span class="token punctuation">.</span><span class="token function">didAdd</span><span class="token punctuation">(</span>
              navigator<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
              isNewFirst<span class="token punctuation">:</span> next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>idle<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">:</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>pushReplace<span class="token punctuation">:</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>replace<span class="token punctuation">:</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>rearrangeOverlay<span class="token punctuation">)</span><span class="token punctuation">;</span>
          entry<span class="token punctuation">.</span><span class="token function">handlePush</span><span class="token punctuation">(</span>
            navigator<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
            previous<span class="token punctuation">:</span> previous<span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">,</span>
            previousPresent<span class="token punctuation">:</span> <span class="token function">_getRouteBefore</span><span class="token punctuation">(</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> _RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">,</span>
            isNewFirst<span class="token punctuation">:</span> next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">!=</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">!=</span> _RouteLifecycle<span class="token punctuation">.</span>pushReplace<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">!=</span> _RouteLifecycle<span class="token punctuation">.</span>replace<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>idle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>pushing<span class="token punctuation">:</span> <span class="token comment">// Will exit this state when animation completes.</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>seenTopActiveRoute <span class="token operator">&amp;&amp;</span> poppedRoute <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            entry<span class="token punctuation">.</span><span class="token function">handleDidPopNext</span><span class="token punctuation">(</span>poppedRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          seenTopActiveRoute <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>idle<span class="token punctuation">:</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>seenTopActiveRoute <span class="token operator">&amp;&amp;</span> poppedRoute <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            entry<span class="token punctuation">.</span><span class="token function">handleDidPopNext</span><span class="token punctuation">(</span>poppedRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          seenTopActiveRoute <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
          <span class="token comment">// This route is idle, so we are allowed to remove subsequent (earlier)</span>
          <span class="token comment">// routes that are waiting to be removed silently:</span>
          canRemoveOrAdd <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>pop<span class="token punctuation">:</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>entry<span class="token punctuation">.</span><span class="token function">handlePop</span><span class="token punctuation">(</span>
                navigator<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
                previousPresent<span class="token punctuation">:</span> <span class="token function">_getRouteBefore</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> _RouteEntry<span class="token punctuation">.</span>willBePresentPredicate<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>idle<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>seenTopActiveRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>poppedRoute <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              entry<span class="token punctuation">.</span><span class="token function">handleDidPopNext</span><span class="token punctuation">(</span>poppedRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            poppedRoute <span class="token operator">=</span> entry<span class="token punctuation">.</span>route<span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          _observedRouteDeletions<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>
            <span class="token function">_NavigatorPopObservation</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">,</span> <span class="token function">_getRouteBefore</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> _RouteEntry<span class="token punctuation">.</span>willBePresentPredicate<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>dispose<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// The pop finished synchronously. This can happen if transition</span>
            <span class="token comment">// duration is zero.</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>popping<span class="token punctuation">)</span><span class="token punctuation">;</span>
          canRemoveOrAdd <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>popping<span class="token punctuation">:</span>
          <span class="token comment">// Will exit this state when animation completes.</span>
          <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>complete<span class="token punctuation">:</span>
          entry<span class="token punctuation">.</span><span class="token function">handleComplete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>remove<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>remove<span class="token punctuation">:</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>seenTopActiveRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>poppedRoute <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span><span class="token function">didPopNext</span><span class="token punctuation">(</span>poppedRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            poppedRoute <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          entry<span class="token punctuation">.</span><span class="token function">handleRemoval</span><span class="token punctuation">(</span>
            navigator<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
            previousPresent<span class="token punctuation">:</span> <span class="token function">_getRouteBefore</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> _RouteEntry<span class="token punctuation">.</span>willBePresentPredicate<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>removing<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>removing<span class="token punctuation">:</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>canRemoveOrAdd <span class="token operator">&amp;&amp;</span> next <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// We aren't allowed to remove this route yet.</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          entry<span class="token punctuation">.</span>currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>dispose<span class="token punctuation">;</span>
          <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>dispose<span class="token punctuation">:</span>
          <span class="token comment">// Delay disposal until didChangeNext/didChangePrevious have been sent.</span>
          toBeDisposed<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>_history<span class="token punctuation">.</span><span class="token function">removeAt</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          entry <span class="token operator">=</span> next<span class="token punctuation">;</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>disposing<span class="token punctuation">:</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>disposed<span class="token punctuation">:</span>
        <span class="token keyword">case</span> _RouteLifecycle<span class="token punctuation">.</span>staging<span class="token punctuation">:</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      index <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
      next <span class="token operator">=</span> entry<span class="token punctuation">;</span>
      entry <span class="token operator">=</span> previous<span class="token punctuation">;</span>
      previous <span class="token operator">=</span> index <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> _history<span class="token punctuation">[</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Informs navigator observers about route changes.</span>
    <span class="token function">_flushObserverNotifications</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Now that the list is clean, send the didChangeNext/didChangePrevious</span>
    <span class="token comment">// notifications.</span>
    <span class="token function">_flushRouteAnnouncement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Announce route name changes.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>reportsRouteUpdateToEngine<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> _RouteEntry<span class="token operator">?</span> lastEntry <span class="token operator">=</span> <span class="token function">_lastRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> routeName <span class="token operator">=</span> lastEntry<span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>settings<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>routeName <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> routeName <span class="token operator">!=</span> _lastAnnouncedRouteName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SystemNavigator</span><span class="token punctuation">.</span><span class="token function">routeInformationUpdated</span><span class="token punctuation">(</span>uri<span class="token punctuation">:</span> <span class="token class-name">Uri</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>routeName<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        _lastAnnouncedRouteName <span class="token operator">=</span> routeName<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Lastly, removes the overlay entries of all marked entries and disposes</span>
    <span class="token comment">// them.</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> _RouteEntry entry <span class="token keyword">in</span> toBeDisposed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">_disposeRouteEntry</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span> graceful<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>rearrangeOverlay<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      overlay<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">rearrange</span><span class="token punctuation">(</span>_allRouteOverlayEntries<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>bucket <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _serializableHistory<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>_history<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    _flushingHistory <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_flushObserverNotifications</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_effectiveObservers<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _observedRouteDeletions<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      _observedRouteAdditions<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>_observedRouteAdditions<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> _NavigatorObservation observation <span class="token operator">=</span> _observedRouteAdditions<span class="token punctuation">.</span><span class="token function">removeLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      _effectiveObservers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>observation<span class="token punctuation">.</span>notify<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">while</span> <span class="token punctuation">(</span>_observedRouteDeletions<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> _NavigatorObservation observation <span class="token operator">=</span> _observedRouteDeletions<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      _effectiveObservers<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>observation<span class="token punctuation">.</span>notify<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_flushRouteAnnouncement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    int index <span class="token operator">=</span> _history<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>entry<span class="token punctuation">.</span>suitableForAnnouncement<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        index <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">final</span> _RouteEntry<span class="token operator">?</span> next <span class="token operator">=</span> <span class="token function">_getRouteAfter</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> _RouteEntry<span class="token punctuation">.</span>suitableForTransitionAnimationPredicate<span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">if</span> <span class="token punctuation">(</span>next<span class="token operator">?</span><span class="token punctuation">.</span>route <span class="token operator">!=</span> entry<span class="token punctuation">.</span>lastAnnouncedNextRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">shouldAnnounceChangeToNext</span><span class="token punctuation">(</span>next<span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span><span class="token function">didChangeNext</span><span class="token punctuation">(</span>next<span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        entry<span class="token punctuation">.</span>lastAnnouncedNextRoute <span class="token operator">=</span> next<span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">final</span> _RouteEntry<span class="token operator">?</span> previous <span class="token operator">=</span> <span class="token function">_getRouteBefore</span><span class="token punctuation">(</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> _RouteEntry<span class="token punctuation">.</span>suitableForTransitionAnimationPredicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>previous<span class="token operator">?</span><span class="token punctuation">.</span>route <span class="token operator">!=</span> entry<span class="token punctuation">.</span>lastAnnouncedPreviousRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span><span class="token function">didChangePrevious</span><span class="token punctuation">(</span>previous<span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
        entry<span class="token punctuation">.</span>lastAnnouncedPreviousRoute <span class="token operator">=</span> previous<span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      index <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  _RouteEntry<span class="token operator">?</span> <span class="token function">_getRouteBefore</span><span class="token punctuation">(</span>int index<span class="token punctuation">,</span> _RouteEntryPredicate predicate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    index <span class="token operator">=</span> <span class="token function">_getIndexBefore</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">?</span> _history<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  int <span class="token function">_getIndexBefore</span><span class="token punctuation">(</span>int index<span class="token punctuation">,</span> _RouteEntryPredicate predicate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">predicate</span><span class="token punctuation">(</span>_history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      index <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> index<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  _RouteEntry<span class="token operator">?</span> <span class="token function">_getRouteAfter</span><span class="token punctuation">(</span>int index<span class="token punctuation">,</span> _RouteEntryPredicate predicate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;</span> _history<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">predicate</span><span class="token punctuation">(</span>_history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      index <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> index <span class="token operator">&lt;</span> _history<span class="token punctuation">.</span>length <span class="token operator">?</span> _history<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> _routeNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token punctuation">{</span> required <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span> bool allowNull <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>allowNull <span class="token operator">&amp;&amp;</span> widget<span class="token punctuation">.</span>onGenerateRoute <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>onGenerateRoute <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token class-name">FlutterError</span><span class="token punctuation">(</span>
          <span class="token string-literal"><span class="token string">'Navigator.onGenerateRoute was null, but the route named &quot;</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">name</span></span><span class="token string">&quot; was referenced.\n'</span></span>
          <span class="token string-literal"><span class="token string">'To use the Navigator API with named routes (pushNamed, pushReplacementNamed, or '</span></span>
          <span class="token string-literal"><span class="token string">'pushNamedAndRemoveUntil), the Navigator must be provided with an '</span></span>
          <span class="token string-literal"><span class="token string">'onGenerateRoute handler.\n'</span></span>
          <span class="token string-literal"><span class="token string">'The Navigator was:\n'</span></span>
          <span class="token string-literal"><span class="token string">'  </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression"><span class="token keyword">this</span></span></span><span class="token string">'</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">RouteSettings</span> settings <span class="token operator">=</span> <span class="token class-name">RouteSettings</span><span class="token punctuation">(</span>
      name<span class="token punctuation">:</span> name<span class="token punctuation">,</span>
      arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> route <span class="token operator">=</span> widget<span class="token punctuation">.</span>onGenerateRoute<span class="token operator">!</span><span class="token punctuation">(</span>settings<span class="token punctuation">)</span> <span class="token operator">as</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>route <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>allowNull<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>onUnknownRoute <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token class-name">FlutterError</span><span class="token punctuation">.</span><span class="token function">fromParts</span><span class="token punctuation">(</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DiagnosticsNode</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>
            <span class="token class-name">ErrorSummary</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Navigator.onGenerateRoute returned null when requested to build route &quot;</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">name</span></span><span class="token string">&quot;.'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">ErrorDescription</span><span class="token punctuation">(</span>
              <span class="token string-literal"><span class="token string">'The onGenerateRoute callback must never return null, unless an onUnknownRoute '</span></span>
              <span class="token string-literal"><span class="token string">'callback is provided as well.'</span></span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">DiagnosticsProperty</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'The Navigator was'</span></span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token class-name">DiagnosticsTreeStyle</span><span class="token punctuation">.</span>errorProperty<span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      route <span class="token operator">=</span> widget<span class="token punctuation">.</span>onUnknownRoute<span class="token operator">!</span><span class="token punctuation">(</span>settings<span class="token punctuation">)</span> <span class="token operator">as</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span><span class="token punctuation">;</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>route <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token class-name">FlutterError</span><span class="token punctuation">.</span><span class="token function">fromParts</span><span class="token punctuation">(</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">DiagnosticsNode</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>
            <span class="token class-name">ErrorSummary</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Navigator.onUnknownRoute returned null when requested to build route &quot;</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">name</span></span><span class="token string">&quot;.'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">ErrorDescription</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'The onUnknownRoute callback must never return null.'</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">DiagnosticsProperty</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'The Navigator was'</span></span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> style<span class="token punctuation">:</span> <span class="token class-name">DiagnosticsTreeStyle</span><span class="token punctuation">.</span>errorProperty<span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>route <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">||</span> allowNull<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> route<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push a named route onto the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.pushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _aaronBurrSir() {</span>
  <span class="token comment">///   navigator.pushNamed('/nyc/1776');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePushNamed], which pushes a route that can be restored</span>
  <span class="token comment">///    during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> pushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> push<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_routeNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>routeName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push a named route onto the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.restorablePushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.arguments}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _openDetails() {</span>
  <span class="token comment">///   navigator.restorablePushNamed('/nyc/1776');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">String</span> restorablePushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">debugIsSerializableForRestoration</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The arguments object must be serializable via the StandardMessageCodec.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">named</span><span class="token punctuation">(</span>
      name<span class="token punctuation">:</span> routeName<span class="token punctuation">,</span>
      arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span>
      restorationScopeId<span class="token punctuation">:</span> _nextPagelessRestorationScopeId<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toRouteEntry</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_pushEntry</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> entry<span class="token punctuation">.</span>restorationId<span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replace the current route of the navigator by pushing the route named</span>
  <span class="token comment">/// [routeName] and then disposing the previous route once the new route has</span>
  <span class="token comment">/// finished animating in.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushReplacementNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.pushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _startBike() {</span>
  <span class="token comment">///   navigator.pushReplacementNamed('/jouett/1781');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePushReplacementNamed], which pushes a replacement route that</span>
  <span class="token comment">///  can be restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> pushReplacementNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    TO<span class="token operator">?</span> result<span class="token punctuation">,</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> pushReplacement<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">,</span> TO<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_routeNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>routeName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">,</span> result<span class="token punctuation">:</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replace the current route of the navigator by pushing the route named</span>
  <span class="token comment">/// [routeName] and then disposing the previous route once the new route has</span>
  <span class="token comment">/// finished animating in.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.restorablePushReplacementNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushReplacementNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.arguments}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _startCar() {</span>
  <span class="token comment">///   navigator.restorablePushReplacementNamed('/jouett/1781');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">String</span> restorablePushReplacementNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    TO<span class="token operator">?</span> result<span class="token punctuation">,</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">debugIsSerializableForRestoration</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The arguments object must be serializable via the StandardMessageCodec.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">named</span><span class="token punctuation">(</span>
      name<span class="token punctuation">:</span> routeName<span class="token punctuation">,</span>
      arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span>
      restorationScopeId<span class="token punctuation">:</span> _nextPagelessRestorationScopeId<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toRouteEntry</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>pushReplace<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_pushReplacementEntry</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> entry<span class="token punctuation">.</span>restorationId<span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Pop the current route off the navigator and push a named route in its</span>
  <span class="token comment">/// place.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.popAndPushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.pushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _begin() {</span>
  <span class="token comment">///   navigator.popAndPushNamed('/nyc/1776');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePopAndPushNamed], which pushes a new route that can be</span>
  <span class="token comment">///    restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> popAndPushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    TO<span class="token operator">?</span> result<span class="token punctuation">,</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pop<span class="token generics"><span class="token punctuation">&lt;</span>TO<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> pushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>routeName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Pop the current route off the navigator and push a named route in its</span>
  <span class="token comment">/// place.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.restorablePopAndPushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.popAndPushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.arguments}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _end() {</span>
  <span class="token comment">///   navigator.restorablePopAndPushNamed('/nyc/1776');</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">String</span> restorablePopAndPushNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">String</span> routeName<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    TO<span class="token operator">?</span> result<span class="token punctuation">,</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pop<span class="token generics"><span class="token punctuation">&lt;</span>TO<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">restorablePushNamed</span><span class="token punctuation">(</span>routeName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push the route with the given name onto the navigator, and then remove all</span>
  <span class="token comment">/// the previous routes until the `predicate` returns true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamedAndRemoveUntil}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.pushNamed}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _handleOpenCalendar() {</span>
  <span class="token comment">///   navigator.pushNamedAndRemoveUntil('/calendar', ModalRoute.withName('/'));</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePushNamedAndRemoveUntil], which pushes a new route that can</span>
  <span class="token comment">///    be restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> pushNamedAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">String</span> newRouteName<span class="token punctuation">,</span>
    <span class="token class-name">RoutePredicate</span> predicate<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> pushAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_routeNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>newRouteName<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">,</span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push the route with the given name onto the navigator, and then remove all</span>
  <span class="token comment">/// the previous routes until the `predicate` returns true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.restorablePushNamedAndRemoveUntil}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamedAndRemoveUntil}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.arguments}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _openCalendar() {</span>
  <span class="token comment">///   navigator.restorablePushNamedAndRemoveUntil('/calendar', ModalRoute.withName('/'));</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">String</span> restorablePushNamedAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
    <span class="token class-name">String</span> newRouteName<span class="token punctuation">,</span>
    <span class="token class-name">RoutePredicate</span> predicate<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">debugIsSerializableForRestoration</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The arguments object must be serializable via the StandardMessageCodec.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">named</span><span class="token punctuation">(</span>
      name<span class="token punctuation">:</span> newRouteName<span class="token punctuation">,</span>
      arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span>
      restorationScopeId<span class="token punctuation">:</span> _nextPagelessRestorationScopeId<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toRouteEntry</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_pushEntryAndRemoveUntil</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> entry<span class="token punctuation">.</span>restorationId<span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push the given route onto the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.push}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _openPage() {</span>
  <span class="token comment">///   navigator.push&lt;void&gt;(</span>
  <span class="token comment">///     MaterialPageRoute&lt;void&gt;(</span>
  <span class="token comment">///       builder: (BuildContext context) =&gt; const MyPage(),</span>
  <span class="token comment">///     ),</span>
  <span class="token comment">///   );</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePush], which pushes a route that can be restored during</span>
  <span class="token comment">///    state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> push<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">_pushEntry</span><span class="token punctuation">(</span><span class="token function">_RouteEntry</span><span class="token punctuation">(</span>route<span class="token punctuation">,</span> pageBased<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> route<span class="token punctuation">.</span>popped<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  bool <span class="token function">_debugIsStaticCallback</span><span class="token punctuation">(</span><span class="token class-name">Function</span> callback<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    bool result <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// TODO(goderbauer): remove the kIsWeb check when https://github.com/flutter/flutter/issues/33615 is resolved.</span>
      result <span class="token operator">=</span> kIsWeb <span class="token operator">||</span> <span class="token class-name"><span class="token namespace">ui<span class="token punctuation">.</span></span>PluginUtilities</span><span class="token punctuation">.</span><span class="token function">getCallbackHandle</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push a new route onto the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.restorablePush}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.push}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePush}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool dartpad}</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ** See code in examples/api/lib/widgets/navigator/navigator_state.restorable_push.0.dart **</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">String</span> restorablePush<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> routeBuilder<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">_debugIsStaticCallback</span><span class="token punctuation">(</span>routeBuilder<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The provided routeBuilder must be a static function.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">debugIsSerializableForRestoration</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The arguments object must be serializable via the StandardMessageCodec.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">anonymous</span><span class="token punctuation">(</span>
      routeBuilder<span class="token punctuation">:</span> routeBuilder<span class="token punctuation">,</span>
      arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span>
      restorationScopeId<span class="token punctuation">:</span> _nextPagelessRestorationScopeId<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toRouteEntry</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_pushEntry</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> entry<span class="token punctuation">.</span>restorationId<span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_pushEntry</span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _history<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_afterNavigation</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_afterNavigation</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>kReleaseMode<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Among other uses, performance tools use this event to ensure that perf</span>
      <span class="token comment">// stats reflect the time interval since the last navigation event</span>
      <span class="token comment">// occurred, ensuring that stats only reflect the current page.</span>

      <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> routeJsonable<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>route <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        routeJsonable <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">final</span> <span class="token class-name">String</span> description<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>route <span class="token operator">is</span> <span class="token class-name">TransitionRoute</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">final</span> <span class="token class-name">TransitionRoute</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> transitionRoute <span class="token operator">=</span> route<span class="token punctuation">;</span>
          description <span class="token operator">=</span> transitionRoute<span class="token punctuation">.</span>debugLabel<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          description <span class="token operator">=</span> <span class="token string-literal"><span class="token string">'</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">route</span></span><span class="token string">'</span></span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        routeJsonable<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'description'</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> description<span class="token punctuation">;</span>

        <span class="token keyword">final</span> <span class="token class-name">RouteSettings</span> settings <span class="token operator">=</span> route<span class="token punctuation">.</span>settings<span class="token punctuation">;</span>
        <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> settingsJsonable <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
          <span class="token string-literal"><span class="token string">'name'</span></span><span class="token punctuation">:</span> settings<span class="token punctuation">.</span>name<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>settings<span class="token punctuation">.</span>arguments <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          settingsJsonable<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'arguments'</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">jsonEncode</span><span class="token punctuation">(</span>
            settings<span class="token punctuation">.</span>arguments<span class="token punctuation">,</span>
            toEncodable<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token operator">?</span> object<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string-literal"><span class="token string">'</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">object</span></span><span class="token string">'</span></span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        routeJsonable<span class="token punctuation">[</span><span class="token string-literal"><span class="token string">'settings'</span></span><span class="token punctuation">]</span> <span class="token operator">=</span> settingsJsonable<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      developer<span class="token punctuation">.</span><span class="token function">postEvent</span><span class="token punctuation">(</span><span class="token string-literal"><span class="token string">'Flutter.Navigation'</span></span><span class="token punctuation">,</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>
        <span class="token string-literal"><span class="token string">'route'</span></span><span class="token punctuation">:</span> routeJsonable<span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">_cancelActivePointers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replace the current route of the navigator by pushing the given route and</span>
  <span class="token comment">/// then disposing the previous route once the new route has finished</span>
  <span class="token comment">/// animating in.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushReplacement}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _doOpenPage() {</span>
  <span class="token comment">///   navigator.pushReplacement&lt;void, void&gt;(</span>
  <span class="token comment">///     MaterialPageRoute&lt;void&gt;(</span>
  <span class="token comment">///       builder: (BuildContext context) =&gt; const MyHomePage(),</span>
  <span class="token comment">///     ),</span>
  <span class="token comment">///   );</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePushReplacement], which pushes a replacement route that can</span>
  <span class="token comment">///    be restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> pushReplacement<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRoute<span class="token punctuation">,</span> <span class="token punctuation">{</span> TO<span class="token operator">?</span> result <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>newRoute<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_pushReplacementEntry</span><span class="token punctuation">(</span><span class="token function">_RouteEntry</span><span class="token punctuation">(</span>newRoute<span class="token punctuation">,</span> pageBased<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>pushReplace<span class="token punctuation">)</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> newRoute<span class="token punctuation">.</span>popped<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replace the current route of the navigator by pushing a new route and</span>
  <span class="token comment">/// then disposing the previous route once the new route has finished</span>
  <span class="token comment">/// animating in.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.restorablePushReplacement}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushReplacement}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePush}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool dartpad}</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ** See code in examples/api/lib/widgets/navigator/navigator_state.restorable_push_replacement.0.dart **</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">String</span> restorablePushReplacement<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">,</span> TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> routeBuilder<span class="token punctuation">,</span> <span class="token punctuation">{</span> TO<span class="token operator">?</span> result<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token operator">?</span> arguments <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">_debugIsStaticCallback</span><span class="token punctuation">(</span>routeBuilder<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The provided routeBuilder must be a static function.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">debugIsSerializableForRestoration</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The arguments object must be serializable via the StandardMessageCodec.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">anonymous</span><span class="token punctuation">(</span>
      routeBuilder<span class="token punctuation">:</span> routeBuilder<span class="token punctuation">,</span>
      arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span>
      restorationScopeId<span class="token punctuation">:</span> _nextPagelessRestorationScopeId<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toRouteEntry</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>pushReplace<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_pushReplacementEntry</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> entry<span class="token punctuation">.</span>restorationId<span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> _pushReplacementEntry<span class="token generics"><span class="token punctuation">&lt;</span>TO <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">,</span> TO<span class="token operator">?</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_history<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_history<span class="token punctuation">.</span><span class="token function">any</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'Navigator has no active routes to replace.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>pushReplace<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _history<span class="token punctuation">.</span><span class="token function">lastWhere</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span>result<span class="token punctuation">,</span> isReplaced<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _history<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_afterNavigation</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push the given route onto the navigator, and then remove all the previous</span>
  <span class="token comment">/// routes until the `predicate` returns true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushAndRemoveUntil}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _resetAndOpenPage() {</span>
  <span class="token comment">///   navigator.pushAndRemoveUntil&lt;void&gt;(</span>
  <span class="token comment">///     MaterialPageRoute&lt;void&gt;(builder: (BuildContext context) =&gt; const MyHomePage()),</span>
  <span class="token comment">///     ModalRoute.withName('/'),</span>
  <span class="token comment">///   );</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">///</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [restorablePushAndRemoveUntil], which pushes a route that can be</span>
  <span class="token comment">///    restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> pushAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRoute<span class="token punctuation">,</span> <span class="token class-name">RoutePredicate</span> predicate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>newRoute<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>newRoute<span class="token punctuation">.</span>overlayEntries<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_pushEntryAndRemoveUntil</span><span class="token punctuation">(</span><span class="token function">_RouteEntry</span><span class="token punctuation">(</span>newRoute<span class="token punctuation">,</span> pageBased<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">)</span><span class="token punctuation">,</span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> newRoute<span class="token punctuation">.</span>popped<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Push a new route onto the navigator, and then remove all the previous</span>
  <span class="token comment">/// routes until the `predicate` returns true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.restorablePushAndRemoveUntil}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pushAndRemoveUntil}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePush}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool dartpad}</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ** See code in examples/api/lib/widgets/navigator/navigator_state.restorable_push_and_remove_until.0.dart **</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">String</span> restorablePushAndRemoveUntil<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRouteBuilder<span class="token punctuation">,</span> <span class="token class-name">RoutePredicate</span> predicate<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">_debugIsStaticCallback</span><span class="token punctuation">(</span>newRouteBuilder<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The provided routeBuilder must be a static function.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">debugIsSerializableForRestoration</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The arguments object must be serializable via the StandardMessageCodec.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">anonymous</span><span class="token punctuation">(</span>
      routeBuilder<span class="token punctuation">:</span> newRouteBuilder<span class="token punctuation">,</span>
      arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span>
      restorationScopeId<span class="token punctuation">:</span> _nextPagelessRestorationScopeId<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toRouteEntry</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_pushEntryAndRemoveUntil</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span> predicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> entry<span class="token punctuation">.</span>restorationId<span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_pushEntryAndRemoveUntil</span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">,</span> <span class="token class-name">RoutePredicate</span> predicate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>overlayEntries<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>push<span class="token punctuation">)</span><span class="token punctuation">;</span>
    int index <span class="token operator">=</span> _history<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    _history<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">predicate</span><span class="token punctuation">(</span>_history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>isPresent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        _history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      index <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_afterNavigation</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replaces a route on the navigator with a new route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.replace}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [replaceRouteBelow], which is the same but identifies the route to be</span>
  <span class="token comment">///    removed by reference to the route above it, rather than directly.</span>
  <span class="token comment">///  * [restorableReplace], which adds a replacement route that can be</span>
  <span class="token comment">///    restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">void</span> replace<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> oldRoute<span class="token punctuation">,</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRoute <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>oldRoute<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_replaceEntry</span><span class="token punctuation">(</span><span class="token function">_RouteEntry</span><span class="token punctuation">(</span>newRoute<span class="token punctuation">,</span> pageBased<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>replace<span class="token punctuation">)</span><span class="token punctuation">,</span> oldRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replaces a route on the navigator with a new route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.restorableReplace}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.replace}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePush}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">String</span> restorableReplace<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> oldRoute<span class="token punctuation">,</span> required <span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRouteBuilder<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token operator">?</span> arguments <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>oldRoute<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">_debugIsStaticCallback</span><span class="token punctuation">(</span>newRouteBuilder<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The provided routeBuilder must be a static function.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">debugIsSerializableForRestoration</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The arguments object must be serializable via the StandardMessageCodec.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">anonymous</span><span class="token punctuation">(</span>
      routeBuilder<span class="token punctuation">:</span> newRouteBuilder<span class="token punctuation">,</span>
      arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span>
      restorationScopeId<span class="token punctuation">:</span> _nextPagelessRestorationScopeId<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toRouteEntry</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>replace<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_replaceEntry</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span> oldRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> entry<span class="token punctuation">.</span>restorationId<span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_replaceEntry</span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> oldRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldRoute <span class="token operator">==</span> entry<span class="token punctuation">.</span>route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>replace<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> int index <span class="token operator">=</span> _history<span class="token punctuation">.</span><span class="token function">indexWhere</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span><span class="token function">isRoutePredicate</span><span class="token punctuation">(</span>oldRoute<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'This Navigator does not contain the specified oldRoute.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>isPresent<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The specified oldRoute has already been removed from the Navigator.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> bool wasCurrent <span class="token operator">=</span> oldRoute<span class="token punctuation">.</span>isCurrent<span class="token punctuation">;</span>
    _history<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>isReplaced<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>wasCurrent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">_afterNavigation</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replaces a route on the navigator with a new route. The route to be</span>
  <span class="token comment">/// replaced is the one below the given `anchorRoute`.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.replaceRouteBelow}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [replace], which is the same but identifies the route to be removed</span>
  <span class="token comment">///    directly.</span>
  <span class="token comment">///  * [restorableReplaceRouteBelow], which adds a replacement route that can</span>
  <span class="token comment">///    be restored during state restoration.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">void</span> replaceRouteBelow<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> anchorRoute<span class="token punctuation">,</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRoute <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>newRoute<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>anchorRoute<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_replaceEntryBelow</span><span class="token punctuation">(</span><span class="token function">_RouteEntry</span><span class="token punctuation">(</span>newRoute<span class="token punctuation">,</span> pageBased<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>replace<span class="token punctuation">)</span><span class="token punctuation">,</span> anchorRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Replaces a route on the navigator with a new route. The route to be</span>
  <span class="token comment">/// replaced is the one below the given `anchorRoute`.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.restorableReplaceRouteBelow}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.replaceRouteBelow}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePush}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.Navigator.restorablePushNamed.returnValue}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">String</span> restorableReplaceRouteBelow<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> required <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> anchorRoute<span class="token punctuation">,</span> required <span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> newRouteBuilder<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token operator">?</span> arguments <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>anchorRoute<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">_debugIsStaticCallback</span><span class="token punctuation">(</span>newRouteBuilder<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The provided routeBuilder must be a static function.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token function">debugIsSerializableForRestoration</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The arguments object must be serializable via the StandardMessageCodec.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">anonymous</span><span class="token punctuation">(</span>
      routeBuilder<span class="token punctuation">:</span> newRouteBuilder<span class="token punctuation">,</span>
      arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">,</span>
      restorationScopeId<span class="token punctuation">:</span> _nextPagelessRestorationScopeId<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toRouteEntry</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> initialState<span class="token punctuation">:</span> _RouteLifecycle<span class="token punctuation">.</span>replace<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_replaceEntryBelow</span><span class="token punctuation">(</span>entry<span class="token punctuation">,</span> anchorRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> entry<span class="token punctuation">.</span>restorationId<span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_replaceEntryBelow</span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> anchorRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> int anchorIndex <span class="token operator">=</span> _history<span class="token punctuation">.</span><span class="token function">indexWhere</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span><span class="token function">isRoutePredicate</span><span class="token punctuation">(</span>anchorRoute<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>anchorIndex <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'This Navigator does not contain the specified anchorRoute.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_history<span class="token punctuation">[</span>anchorIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>isPresent<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The specified anchorRoute has already been removed from the Navigator.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    int index <span class="token operator">=</span> anchorIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>isPresent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      index <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'There are no routes below the specified anchorRoute.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _history<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> entry<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>isReplaced<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Whether the navigator can be popped.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.canPop}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [Route.isFirst], which returns true for routes for which [canPop]</span>
  <span class="token comment">///    returns false.</span>
  bool <span class="token function">canPop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> iterator <span class="token operator">=</span> _history<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">.</span>iterator<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>iterator<span class="token punctuation">.</span><span class="token function">moveNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// We have no active routes, so we can't pop.</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>iterator<span class="token punctuation">.</span>current<span class="token punctuation">.</span>route<span class="token punctuation">.</span>willHandlePopInternally<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// The first route can handle pops itself, so we can pop.</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>iterator<span class="token punctuation">.</span><span class="token function">moveNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// There's only one route, so we can't pop.</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// there's at least two routes, so we can pop</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Consults the current route's [Route.popDisposition] method, and acts</span>
  <span class="token comment">/// accordingly, potentially popping the route as a result; returns whether</span>
  <span class="token comment">/// the pop request should be considered handled.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.maybePop}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [Form], which provides a [Form.canPop] boolean that enables the</span>
  <span class="token comment">///    form to prevent any [pop]s initiated by the app's back button.</span>
  <span class="token comment">///  * [ModalRoute], which provides a `scopedOnPopCallback` that can be used</span>
  <span class="token comment">///    to define the route's `willPop` method.</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> maybePop<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token class-name">T</span><span class="token operator">?</span> result <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> _RouteEntry<span class="token operator">?</span> lastEntry <span class="token operator">=</span> <span class="token function">_lastRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lastEntry <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>lastEntry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// TODO(justinmc): When the deprecated willPop method is removed, delete</span>
    <span class="token comment">// this code and use only popDisposition, below.</span>
    <span class="token keyword">final</span> <span class="token class-name">RoutePopDisposition</span> willPopDisposition <span class="token operator">=</span> <span class="token keyword">await</span> lastEntry<span class="token punctuation">.</span>route<span class="token punctuation">.</span><span class="token function">willPop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>mounted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Forget about this pop, we were disposed in the meantime.</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>willPopDisposition <span class="token operator">==</span> <span class="token class-name">RoutePopDisposition</span><span class="token punctuation">.</span>doNotPop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">final</span> _RouteEntry<span class="token operator">?</span> newLastEntry <span class="token operator">=</span> <span class="token function">_lastRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>lastEntry <span class="token operator">!=</span> newLastEntry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// Forget about this pop, something happened to our history in the meantime.</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">switch</span> <span class="token punctuation">(</span>lastEntry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>popDisposition<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token class-name">RoutePopDisposition</span><span class="token punctuation">.</span>bubble<span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token class-name">RoutePopDisposition</span><span class="token punctuation">.</span>pop<span class="token punctuation">:</span>
        <span class="token function">pop</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> <span class="token class-name">RoutePopDisposition</span><span class="token punctuation">.</span>doNotPop<span class="token punctuation">:</span>
        lastEntry<span class="token punctuation">.</span>route<span class="token punctuation">.</span><span class="token function">onPopInvoked</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Pop the top-most route off the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.pop}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage for closing a route is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _handleClose() {</span>
  <span class="token comment">///   navigator.pop();</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// A dialog box might be closed with a result:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _handleAccept() {</span>
  <span class="token comment">///   navigator.pop(true); // dialog returns true</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token keyword">void</span> pop<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span> <span class="token keyword">extends</span> <span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">[</span> <span class="token class-name">T</span><span class="token operator">?</span> result <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _history<span class="token punctuation">.</span><span class="token function">lastWhere</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>pageBased<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>widget<span class="token punctuation">.</span>onPopPage<span class="token operator">!</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">,</span> result<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>idle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// The entry may have been disposed if the pop finishes synchronously.</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>_popCompleter<span class="token punctuation">.</span>isCompleted<span class="token punctuation">)</span><span class="token punctuation">;</span>
        entry<span class="token punctuation">.</span>currentState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>pop<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      entry<span class="token punctuation">.</span>pop<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">assert</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>pop<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>pop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span>rearrangeOverlay<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>idle <span class="token operator">||</span> entry<span class="token punctuation">.</span>route<span class="token punctuation">.</span>_popCompleter<span class="token punctuation">.</span>isCompleted<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_afterNavigation</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Calls [pop] repeatedly until the predicate returns true.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.popUntil}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@tool snippet}</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Typical usage is as follows:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// ```dart</span>
  <span class="token comment">/// void _doLogout() {</span>
  <span class="token comment">///   navigator.popUntil(ModalRoute.withName('/login'));</span>
  <span class="token comment">/// }</span>
  <span class="token comment">/// ```</span>
  <span class="token comment">/// {@end-tool}</span>
  <span class="token keyword">void</span> <span class="token function">popUntil</span><span class="token punctuation">(</span><span class="token class-name">RoutePredicate</span> predicate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _RouteEntry<span class="token operator">?</span> candidate <span class="token operator">=</span> <span class="token function">_lastRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>candidate <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">predicate</span><span class="token punctuation">(</span>candidate<span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      candidate <span class="token operator">=</span> <span class="token function">_lastRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Immediately remove `route` from the navigator, and [Route.dispose] it.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.removeRoute}</span>
  <span class="token keyword">void</span> <span class="token function">removeRoute</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>route<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> bool wasCurrent <span class="token operator">=</span> route<span class="token punctuation">.</span>isCurrent<span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span> _history<span class="token punctuation">.</span><span class="token function">firstWhere</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span><span class="token function">isRoutePredicate</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    entry<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span>rearrangeOverlay<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>wasCurrent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">_afterNavigation</span><span class="token punctuation">(</span>
        <span class="token function">_lastRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Immediately remove a route from the navigator, and [Route.dispose] it. The</span>
  <span class="token comment">/// route to be removed is the one below the given `anchorRoute`.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// {@macro flutter.widgets.navigator.removeRouteBelow}</span>
  <span class="token keyword">void</span> <span class="token function">removeRouteBelow</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> anchorRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>anchorRoute<span class="token punctuation">.</span>_navigator <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> int anchorIndex <span class="token operator">=</span> _history<span class="token punctuation">.</span><span class="token function">indexWhere</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span><span class="token function">isRoutePredicate</span><span class="token punctuation">(</span>anchorRoute<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>anchorIndex <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'This Navigator does not contain the specified anchorRoute.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_history<span class="token punctuation">[</span>anchorIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>isPresent<span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'The specified anchorRoute has already been removed from the Navigator.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    int index <span class="token operator">=</span> anchorIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span> <span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>isPresent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      index <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string-literal"><span class="token string">'There are no routes below the specified anchorRoute.'</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span>rearrangeOverlay<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _debugLocked <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Complete the lifecycle for a route that has been popped off the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// When the navigator pops a route, the navigator retains a reference to the</span>
  <span class="token comment">/// route in order to call [Route.dispose] if the navigator itself is removed</span>
  <span class="token comment">/// from the tree. When the route is finished with any exit animation, the</span>
  <span class="token comment">/// route should call this function to complete its lifecycle (e.g., to</span>
  <span class="token comment">/// receive a call to [Route.dispose]).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The given `route` must have already received a call to [Route.didPop].</span>
  <span class="token comment">/// This function may be called directly from [Route.didPop] if [Route.didPop]</span>
  <span class="token comment">/// will return true.</span>
  <span class="token keyword">void</span> <span class="token function">finalizeRoute</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// FinalizeRoute may have been called while we were already locked as a</span>
    <span class="token comment">// responds to route.didPop(). Make sure to leave in the state we were in</span>
    <span class="token comment">// before the call.</span>
    bool<span class="token operator">?</span> wasDebugLocked<span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> wasDebugLocked <span class="token operator">=</span> _debugLocked<span class="token punctuation">;</span> _debugLocked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_history<span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span><span class="token function">isRoutePredicate</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> int index <span class="token operator">=</span> _history<span class="token punctuation">.</span><span class="token function">indexWhere</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span><span class="token function">isRoutePredicate</span><span class="token punctuation">(</span>route<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteEntry entry <span class="token operator">=</span>  _history<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// For page-based route with zero transition, the finalizeRoute can be</span>
    <span class="token comment">// called on any life cycle above pop.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>pageBased <span class="token operator">&amp;&amp;</span> entry<span class="token punctuation">.</span>currentState<span class="token punctuation">.</span>index <span class="token operator">&lt;</span> _RouteLifecycle<span class="token punctuation">.</span>pop<span class="token punctuation">.</span>index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _observedRouteDeletions<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">_NavigatorPopObservation</span><span class="token punctuation">(</span>route<span class="token punctuation">,</span> <span class="token function">_getRouteBefore</span><span class="token punctuation">(</span>index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> _RouteEntry<span class="token punctuation">.</span>willBePresentPredicate<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>route<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>currentState <span class="token operator">==</span> _RouteLifecycle<span class="token punctuation">.</span>popping<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    entry<span class="token punctuation">.</span><span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// finalizeRoute can be called during _flushHistoryUpdates if a pop</span>
    <span class="token comment">// finishes synchronously.</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>_flushingHistory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">_flushHistoryUpdates</span><span class="token punctuation">(</span>rearrangeOverlay<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _debugLocked <span class="token operator">=</span> wasDebugLocked<span class="token operator">!</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@optionalTypeArgs</span>
  <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> _getRouteById<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">_firstRouteEntryWhereOrNull</span><span class="token punctuation">(</span><span class="token punctuation">(</span>_RouteEntry entry<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> entry<span class="token punctuation">.</span>restorationId <span class="token operator">==</span> id<span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>route <span class="token operator">as</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  int <span class="token keyword">get</span> _userGesturesInProgress <span class="token operator">=</span><span class="token operator">&gt;</span> _userGesturesInProgressCount<span class="token punctuation">;</span>
  int _userGesturesInProgressCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token keyword">set</span> <span class="token function">_userGesturesInProgress</span><span class="token punctuation">(</span>int value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _userGesturesInProgressCount <span class="token operator">=</span> value<span class="token punctuation">;</span>
    userGestureInProgressNotifier<span class="token punctuation">.</span>value <span class="token operator">=</span> _userGesturesInProgress <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Whether a route is currently being manipulated by the user, e.g.</span>
  <span class="token comment">/// as during an iOS back gesture.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [userGestureInProgressNotifier], which notifies its listeners if</span>
  <span class="token comment">///    the value of [userGestureInProgress] changes.</span>
  bool <span class="token keyword">get</span> userGestureInProgress <span class="token operator">=</span><span class="token operator">&gt;</span> userGestureInProgressNotifier<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

  <span class="token comment">/// Notifies its listeners if the value of [userGestureInProgress] changes.</span>
  <span class="token keyword">final</span> <span class="token class-name">ValueNotifier</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span> userGestureInProgressNotifier <span class="token operator">=</span> <span class="token class-name">ValueNotifier</span><span class="token generics"><span class="token punctuation">&lt;</span>bool<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// The navigator is being controlled by a user gesture.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// For example, called when the user beings an iOS back gesture.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// When the gesture finishes, call [didStopUserGesture].</span>
  <span class="token keyword">void</span> <span class="token function">didStartUserGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _userGesturesInProgress <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_userGesturesInProgress <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> int routeIndex <span class="token operator">=</span> <span class="token function">_getIndexBefore</span><span class="token punctuation">(</span>
        _history<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
        _RouteEntry<span class="token punctuation">.</span>willBePresentPredicate<span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">final</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route <span class="token operator">=</span> _history<span class="token punctuation">[</span>routeIndex<span class="token punctuation">]</span><span class="token punctuation">.</span>route<span class="token punctuation">;</span>
      <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> previousRoute<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>route<span class="token punctuation">.</span>willHandlePopInternally <span class="token operator">&amp;&amp;</span> routeIndex <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        previousRoute <span class="token operator">=</span> <span class="token function">_getRouteBefore</span><span class="token punctuation">(</span>
          routeIndex <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
          _RouteEntry<span class="token punctuation">.</span>willBePresentPredicate<span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">.</span>route<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">NavigatorObserver</span> observer <span class="token keyword">in</span> _effectiveObservers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        observer<span class="token punctuation">.</span><span class="token function">didStartUserGesture</span><span class="token punctuation">(</span>route<span class="token punctuation">,</span> previousRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// A user gesture completed.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Notifies the navigator that a gesture regarding which the navigator was</span>
  <span class="token comment">/// previously notified with [didStartUserGesture] has completed.</span>
  <span class="token keyword">void</span> <span class="token function">didStopUserGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_userGesturesInProgress <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _userGesturesInProgress <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_userGesturesInProgress <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">NavigatorObserver</span> observer <span class="token keyword">in</span> _effectiveObservers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        observer<span class="token punctuation">.</span><span class="token function">didStopUserGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">final</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span>int<span class="token punctuation">&gt;</span></span> _activePointers <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span>int<span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">void</span> <span class="token function">_handlePointerDown</span><span class="token punctuation">(</span><span class="token class-name">PointerDownEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _activePointers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>pointer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_handlePointerUpOrCancel</span><span class="token punctuation">(</span><span class="token class-name">PointerEvent</span> event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _activePointers<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>pointer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_cancelActivePointers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// TODO(abarth): This mechanism is far from perfect. See https://github.com/flutter/flutter/issues/4770</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">SchedulerBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>schedulerPhase <span class="token operator">==</span> <span class="token class-name">SchedulerPhase</span><span class="token punctuation">.</span>idle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// If we're between frames (SchedulerPhase.idle) then absorb any</span>
      <span class="token comment">// subsequent pointers from this frame. The absorbing flag will be</span>
      <span class="token comment">// reset in the next frame, see build().</span>
      <span class="token keyword">final</span> <span class="token class-name">RenderAbsorbPointer</span><span class="token operator">?</span> absorber <span class="token operator">=</span> _overlayKey<span class="token punctuation">.</span>currentContext<span class="token operator">?</span><span class="token punctuation">.</span>findAncestorRenderObjectOfType<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RenderAbsorbPointer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        absorber<span class="token operator">?</span><span class="token punctuation">.</span>absorbing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token comment">// We do this in setState so that we'll reset the absorbing value back</span>
        <span class="token comment">// to false on the next frame.</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    _activePointers<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">WidgetsBinding</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span>cancelPointer<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Gets first route entry satisfying the predicate, or null if not found.</span>
  _RouteEntry<span class="token operator">?</span> <span class="token function">_firstRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntryPredicate test<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> _RouteEntry element <span class="token keyword">in</span> _history<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">test</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> element<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Gets last route entry satisfying the predicate, or null if not found.</span>
  _RouteEntry<span class="token operator">?</span> <span class="token function">_lastRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntryPredicate test<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _RouteEntry<span class="token operator">?</span> result<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> _RouteEntry element <span class="token keyword">in</span> _history<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">test</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        result <span class="token operator">=</span> element<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Widget</span> <span class="token function">build</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>_debugLocked<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_history<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Hides the HeroControllerScope for the widget subtree so that the other</span>
    <span class="token comment">// nested navigator underneath will not pick up the hero controller above</span>
    <span class="token comment">// this level.</span>
    <span class="token keyword">return</span> <span class="token class-name">HeroControllerScope</span><span class="token punctuation">.</span><span class="token function">none</span><span class="token punctuation">(</span>
      child<span class="token punctuation">:</span> <span class="token class-name">NotificationListener</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigationNotification</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
        onNotification<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token class-name">NavigationNotification</span> notification<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// If the state of this Navigator does not change whether or not the</span>
          <span class="token comment">// whole framework can pop, propagate the Notification as-is.</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>notification<span class="token punctuation">.</span>canHandlePop <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">canPop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
          <span class="token comment">// Otherwise, dispatch a new Notification with the correct canPop and</span>
          <span class="token comment">// stop the propagation of the old Notification.</span>
          <span class="token keyword">const</span> <span class="token class-name">NavigationNotification</span> nextNotification <span class="token operator">=</span> <span class="token class-name">NavigationNotification</span><span class="token punctuation">(</span>
            canHandlePop<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
          nextNotification<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        child<span class="token punctuation">:</span> <span class="token class-name">Listener</span><span class="token punctuation">(</span>
          onPointerDown<span class="token punctuation">:</span> _handlePointerDown<span class="token punctuation">,</span>
          onPointerUp<span class="token punctuation">:</span> _handlePointerUpOrCancel<span class="token punctuation">,</span>
          onPointerCancel<span class="token punctuation">:</span> _handlePointerUpOrCancel<span class="token punctuation">,</span>
          child<span class="token punctuation">:</span> <span class="token class-name">AbsorbPointer</span><span class="token punctuation">(</span>
            absorbing<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// it's mutated directly by _cancelActivePointers above</span>
            child<span class="token punctuation">:</span> <span class="token class-name">FocusTraversalGroup</span><span class="token punctuation">(</span>
              policy<span class="token punctuation">:</span> <span class="token class-name">FocusTraversalGroup</span><span class="token punctuation">.</span><span class="token function">maybeOf</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">,</span>
              child<span class="token punctuation">:</span> <span class="token class-name">Focus</span><span class="token punctuation">(</span>
                focusNode<span class="token punctuation">:</span> focusNode<span class="token punctuation">,</span>
                autofocus<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                skipTraversal<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                includeSemantics<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                child<span class="token punctuation">:</span> <span class="token class-name">UnmanagedRestorationScope</span><span class="token punctuation">(</span>
                  bucket<span class="token punctuation">:</span> bucket<span class="token punctuation">,</span>
                  child<span class="token punctuation">:</span> <span class="token class-name">Overlay</span><span class="token punctuation">(</span>
                    key<span class="token punctuation">:</span> _overlayKey<span class="token punctuation">,</span>
                    clipBehavior<span class="token punctuation">:</span> widget<span class="token punctuation">.</span>clipBehavior<span class="token punctuation">,</span>
                    initialEntries<span class="token punctuation">:</span> overlay <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span>  _allRouteOverlayEntries<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span>growable<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OverlayEntry</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                  <span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">enum</span> _RouteRestorationType <span class="token punctuation">{</span>
  named<span class="token punctuation">,</span>
  anonymous<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">abstract</span> <span class="token keyword">class</span> _RestorationInformation <span class="token punctuation">{</span>
  <span class="token function">_RestorationInformation</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">factory</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">named</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    required <span class="token class-name">String</span> name<span class="token punctuation">,</span>
    required <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
    required int restorationScopeId<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span> _NamedRestorationInformation<span class="token punctuation">;</span>
  <span class="token keyword">factory</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">anonymous</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    required <span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> routeBuilder<span class="token punctuation">,</span>
    required <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">,</span>
    required int restorationScopeId<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span> _AnonymousRestorationInformation<span class="token punctuation">;</span>

  <span class="token keyword">factory</span> _RestorationInformation<span class="token punctuation">.</span><span class="token function">fromSerializableData</span><span class="token punctuation">(</span><span class="token class-name">Object</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> casted <span class="token operator">=</span> data <span class="token operator">as</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>casted<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> _RouteRestorationType type <span class="token operator">=</span> _RouteRestorationType<span class="token punctuation">.</span>values<span class="token punctuation">[</span>casted<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!</span> <span class="token operator">as</span> int<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> _RouteRestorationType<span class="token punctuation">.</span>named<span class="token punctuation">:</span>
        <span class="token keyword">return</span> _NamedRestorationInformation<span class="token punctuation">.</span><span class="token function">fromSerializableData</span><span class="token punctuation">(</span>casted<span class="token punctuation">.</span><span class="token function">sublist</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">case</span> _RouteRestorationType<span class="token punctuation">.</span>anonymous<span class="token punctuation">:</span>
        <span class="token keyword">return</span> _AnonymousRestorationInformation<span class="token punctuation">.</span><span class="token function">fromSerializableData</span><span class="token punctuation">(</span>casted<span class="token punctuation">.</span><span class="token function">sublist</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">final</span> _RouteRestorationType type<span class="token punctuation">;</span>
  int <span class="token keyword">get</span> restorationScopeId<span class="token punctuation">;</span>
  <span class="token class-name">Object</span><span class="token operator">?</span> _serializableData<span class="token punctuation">;</span>

  bool <span class="token keyword">get</span> isRestorable <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

  <span class="token class-name">Object</span> <span class="token function">getSerializableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _serializableData <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">=</span> <span class="token function">computeSerializableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> _serializableData<span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@mustCallSuper</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">computeSerializableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>type<span class="token punctuation">.</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@protected</span>
  <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token function">createRoute</span><span class="token punctuation">(</span><span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">)</span><span class="token punctuation">;</span>

  _RouteEntry <span class="token function">toRouteEntry</span><span class="token punctuation">(</span><span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">,</span> <span class="token punctuation">{</span>_RouteLifecycle initialState <span class="token operator">=</span> _RouteLifecycle<span class="token punctuation">.</span>add<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> route <span class="token operator">=</span> <span class="token function">createRoute</span><span class="token punctuation">(</span>navigator<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">_RouteEntry</span><span class="token punctuation">(</span>
      route<span class="token punctuation">,</span>
      pageBased<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      initialState<span class="token punctuation">:</span> initialState<span class="token punctuation">,</span>
      restorationInformation<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _NamedRestorationInformation <span class="token keyword">extends</span> _RestorationInformation <span class="token punctuation">{</span>
  <span class="token function">_NamedRestorationInformation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>arguments<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>restorationScopeId<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>_RouteRestorationType<span class="token punctuation">.</span>named<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">factory</span> _NamedRestorationInformation<span class="token punctuation">.</span><span class="token function">fromSerializableData</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">_NamedRestorationInformation</span><span class="token punctuation">(</span>
      restorationScopeId<span class="token punctuation">:</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!</span> <span class="token operator">as</span> int<span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">!</span> <span class="token operator">as</span> <span class="token class-name">String</span><span class="token punctuation">,</span>
      arguments<span class="token punctuation">:</span> data<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token operator">?</span> data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">computeSerializableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">computeSerializableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>
      restorationScopeId<span class="token punctuation">,</span>
      name<span class="token punctuation">,</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        arguments<span class="token operator">!</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">final</span> int restorationScopeId<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token function">createRoute</span><span class="token punctuation">(</span><span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route <span class="token operator">=</span> navigator<span class="token punctuation">.</span>_routeNamed<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> arguments<span class="token punctuation">:</span> arguments<span class="token punctuation">)</span><span class="token operator">!</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> route<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _AnonymousRestorationInformation <span class="token keyword">extends</span> _RestorationInformation <span class="token punctuation">{</span>
  <span class="token function">_AnonymousRestorationInformation</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>routeBuilder<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>arguments<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>restorationScopeId<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token keyword">super</span><span class="token punctuation">(</span>_RouteRestorationType<span class="token punctuation">.</span>anonymous<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">factory</span> _AnonymousRestorationInformation<span class="token punctuation">.</span><span class="token function">fromSerializableData</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> routeBuilder <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">ui<span class="token punctuation">.</span></span>PluginUtilities</span><span class="token punctuation">.</span><span class="token function">getCallbackFromHandle</span><span class="token punctuation">(</span><span class="token class-name"><span class="token namespace">ui<span class="token punctuation">.</span></span>CallbackHandle</span><span class="token punctuation">.</span><span class="token function">fromRawHandle</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">!</span> <span class="token operator">as</span> int<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!</span> <span class="token operator">as</span> <span class="token class-name">RestorableRouteBuilder</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token function">_AnonymousRestorationInformation</span><span class="token punctuation">(</span>
      restorationScopeId<span class="token punctuation">:</span> data<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">!</span> <span class="token operator">as</span> int<span class="token punctuation">,</span>
      routeBuilder<span class="token punctuation">:</span> routeBuilder<span class="token punctuation">,</span>
      arguments<span class="token punctuation">:</span> data<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token operator">?</span> data<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token comment">// TODO(goderbauer): remove the kIsWeb check when https://github.com/flutter/flutter/issues/33615 is resolved.</span>
  bool <span class="token keyword">get</span> isRestorable <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token operator">!</span>kIsWeb<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> <span class="token function">computeSerializableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>isRestorable<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name"><span class="token namespace">ui<span class="token punctuation">.</span></span>CallbackHandle</span><span class="token operator">?</span> handle <span class="token operator">=</span> <span class="token class-name"><span class="token namespace">ui<span class="token punctuation">.</span></span>PluginUtilities</span><span class="token punctuation">.</span><span class="token function">getCallbackHandle</span><span class="token punctuation">(</span>routeBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>handle <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">computeSerializableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span>
      restorationScopeId<span class="token punctuation">,</span>
      handle<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">toRawHandle</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>arguments <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
        arguments<span class="token operator">!</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">final</span> int restorationScopeId<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">RestorableRouteBuilder</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> routeBuilder<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token function">createRoute</span><span class="token punctuation">(</span><span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token function">routeBuilder</span><span class="token punctuation">(</span>navigator<span class="token punctuation">.</span>context<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> _HistoryProperty <span class="token keyword">extends</span> <span class="token class-name">RestorableProperty</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token comment">// Routes not associated with a page are stored under key 'null'.</span>
  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> _pageToPagelessRoutes<span class="token punctuation">;</span>

  <span class="token comment">// Updating.</span>

  <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span>_History history<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>isRegistered<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> bool wasUninitialized <span class="token operator">=</span> _pageToPagelessRoutes <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    bool needsSerialization <span class="token operator">=</span> wasUninitialized<span class="token punctuation">;</span>
    _pageToPagelessRoutes <span class="token operator">?</span><span class="token operator">?</span><span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    _RouteEntry<span class="token operator">?</span> currentPage<span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> newRoutesForCurrentPage <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> oldRoutesForCurrentPage <span class="token operator">=</span> _pageToPagelessRoutes<span class="token operator">!</span><span class="token punctuation">[</span><span class="token keyword">null</span><span class="token punctuation">]</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    bool restorationEnabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

    <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> newMap <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> removedPages <span class="token operator">=</span> _pageToPagelessRoutes<span class="token operator">!</span><span class="token punctuation">.</span>keys<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> _RouteEntry entry <span class="token keyword">in</span> history<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>entry<span class="token punctuation">.</span>isPresentForRestoration<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        entry<span class="token punctuation">.</span>restorationEnabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>isPresentForRestoration<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>pageBased<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        needsSerialization <span class="token operator">=</span> needsSerialization <span class="token operator">||</span> newRoutesForCurrentPage<span class="token punctuation">.</span>length <span class="token operator">!=</span> oldRoutesForCurrentPage<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token function">_finalizeEntry</span><span class="token punctuation">(</span>newRoutesForCurrentPage<span class="token punctuation">,</span> currentPage<span class="token punctuation">,</span> newMap<span class="token punctuation">,</span> removedPages<span class="token punctuation">)</span><span class="token punctuation">;</span>
        currentPage <span class="token operator">=</span> entry<span class="token punctuation">;</span>
        restorationEnabled <span class="token operator">=</span> entry<span class="token punctuation">.</span>restorationId <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        entry<span class="token punctuation">.</span>restorationEnabled <span class="token operator">=</span> restorationEnabled<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>restorationEnabled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>restorationId <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          newRoutesForCurrentPage <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          oldRoutesForCurrentPage <span class="token operator">=</span> _pageToPagelessRoutes<span class="token operator">!</span><span class="token punctuation">[</span>entry<span class="token punctuation">.</span>restorationId<span class="token punctuation">]</span> <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          newRoutesForCurrentPage <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
          oldRoutesForCurrentPage <span class="token operator">=</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">continue</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>entry<span class="token punctuation">.</span>pageBased<span class="token punctuation">)</span><span class="token punctuation">;</span>
      restorationEnabled <span class="token operator">=</span> restorationEnabled <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>restorationInformation<span class="token operator">?</span><span class="token punctuation">.</span>isRestorable <span class="token operator">?</span><span class="token operator">?</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      entry<span class="token punctuation">.</span>restorationEnabled <span class="token operator">=</span> restorationEnabled<span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>restorationEnabled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>restorationId <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>currentPage <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> currentPage<span class="token punctuation">.</span>restorationId <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>restorationInformation <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">final</span> <span class="token class-name">Object</span> serializedData <span class="token operator">=</span> entry<span class="token punctuation">.</span>restorationInformation<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">getSerializableData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        needsSerialization <span class="token operator">=</span> needsSerialization
            <span class="token operator">||</span> oldRoutesForCurrentPage<span class="token punctuation">.</span>length <span class="token operator">&lt;=</span> newRoutesForCurrentPage<span class="token punctuation">.</span>length
            <span class="token operator">||</span> oldRoutesForCurrentPage<span class="token punctuation">[</span>newRoutesForCurrentPage<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">!=</span> serializedData<span class="token punctuation">;</span>
        newRoutesForCurrentPage<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>serializedData<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    needsSerialization <span class="token operator">=</span> needsSerialization <span class="token operator">||</span> newRoutesForCurrentPage<span class="token punctuation">.</span>length <span class="token operator">!=</span> oldRoutesForCurrentPage<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token function">_finalizeEntry</span><span class="token punctuation">(</span>newRoutesForCurrentPage<span class="token punctuation">,</span> currentPage<span class="token punctuation">,</span> newMap<span class="token punctuation">,</span> removedPages<span class="token punctuation">)</span><span class="token punctuation">;</span>

    needsSerialization <span class="token operator">=</span> needsSerialization <span class="token operator">||</span> removedPages<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">;</span>

    <span class="token keyword">assert</span><span class="token punctuation">(</span>wasUninitialized <span class="token operator">||</span> <span class="token function">_debugMapsEqual</span><span class="token punctuation">(</span>_pageToPagelessRoutes<span class="token operator">!</span><span class="token punctuation">,</span> newMap<span class="token punctuation">)</span> <span class="token operator">!=</span> needsSerialization<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>needsSerialization<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _pageToPagelessRoutes <span class="token operator">=</span> newMap<span class="token punctuation">;</span>
      <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_finalizeEntry</span><span class="token punctuation">(</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> routes<span class="token punctuation">,</span>
    _RouteEntry<span class="token operator">?</span> page<span class="token punctuation">,</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> pageToRoutes<span class="token punctuation">,</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> pagesToRemove<span class="token punctuation">,</span>
  <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>page <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> page<span class="token punctuation">.</span>pageBased<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>pageToRoutes<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>page<span class="token operator">?</span><span class="token punctuation">.</span>restorationId<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>routes<span class="token punctuation">.</span>isNotEmpty<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">assert</span><span class="token punctuation">(</span>page <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> page<span class="token punctuation">.</span>restorationId <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> restorationId <span class="token operator">=</span> page<span class="token operator">?</span><span class="token punctuation">.</span>restorationId<span class="token punctuation">;</span>
      pageToRoutes<span class="token punctuation">[</span>restorationId<span class="token punctuation">]</span> <span class="token operator">=</span> routes<span class="token punctuation">;</span>
      pagesToRemove<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>restorationId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  bool <span class="token function">_debugMapsEqual</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> a<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">setEquals</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>keys<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> b<span class="token punctuation">.</span>keys<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> key <span class="token keyword">in</span> a<span class="token punctuation">.</span>keys<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">listEquals</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">,</span> b<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>isRegistered<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_pageToPagelessRoutes <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    _pageToPagelessRoutes <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// Restoration.</span>

  bool <span class="token keyword">get</span> hasData <span class="token operator">=</span><span class="token operator">&gt;</span> _pageToPagelessRoutes <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> <span class="token function">restoreEntriesForPage</span><span class="token punctuation">(</span>_RouteEntry<span class="token operator">?</span> page<span class="token punctuation">,</span> <span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>isRegistered<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>page <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> page<span class="token punctuation">.</span>pageBased<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_pageToPagelessRoutes <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token punctuation">(</span>page <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> page<span class="token punctuation">.</span>restorationId <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> serializedData <span class="token operator">=</span> _pageToPagelessRoutes<span class="token operator">!</span><span class="token punctuation">[</span>page<span class="token operator">?</span><span class="token punctuation">.</span>restorationId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>serializedData <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">Object</span> data <span class="token keyword">in</span> serializedData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>_RestorationInformation<span class="token punctuation">.</span><span class="token function">fromSerializableData</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toRouteEntry</span><span class="token punctuation">(</span>navigator<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// RestorableProperty overrides.</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> <span class="token function">createDefaultValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> <span class="token function">fromPrimitives</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token operator">?</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> casted <span class="token operator">=</span> data<span class="token operator">!</span> <span class="token operator">as</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">,</span> <span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> casted<span class="token punctuation">.</span>map<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">dynamic</span> key<span class="token punctuation">,</span> <span class="token keyword">dynamic</span> value<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">MapEntry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
      key <span class="token operator">as</span> <span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span>
      <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>value <span class="token operator">as</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">initWithValue</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _pageToPagelessRoutes <span class="token operator">=</span> value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Object</span><span class="token operator">?</span> <span class="token function">toPrimitives</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> _pageToPagelessRoutes<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  bool <span class="token keyword">get</span> enabled <span class="token operator">=</span><span class="token operator">&gt;</span> hasData<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/// A callback that given a [BuildContext] finds a [NavigatorState].</span>
<span class="token comment">///</span>
<span class="token comment">/// Used by [RestorableRouteFuture.navigatorFinder] to determine the navigator</span>
<span class="token comment">/// to which a new route should be added.</span>
<span class="token keyword">typedef</span> <span class="token class-name">NavigatorFinderCallback</span> <span class="token operator">=</span> <span class="token class-name">NavigatorState</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/// A callback that given some `arguments` and a `navigator` adds a new</span>
<span class="token comment">/// restorable route to that `navigator` and returns the opaque ID of that</span>
<span class="token comment">/// new route.</span>
<span class="token comment">///</span>
<span class="token comment">/// Usually, this callback calls one of the imperative methods on the Navigator</span>
<span class="token comment">/// that have &quot;restorable&quot; in the name and returns their return value.</span>
<span class="token comment">///</span>
<span class="token comment">/// Used by [RestorableRouteFuture.onPresent].</span>
<span class="token keyword">typedef</span> <span class="token class-name">RoutePresentationCallback</span> <span class="token operator">=</span> <span class="token class-name">String</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">NavigatorState</span> navigator<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/// A callback to handle the result of a completed [Route].</span>
<span class="token comment">///</span>
<span class="token comment">/// The return value of the route (which can be null for e.g. void routes) is</span>
<span class="token comment">/// passed to the callback.</span>
<span class="token comment">///</span>
<span class="token comment">/// Used by [RestorableRouteFuture.onComplete].</span>
<span class="token keyword">typedef</span> <span class="token class-name">RouteCompletionCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token class-name">T</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/// Gives access to a [Route] object and its return value that was added to a</span>
<span class="token comment">/// navigator via one of its &quot;restorable&quot; API methods.</span>
<span class="token comment">///</span>
<span class="token comment">/// When a [State] object wants access to the return value of a [Route] object</span>
<span class="token comment">/// it has pushed onto the [Navigator], a [RestorableRouteFuture] ensures that</span>
<span class="token comment">/// it will also have access to that value after state restoration.</span>
<span class="token comment">///</span>
<span class="token comment">/// To show a new route on the navigator defined by the [navigatorFinder], call</span>
<span class="token comment">/// [present], which will invoke the [onPresent] callback. The [onPresent]</span>
<span class="token comment">/// callback must add a new route to the navigator provided to it using one</span>
<span class="token comment">/// of the &quot;restorable&quot; API methods. When the newly added route completes, the</span>
<span class="token comment">/// [onComplete] callback executes. It is given the return value of the route,</span>
<span class="token comment">/// which may be null.</span>
<span class="token comment">///</span>
<span class="token comment">/// While the route added via [present] is shown on the navigator, it can be</span>
<span class="token comment">/// accessed via the [route] getter.</span>
<span class="token comment">///</span>
<span class="token comment">/// If the property is restored to a state in which [present] had been called on</span>
<span class="token comment">/// it, but the route has not completed yet, the [RestorableRouteFuture] will</span>
<span class="token comment">/// obtain the restored route object from the navigator again and call</span>
<span class="token comment">/// [onComplete] once it completes.</span>
<span class="token comment">///</span>
<span class="token comment">/// The [RestorableRouteFuture] can only keep track of one active [route].</span>
<span class="token comment">/// When [present] has been called to add a route, it may only be called again</span>
<span class="token comment">/// after the previously added route has completed.</span>
<span class="token comment">///</span>
<span class="token comment">/// {@tool dartpad}</span>
<span class="token comment">/// This example uses a [RestorableRouteFuture] in the `_MyHomeState` to push a</span>
<span class="token comment">/// new `MyCounter` route and to retrieve its return value.</span>
<span class="token comment">///</span>
<span class="token comment">/// ** See code in examples/api/lib/widgets/navigator/restorable_route_future.0.dart **</span>
<span class="token comment">/// {@end-tool}</span>
<span class="token keyword">class</span> <span class="token class-name">RestorableRouteFuture</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">RestorableProperty</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/// Creates a [RestorableRouteFuture].</span>
  <span class="token class-name">RestorableRouteFuture</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>navigatorFinder <span class="token operator">=</span> _defaultNavigatorFinder<span class="token punctuation">,</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>onPresent<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>onComplete<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// A callback that given the [BuildContext] of the [State] object to which</span>
  <span class="token comment">/// this property is registered returns the [NavigatorState] of the navigator</span>
  <span class="token comment">/// to which the route instantiated in [onPresent] is added.</span>
  <span class="token keyword">final</span> <span class="token class-name">NavigatorFinderCallback</span> navigatorFinder<span class="token punctuation">;</span>

  <span class="token comment">/// A callback that add a new [Route] to the provided navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The callback must use one of the API methods on the [NavigatorState] that</span>
  <span class="token comment">/// have &quot;restorable&quot; in their name (e.g. [NavigatorState.restorablePush],</span>
  <span class="token comment">/// [NavigatorState.restorablePushNamed], etc.) and return the opaque ID</span>
  <span class="token comment">/// returned by those methods.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// This callback is invoked when [present] is called with the `arguments`</span>
  <span class="token comment">/// Object that was passed to that method and the [NavigatorState] obtained</span>
  <span class="token comment">/// from [navigatorFinder].</span>
  <span class="token keyword">final</span> <span class="token class-name">RoutePresentationCallback</span> onPresent<span class="token punctuation">;</span>

  <span class="token comment">/// A callback that is invoked when the [Route] added via [onPresent]</span>
  <span class="token comment">/// completes.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The return value of that route is passed to this method.</span>
  <span class="token keyword">final</span> <span class="token class-name">RouteCompletionCallback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> onComplete<span class="token punctuation">;</span>

  <span class="token comment">/// Shows the route created by [onPresent] and invoke [onComplete] when it</span>
  <span class="token comment">/// completes.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The `arguments` object is passed to [onPresent] and can be used to</span>
  <span class="token comment">/// customize the route. It must be serializable via the</span>
  <span class="token comment">/// [StandardMessageCodec]. Often, a [Map] is used to pass key-value pairs.</span>
  <span class="token keyword">void</span> <span class="token function">present</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>isPresent<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>isRegistered<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">final</span> <span class="token class-name">String</span> routeId <span class="token operator">=</span> <span class="token function">onPresent</span><span class="token punctuation">(</span>_navigator<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">_hookOntoRouteFuture</span><span class="token punctuation">(</span>routeId<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Whether the [Route] created by [present] is currently shown.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Returns true after [present] has been called until the [Route] completes.</span>
  bool <span class="token keyword">get</span> isPresent <span class="token operator">=</span><span class="token operator">&gt;</span> route <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token comment">/// The route that [present] added to the Navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// Returns null when currently no route is shown</span>
  <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> <span class="token keyword">get</span> route <span class="token operator">=</span><span class="token operator">&gt;</span> _route<span class="token punctuation">;</span>
  <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> _route<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">String</span><span class="token operator">?</span> <span class="token function">createDefaultValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">initWithValue</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">?</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">_hookOntoRouteFuture</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">Object</span><span class="token operator">?</span> <span class="token function">toPrimitives</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>route <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>enabled<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> route<span class="token operator">?</span><span class="token punctuation">.</span>restorationScopeId<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">String</span> <span class="token function">fromPrimitives</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token operator">?</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>data <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> data<span class="token operator">!</span> <span class="token operator">as</span> <span class="token class-name">String</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  bool _disposed <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _route<span class="token operator">?</span><span class="token punctuation">.</span>restorationScopeId<span class="token punctuation">.</span><span class="token function">removeListener</span><span class="token punctuation">(</span>notifyListeners<span class="token punctuation">)</span><span class="token punctuation">;</span>
    _disposed <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  bool <span class="token keyword">get</span> enabled <span class="token operator">=</span><span class="token operator">&gt;</span> route<span class="token operator">?</span><span class="token punctuation">.</span>restorationScopeId<span class="token punctuation">.</span>value <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token class-name">NavigatorState</span> <span class="token keyword">get</span> _navigator <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">NavigatorState</span> navigator <span class="token operator">=</span> <span class="token function">navigatorFinder</span><span class="token punctuation">(</span>state<span class="token punctuation">.</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> navigator<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">void</span> <span class="token function">_hookOntoRouteFuture</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _route <span class="token operator">=</span> _navigator<span class="token punctuation">.</span>_getRouteById<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span>_route <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    route<span class="token operator">!</span><span class="token punctuation">.</span>restorationScopeId<span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span>notifyListeners<span class="token punctuation">)</span><span class="token punctuation">;</span>
    route<span class="token operator">!</span><span class="token punctuation">.</span>popped<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">dynamic</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_disposed<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      _route<span class="token operator">?</span><span class="token punctuation">.</span>restorationScopeId<span class="token punctuation">.</span><span class="token function">removeListener</span><span class="token punctuation">(</span>notifyListeners<span class="token punctuation">)</span><span class="token punctuation">;</span>
      _route <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
      <span class="token function">notifyListeners</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      onComplete<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>result <span class="token operator">as</span> <span class="token class-name">T</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">static</span> <span class="token class-name">NavigatorState</span> <span class="token function">_defaultNavigatorFinder</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token class-name">Navigator</span><span class="token punctuation">.</span><span class="token function">of</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/// A notification that a change in navigation has taken place.</span>
<span class="token comment">///</span>
<span class="token comment">/// Specifically, this notification indicates that at least one of the following</span>
<span class="token comment">/// has occurred:</span>
<span class="token comment">///</span>
<span class="token comment">///  * That route stack of a [Navigator] has changed in any way.</span>
<span class="token comment">///  * The ability to pop has changed, such as controlled by [PopScope].</span>
<span class="token keyword">class</span> <span class="token class-name">NavigationNotification</span> <span class="token keyword">extends</span> <span class="token class-name">Notification</span> <span class="token punctuation">{</span>
  <span class="token comment">/// Creates a notification that some change in navigation has happened.</span>
  <span class="token keyword">const</span> <span class="token class-name">NavigationNotification</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    required <span class="token keyword">this</span><span class="token punctuation">.</span>canHandlePop<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// Indicates that the originator of this [Notification] is capable of</span>
  <span class="token comment">/// handling a navigation pop.</span>
  <span class="token keyword">final</span> bool canHandlePop<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string-literal"><span class="token string">'NavigationNotification canHandlePop: </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">canHandlePop</span></span><span class="token string">'</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br><span class="line-number">368</span><br><span class="line-number">369</span><br><span class="line-number">370</span><br><span class="line-number">371</span><br><span class="line-number">372</span><br><span class="line-number">373</span><br><span class="line-number">374</span><br><span class="line-number">375</span><br><span class="line-number">376</span><br><span class="line-number">377</span><br><span class="line-number">378</span><br><span class="line-number">379</span><br><span class="line-number">380</span><br><span class="line-number">381</span><br><span class="line-number">382</span><br><span class="line-number">383</span><br><span class="line-number">384</span><br><span class="line-number">385</span><br><span class="line-number">386</span><br><span class="line-number">387</span><br><span class="line-number">388</span><br><span class="line-number">389</span><br><span class="line-number">390</span><br><span class="line-number">391</span><br><span class="line-number">392</span><br><span class="line-number">393</span><br><span class="line-number">394</span><br><span class="line-number">395</span><br><span class="line-number">396</span><br><span class="line-number">397</span><br><span class="line-number">398</span><br><span class="line-number">399</span><br><span class="line-number">400</span><br><span class="line-number">401</span><br><span class="line-number">402</span><br><span class="line-number">403</span><br><span class="line-number">404</span><br><span class="line-number">405</span><br><span class="line-number">406</span><br><span class="line-number">407</span><br><span class="line-number">408</span><br><span class="line-number">409</span><br><span class="line-number">410</span><br><span class="line-number">411</span><br><span class="line-number">412</span><br><span class="line-number">413</span><br><span class="line-number">414</span><br><span class="line-number">415</span><br><span class="line-number">416</span><br><span class="line-number">417</span><br><span class="line-number">418</span><br><span class="line-number">419</span><br><span class="line-number">420</span><br><span class="line-number">421</span><br><span class="line-number">422</span><br><span class="line-number">423</span><br><span class="line-number">424</span><br><span class="line-number">425</span><br><span class="line-number">426</span><br><span class="line-number">427</span><br><span class="line-number">428</span><br><span class="line-number">429</span><br><span class="line-number">430</span><br><span class="line-number">431</span><br><span class="line-number">432</span><br><span class="line-number">433</span><br><span class="line-number">434</span><br><span class="line-number">435</span><br><span class="line-number">436</span><br><span class="line-number">437</span><br><span class="line-number">438</span><br><span class="line-number">439</span><br><span class="line-number">440</span><br><span class="line-number">441</span><br><span class="line-number">442</span><br><span class="line-number">443</span><br><span class="line-number">444</span><br><span class="line-number">445</span><br><span class="line-number">446</span><br><span class="line-number">447</span><br><span class="line-number">448</span><br><span class="line-number">449</span><br><span class="line-number">450</span><br><span class="line-number">451</span><br><span class="line-number">452</span><br><span class="line-number">453</span><br><span class="line-number">454</span><br><span class="line-number">455</span><br><span class="line-number">456</span><br><span class="line-number">457</span><br><span class="line-number">458</span><br><span class="line-number">459</span><br><span class="line-number">460</span><br><span class="line-number">461</span><br><span class="line-number">462</span><br><span class="line-number">463</span><br><span class="line-number">464</span><br><span class="line-number">465</span><br><span class="line-number">466</span><br><span class="line-number">467</span><br><span class="line-number">468</span><br><span class="line-number">469</span><br><span class="line-number">470</span><br><span class="line-number">471</span><br><span class="line-number">472</span><br><span class="line-number">473</span><br><span class="line-number">474</span><br><span class="line-number">475</span><br><span class="line-number">476</span><br><span class="line-number">477</span><br><span class="line-number">478</span><br><span class="line-number">479</span><br><span class="line-number">480</span><br><span class="line-number">481</span><br><span class="line-number">482</span><br><span class="line-number">483</span><br><span class="line-number">484</span><br><span class="line-number">485</span><br><span class="line-number">486</span><br><span class="line-number">487</span><br><span class="line-number">488</span><br><span class="line-number">489</span><br><span class="line-number">490</span><br><span class="line-number">491</span><br><span class="line-number">492</span><br><span class="line-number">493</span><br><span class="line-number">494</span><br><span class="line-number">495</span><br><span class="line-number">496</span><br><span class="line-number">497</span><br><span class="line-number">498</span><br><span class="line-number">499</span><br><span class="line-number">500</span><br><span class="line-number">501</span><br><span class="line-number">502</span><br><span class="line-number">503</span><br><span class="line-number">504</span><br><span class="line-number">505</span><br><span class="line-number">506</span><br><span class="line-number">507</span><br><span class="line-number">508</span><br><span class="line-number">509</span><br><span class="line-number">510</span><br><span class="line-number">511</span><br><span class="line-number">512</span><br><span class="line-number">513</span><br><span class="line-number">514</span><br><span class="line-number">515</span><br><span class="line-number">516</span><br><span class="line-number">517</span><br><span class="line-number">518</span><br><span class="line-number">519</span><br><span class="line-number">520</span><br><span class="line-number">521</span><br><span class="line-number">522</span><br><span class="line-number">523</span><br><span class="line-number">524</span><br><span class="line-number">525</span><br><span class="line-number">526</span><br><span class="line-number">527</span><br><span class="line-number">528</span><br><span class="line-number">529</span><br><span class="line-number">530</span><br><span class="line-number">531</span><br><span class="line-number">532</span><br><span class="line-number">533</span><br><span class="line-number">534</span><br><span class="line-number">535</span><br><span class="line-number">536</span><br><span class="line-number">537</span><br><span class="line-number">538</span><br><span class="line-number">539</span><br><span class="line-number">540</span><br><span class="line-number">541</span><br><span class="line-number">542</span><br><span class="line-number">543</span><br><span class="line-number">544</span><br><span class="line-number">545</span><br><span class="line-number">546</span><br><span class="line-number">547</span><br><span class="line-number">548</span><br><span class="line-number">549</span><br><span class="line-number">550</span><br><span class="line-number">551</span><br><span class="line-number">552</span><br><span class="line-number">553</span><br><span class="line-number">554</span><br><span class="line-number">555</span><br><span class="line-number">556</span><br><span class="line-number">557</span><br><span class="line-number">558</span><br><span class="line-number">559</span><br><span class="line-number">560</span><br><span class="line-number">561</span><br><span class="line-number">562</span><br><span class="line-number">563</span><br><span class="line-number">564</span><br><span class="line-number">565</span><br><span class="line-number">566</span><br><span class="line-number">567</span><br><span class="line-number">568</span><br><span class="line-number">569</span><br><span class="line-number">570</span><br><span class="line-number">571</span><br><span class="line-number">572</span><br><span class="line-number">573</span><br><span class="line-number">574</span><br><span class="line-number">575</span><br><span class="line-number">576</span><br><span class="line-number">577</span><br><span class="line-number">578</span><br><span class="line-number">579</span><br><span class="line-number">580</span><br><span class="line-number">581</span><br><span class="line-number">582</span><br><span class="line-number">583</span><br><span class="line-number">584</span><br><span class="line-number">585</span><br><span class="line-number">586</span><br><span class="line-number">587</span><br><span class="line-number">588</span><br><span class="line-number">589</span><br><span class="line-number">590</span><br><span class="line-number">591</span><br><span class="line-number">592</span><br><span class="line-number">593</span><br><span class="line-number">594</span><br><span class="line-number">595</span><br><span class="line-number">596</span><br><span class="line-number">597</span><br><span class="line-number">598</span><br><span class="line-number">599</span><br><span class="line-number">600</span><br><span class="line-number">601</span><br><span class="line-number">602</span><br><span class="line-number">603</span><br><span class="line-number">604</span><br><span class="line-number">605</span><br><span class="line-number">606</span><br><span class="line-number">607</span><br><span class="line-number">608</span><br><span class="line-number">609</span><br><span class="line-number">610</span><br><span class="line-number">611</span><br><span class="line-number">612</span><br><span class="line-number">613</span><br><span class="line-number">614</span><br><span class="line-number">615</span><br><span class="line-number">616</span><br><span class="line-number">617</span><br><span class="line-number">618</span><br><span class="line-number">619</span><br><span class="line-number">620</span><br><span class="line-number">621</span><br><span class="line-number">622</span><br><span class="line-number">623</span><br><span class="line-number">624</span><br><span class="line-number">625</span><br><span class="line-number">626</span><br><span class="line-number">627</span><br><span class="line-number">628</span><br><span class="line-number">629</span><br><span class="line-number">630</span><br><span class="line-number">631</span><br><span class="line-number">632</span><br><span class="line-number">633</span><br><span class="line-number">634</span><br><span class="line-number">635</span><br><span class="line-number">636</span><br><span class="line-number">637</span><br><span class="line-number">638</span><br><span class="line-number">639</span><br><span class="line-number">640</span><br><span class="line-number">641</span><br><span class="line-number">642</span><br><span class="line-number">643</span><br><span class="line-number">644</span><br><span class="line-number">645</span><br><span class="line-number">646</span><br><span class="line-number">647</span><br><span class="line-number">648</span><br><span class="line-number">649</span><br><span class="line-number">650</span><br><span class="line-number">651</span><br><span class="line-number">652</span><br><span class="line-number">653</span><br><span class="line-number">654</span><br><span class="line-number">655</span><br><span class="line-number">656</span><br><span class="line-number">657</span><br><span class="line-number">658</span><br><span class="line-number">659</span><br><span class="line-number">660</span><br><span class="line-number">661</span><br><span class="line-number">662</span><br><span class="line-number">663</span><br><span class="line-number">664</span><br><span class="line-number">665</span><br><span class="line-number">666</span><br><span class="line-number">667</span><br><span class="line-number">668</span><br><span class="line-number">669</span><br><span class="line-number">670</span><br><span class="line-number">671</span><br><span class="line-number">672</span><br><span class="line-number">673</span><br><span class="line-number">674</span><br><span class="line-number">675</span><br><span class="line-number">676</span><br><span class="line-number">677</span><br><span class="line-number">678</span><br><span class="line-number">679</span><br><span class="line-number">680</span><br><span class="line-number">681</span><br><span class="line-number">682</span><br><span class="line-number">683</span><br><span class="line-number">684</span><br><span class="line-number">685</span><br><span class="line-number">686</span><br><span class="line-number">687</span><br><span class="line-number">688</span><br><span class="line-number">689</span><br><span class="line-number">690</span><br><span class="line-number">691</span><br><span class="line-number">692</span><br><span class="line-number">693</span><br><span class="line-number">694</span><br><span class="line-number">695</span><br><span class="line-number">696</span><br><span class="line-number">697</span><br><span class="line-number">698</span><br><span class="line-number">699</span><br><span class="line-number">700</span><br><span class="line-number">701</span><br><span class="line-number">702</span><br><span class="line-number">703</span><br><span class="line-number">704</span><br><span class="line-number">705</span><br><span class="line-number">706</span><br><span class="line-number">707</span><br><span class="line-number">708</span><br><span class="line-number">709</span><br><span class="line-number">710</span><br><span class="line-number">711</span><br><span class="line-number">712</span><br><span class="line-number">713</span><br><span class="line-number">714</span><br><span class="line-number">715</span><br><span class="line-number">716</span><br><span class="line-number">717</span><br><span class="line-number">718</span><br><span class="line-number">719</span><br><span class="line-number">720</span><br><span class="line-number">721</span><br><span class="line-number">722</span><br><span class="line-number">723</span><br><span class="line-number">724</span><br><span class="line-number">725</span><br><span class="line-number">726</span><br><span class="line-number">727</span><br><span class="line-number">728</span><br><span class="line-number">729</span><br><span class="line-number">730</span><br><span class="line-number">731</span><br><span class="line-number">732</span><br><span class="line-number">733</span><br><span class="line-number">734</span><br><span class="line-number">735</span><br><span class="line-number">736</span><br><span class="line-number">737</span><br><span class="line-number">738</span><br><span class="line-number">739</span><br><span class="line-number">740</span><br><span class="line-number">741</span><br><span class="line-number">742</span><br><span class="line-number">743</span><br><span class="line-number">744</span><br><span class="line-number">745</span><br><span class="line-number">746</span><br><span class="line-number">747</span><br><span class="line-number">748</span><br><span class="line-number">749</span><br><span class="line-number">750</span><br><span class="line-number">751</span><br><span class="line-number">752</span><br><span class="line-number">753</span><br><span class="line-number">754</span><br><span class="line-number">755</span><br><span class="line-number">756</span><br><span class="line-number">757</span><br><span class="line-number">758</span><br><span class="line-number">759</span><br><span class="line-number">760</span><br><span class="line-number">761</span><br><span class="line-number">762</span><br><span class="line-number">763</span><br><span class="line-number">764</span><br><span class="line-number">765</span><br><span class="line-number">766</span><br><span class="line-number">767</span><br><span class="line-number">768</span><br><span class="line-number">769</span><br><span class="line-number">770</span><br><span class="line-number">771</span><br><span class="line-number">772</span><br><span class="line-number">773</span><br><span class="line-number">774</span><br><span class="line-number">775</span><br><span class="line-number">776</span><br><span class="line-number">777</span><br><span class="line-number">778</span><br><span class="line-number">779</span><br><span class="line-number">780</span><br><span class="line-number">781</span><br><span class="line-number">782</span><br><span class="line-number">783</span><br><span class="line-number">784</span><br><span class="line-number">785</span><br><span class="line-number">786</span><br><span class="line-number">787</span><br><span class="line-number">788</span><br><span class="line-number">789</span><br><span class="line-number">790</span><br><span class="line-number">791</span><br><span class="line-number">792</span><br><span class="line-number">793</span><br><span class="line-number">794</span><br><span class="line-number">795</span><br><span class="line-number">796</span><br><span class="line-number">797</span><br><span class="line-number">798</span><br><span class="line-number">799</span><br><span class="line-number">800</span><br><span class="line-number">801</span><br><span class="line-number">802</span><br><span class="line-number">803</span><br><span class="line-number">804</span><br><span class="line-number">805</span><br><span class="line-number">806</span><br><span class="line-number">807</span><br><span class="line-number">808</span><br><span class="line-number">809</span><br><span class="line-number">810</span><br><span class="line-number">811</span><br><span class="line-number">812</span><br><span class="line-number">813</span><br><span class="line-number">814</span><br><span class="line-number">815</span><br><span class="line-number">816</span><br><span class="line-number">817</span><br><span class="line-number">818</span><br><span class="line-number">819</span><br><span class="line-number">820</span><br><span class="line-number">821</span><br><span class="line-number">822</span><br><span class="line-number">823</span><br><span class="line-number">824</span><br><span class="line-number">825</span><br><span class="line-number">826</span><br><span class="line-number">827</span><br><span class="line-number">828</span><br><span class="line-number">829</span><br><span class="line-number">830</span><br><span class="line-number">831</span><br><span class="line-number">832</span><br><span class="line-number">833</span><br><span class="line-number">834</span><br><span class="line-number">835</span><br><span class="line-number">836</span><br><span class="line-number">837</span><br><span class="line-number">838</span><br><span class="line-number">839</span><br><span class="line-number">840</span><br><span class="line-number">841</span><br><span class="line-number">842</span><br><span class="line-number">843</span><br><span class="line-number">844</span><br><span class="line-number">845</span><br><span class="line-number">846</span><br><span class="line-number">847</span><br><span class="line-number">848</span><br><span class="line-number">849</span><br><span class="line-number">850</span><br><span class="line-number">851</span><br><span class="line-number">852</span><br><span class="line-number">853</span><br><span class="line-number">854</span><br><span class="line-number">855</span><br><span class="line-number">856</span><br><span class="line-number">857</span><br><span class="line-number">858</span><br><span class="line-number">859</span><br><span class="line-number">860</span><br><span class="line-number">861</span><br><span class="line-number">862</span><br><span class="line-number">863</span><br><span class="line-number">864</span><br><span class="line-number">865</span><br><span class="line-number">866</span><br><span class="line-number">867</span><br><span class="line-number">868</span><br><span class="line-number">869</span><br><span class="line-number">870</span><br><span class="line-number">871</span><br><span class="line-number">872</span><br><span class="line-number">873</span><br><span class="line-number">874</span><br><span class="line-number">875</span><br><span class="line-number">876</span><br><span class="line-number">877</span><br><span class="line-number">878</span><br><span class="line-number">879</span><br><span class="line-number">880</span><br><span class="line-number">881</span><br><span class="line-number">882</span><br><span class="line-number">883</span><br><span class="line-number">884</span><br><span class="line-number">885</span><br><span class="line-number">886</span><br><span class="line-number">887</span><br><span class="line-number">888</span><br><span class="line-number">889</span><br><span class="line-number">890</span><br><span class="line-number">891</span><br><span class="line-number">892</span><br><span class="line-number">893</span><br><span class="line-number">894</span><br><span class="line-number">895</span><br><span class="line-number">896</span><br><span class="line-number">897</span><br><span class="line-number">898</span><br><span class="line-number">899</span><br><span class="line-number">900</span><br><span class="line-number">901</span><br><span class="line-number">902</span><br><span class="line-number">903</span><br><span class="line-number">904</span><br><span class="line-number">905</span><br><span class="line-number">906</span><br><span class="line-number">907</span><br><span class="line-number">908</span><br><span class="line-number">909</span><br><span class="line-number">910</span><br><span class="line-number">911</span><br><span class="line-number">912</span><br><span class="line-number">913</span><br><span class="line-number">914</span><br><span class="line-number">915</span><br><span class="line-number">916</span><br><span class="line-number">917</span><br><span class="line-number">918</span><br><span class="line-number">919</span><br><span class="line-number">920</span><br><span class="line-number">921</span><br><span class="line-number">922</span><br><span class="line-number">923</span><br><span class="line-number">924</span><br><span class="line-number">925</span><br><span class="line-number">926</span><br><span class="line-number">927</span><br><span class="line-number">928</span><br><span class="line-number">929</span><br><span class="line-number">930</span><br><span class="line-number">931</span><br><span class="line-number">932</span><br><span class="line-number">933</span><br><span class="line-number">934</span><br><span class="line-number">935</span><br><span class="line-number">936</span><br><span class="line-number">937</span><br><span class="line-number">938</span><br><span class="line-number">939</span><br><span class="line-number">940</span><br><span class="line-number">941</span><br><span class="line-number">942</span><br><span class="line-number">943</span><br><span class="line-number">944</span><br><span class="line-number">945</span><br><span class="line-number">946</span><br><span class="line-number">947</span><br><span class="line-number">948</span><br><span class="line-number">949</span><br><span class="line-number">950</span><br><span class="line-number">951</span><br><span class="line-number">952</span><br><span class="line-number">953</span><br><span class="line-number">954</span><br><span class="line-number">955</span><br><span class="line-number">956</span><br><span class="line-number">957</span><br><span class="line-number">958</span><br><span class="line-number">959</span><br><span class="line-number">960</span><br><span class="line-number">961</span><br><span class="line-number">962</span><br><span class="line-number">963</span><br><span class="line-number">964</span><br><span class="line-number">965</span><br><span class="line-number">966</span><br><span class="line-number">967</span><br><span class="line-number">968</span><br><span class="line-number">969</span><br><span class="line-number">970</span><br><span class="line-number">971</span><br><span class="line-number">972</span><br><span class="line-number">973</span><br><span class="line-number">974</span><br><span class="line-number">975</span><br><span class="line-number">976</span><br><span class="line-number">977</span><br><span class="line-number">978</span><br><span class="line-number">979</span><br><span class="line-number">980</span><br><span class="line-number">981</span><br><span class="line-number">982</span><br><span class="line-number">983</span><br><span class="line-number">984</span><br><span class="line-number">985</span><br><span class="line-number">986</span><br><span class="line-number">987</span><br><span class="line-number">988</span><br><span class="line-number">989</span><br><span class="line-number">990</span><br><span class="line-number">991</span><br><span class="line-number">992</span><br><span class="line-number">993</span><br><span class="line-number">994</span><br><span class="line-number">995</span><br><span class="line-number">996</span><br><span class="line-number">997</span><br><span class="line-number">998</span><br><span class="line-number">999</span><br><span class="line-number">1000</span><br><span class="line-number">1001</span><br><span class="line-number">1002</span><br><span class="line-number">1003</span><br><span class="line-number">1004</span><br><span class="line-number">1005</span><br><span class="line-number">1006</span><br><span class="line-number">1007</span><br><span class="line-number">1008</span><br><span class="line-number">1009</span><br><span class="line-number">1010</span><br><span class="line-number">1011</span><br><span class="line-number">1012</span><br><span class="line-number">1013</span><br><span class="line-number">1014</span><br><span class="line-number">1015</span><br><span class="line-number">1016</span><br><span class="line-number">1017</span><br><span class="line-number">1018</span><br><span class="line-number">1019</span><br><span class="line-number">1020</span><br><span class="line-number">1021</span><br><span class="line-number">1022</span><br><span class="line-number">1023</span><br><span class="line-number">1024</span><br><span class="line-number">1025</span><br><span class="line-number">1026</span><br><span class="line-number">1027</span><br><span class="line-number">1028</span><br><span class="line-number">1029</span><br><span class="line-number">1030</span><br><span class="line-number">1031</span><br><span class="line-number">1032</span><br><span class="line-number">1033</span><br><span class="line-number">1034</span><br><span class="line-number">1035</span><br><span class="line-number">1036</span><br><span class="line-number">1037</span><br><span class="line-number">1038</span><br><span class="line-number">1039</span><br><span class="line-number">1040</span><br><span class="line-number">1041</span><br><span class="line-number">1042</span><br><span class="line-number">1043</span><br><span class="line-number">1044</span><br><span class="line-number">1045</span><br><span class="line-number">1046</span><br><span class="line-number">1047</span><br><span class="line-number">1048</span><br><span class="line-number">1049</span><br><span class="line-number">1050</span><br><span class="line-number">1051</span><br><span class="line-number">1052</span><br><span class="line-number">1053</span><br><span class="line-number">1054</span><br><span class="line-number">1055</span><br><span class="line-number">1056</span><br><span class="line-number">1057</span><br><span class="line-number">1058</span><br><span class="line-number">1059</span><br><span class="line-number">1060</span><br><span class="line-number">1061</span><br><span class="line-number">1062</span><br><span class="line-number">1063</span><br><span class="line-number">1064</span><br><span class="line-number">1065</span><br><span class="line-number">1066</span><br><span class="line-number">1067</span><br><span class="line-number">1068</span><br><span class="line-number">1069</span><br><span class="line-number">1070</span><br><span class="line-number">1071</span><br><span class="line-number">1072</span><br><span class="line-number">1073</span><br><span class="line-number">1074</span><br><span class="line-number">1075</span><br><span class="line-number">1076</span><br><span class="line-number">1077</span><br><span class="line-number">1078</span><br><span class="line-number">1079</span><br><span class="line-number">1080</span><br><span class="line-number">1081</span><br><span class="line-number">1082</span><br><span class="line-number">1083</span><br><span class="line-number">1084</span><br><span class="line-number">1085</span><br><span class="line-number">1086</span><br><span class="line-number">1087</span><br><span class="line-number">1088</span><br><span class="line-number">1089</span><br><span class="line-number">1090</span><br><span class="line-number">1091</span><br><span class="line-number">1092</span><br><span class="line-number">1093</span><br><span class="line-number">1094</span><br><span class="line-number">1095</span><br><span class="line-number">1096</span><br><span class="line-number">1097</span><br><span class="line-number">1098</span><br><span class="line-number">1099</span><br><span class="line-number">1100</span><br><span class="line-number">1101</span><br><span class="line-number">1102</span><br><span class="line-number">1103</span><br><span class="line-number">1104</span><br><span class="line-number">1105</span><br><span class="line-number">1106</span><br><span class="line-number">1107</span><br><span class="line-number">1108</span><br><span class="line-number">1109</span><br><span class="line-number">1110</span><br><span class="line-number">1111</span><br><span class="line-number">1112</span><br><span class="line-number">1113</span><br><span class="line-number">1114</span><br><span class="line-number">1115</span><br><span class="line-number">1116</span><br><span class="line-number">1117</span><br><span class="line-number">1118</span><br><span class="line-number">1119</span><br><span class="line-number">1120</span><br><span class="line-number">1121</span><br><span class="line-number">1122</span><br><span class="line-number">1123</span><br><span class="line-number">1124</span><br><span class="line-number">1125</span><br><span class="line-number">1126</span><br><span class="line-number">1127</span><br><span class="line-number">1128</span><br><span class="line-number">1129</span><br><span class="line-number">1130</span><br><span class="line-number">1131</span><br><span class="line-number">1132</span><br><span class="line-number">1133</span><br><span class="line-number">1134</span><br><span class="line-number">1135</span><br><span class="line-number">1136</span><br><span class="line-number">1137</span><br><span class="line-number">1138</span><br><span class="line-number">1139</span><br><span class="line-number">1140</span><br><span class="line-number">1141</span><br><span class="line-number">1142</span><br><span class="line-number">1143</span><br><span class="line-number">1144</span><br><span class="line-number">1145</span><br><span class="line-number">1146</span><br><span class="line-number">1147</span><br><span class="line-number">1148</span><br><span class="line-number">1149</span><br><span class="line-number">1150</span><br><span class="line-number">1151</span><br><span class="line-number">1152</span><br><span class="line-number">1153</span><br><span class="line-number">1154</span><br><span class="line-number">1155</span><br><span class="line-number">1156</span><br><span class="line-number">1157</span><br><span class="line-number">1158</span><br><span class="line-number">1159</span><br><span class="line-number">1160</span><br><span class="line-number">1161</span><br><span class="line-number">1162</span><br><span class="line-number">1163</span><br><span class="line-number">1164</span><br><span class="line-number">1165</span><br><span class="line-number">1166</span><br><span class="line-number">1167</span><br><span class="line-number">1168</span><br><span class="line-number">1169</span><br><span class="line-number">1170</span><br><span class="line-number">1171</span><br><span class="line-number">1172</span><br><span class="line-number">1173</span><br><span class="line-number">1174</span><br><span class="line-number">1175</span><br><span class="line-number">1176</span><br><span class="line-number">1177</span><br><span class="line-number">1178</span><br><span class="line-number">1179</span><br><span class="line-number">1180</span><br><span class="line-number">1181</span><br><span class="line-number">1182</span><br><span class="line-number">1183</span><br><span class="line-number">1184</span><br><span class="line-number">1185</span><br><span class="line-number">1186</span><br><span class="line-number">1187</span><br><span class="line-number">1188</span><br><span class="line-number">1189</span><br><span class="line-number">1190</span><br><span class="line-number">1191</span><br><span class="line-number">1192</span><br><span class="line-number">1193</span><br><span class="line-number">1194</span><br><span class="line-number">1195</span><br><span class="line-number">1196</span><br><span class="line-number">1197</span><br><span class="line-number">1198</span><br><span class="line-number">1199</span><br><span class="line-number">1200</span><br><span class="line-number">1201</span><br><span class="line-number">1202</span><br><span class="line-number">1203</span><br><span class="line-number">1204</span><br><span class="line-number">1205</span><br><span class="line-number">1206</span><br><span class="line-number">1207</span><br><span class="line-number">1208</span><br><span class="line-number">1209</span><br><span class="line-number">1210</span><br><span class="line-number">1211</span><br><span class="line-number">1212</span><br><span class="line-number">1213</span><br><span class="line-number">1214</span><br><span class="line-number">1215</span><br><span class="line-number">1216</span><br><span class="line-number">1217</span><br><span class="line-number">1218</span><br><span class="line-number">1219</span><br><span class="line-number">1220</span><br><span class="line-number">1221</span><br><span class="line-number">1222</span><br><span class="line-number">1223</span><br><span class="line-number">1224</span><br><span class="line-number">1225</span><br><span class="line-number">1226</span><br><span class="line-number">1227</span><br><span class="line-number">1228</span><br><span class="line-number">1229</span><br><span class="line-number">1230</span><br><span class="line-number">1231</span><br><span class="line-number">1232</span><br><span class="line-number">1233</span><br><span class="line-number">1234</span><br><span class="line-number">1235</span><br><span class="line-number">1236</span><br><span class="line-number">1237</span><br><span class="line-number">1238</span><br><span class="line-number">1239</span><br><span class="line-number">1240</span><br><span class="line-number">1241</span><br><span class="line-number">1242</span><br><span class="line-number">1243</span><br><span class="line-number">1244</span><br><span class="line-number">1245</span><br><span class="line-number">1246</span><br><span class="line-number">1247</span><br><span class="line-number">1248</span><br><span class="line-number">1249</span><br><span class="line-number">1250</span><br><span class="line-number">1251</span><br><span class="line-number">1252</span><br><span class="line-number">1253</span><br><span class="line-number">1254</span><br><span class="line-number">1255</span><br><span class="line-number">1256</span><br><span class="line-number">1257</span><br><span class="line-number">1258</span><br><span class="line-number">1259</span><br><span class="line-number">1260</span><br><span class="line-number">1261</span><br><span class="line-number">1262</span><br><span class="line-number">1263</span><br><span class="line-number">1264</span><br><span class="line-number">1265</span><br><span class="line-number">1266</span><br><span class="line-number">1267</span><br><span class="line-number">1268</span><br><span class="line-number">1269</span><br><span class="line-number">1270</span><br><span class="line-number">1271</span><br><span class="line-number">1272</span><br><span class="line-number">1273</span><br><span class="line-number">1274</span><br><span class="line-number">1275</span><br><span class="line-number">1276</span><br><span class="line-number">1277</span><br><span class="line-number">1278</span><br><span class="line-number">1279</span><br><span class="line-number">1280</span><br><span class="line-number">1281</span><br><span class="line-number">1282</span><br><span class="line-number">1283</span><br><span class="line-number">1284</span><br><span class="line-number">1285</span><br><span class="line-number">1286</span><br><span class="line-number">1287</span><br><span class="line-number">1288</span><br><span class="line-number">1289</span><br><span class="line-number">1290</span><br><span class="line-number">1291</span><br><span class="line-number">1292</span><br><span class="line-number">1293</span><br><span class="line-number">1294</span><br><span class="line-number">1295</span><br><span class="line-number">1296</span><br><span class="line-number">1297</span><br><span class="line-number">1298</span><br><span class="line-number">1299</span><br><span class="line-number">1300</span><br><span class="line-number">1301</span><br><span class="line-number">1302</span><br><span class="line-number">1303</span><br><span class="line-number">1304</span><br><span class="line-number">1305</span><br><span class="line-number">1306</span><br><span class="line-number">1307</span><br><span class="line-number">1308</span><br><span class="line-number">1309</span><br><span class="line-number">1310</span><br><span class="line-number">1311</span><br><span class="line-number">1312</span><br><span class="line-number">1313</span><br><span class="line-number">1314</span><br><span class="line-number">1315</span><br><span class="line-number">1316</span><br><span class="line-number">1317</span><br><span class="line-number">1318</span><br><span class="line-number">1319</span><br><span class="line-number">1320</span><br><span class="line-number">1321</span><br><span class="line-number">1322</span><br><span class="line-number">1323</span><br><span class="line-number">1324</span><br><span class="line-number">1325</span><br><span class="line-number">1326</span><br><span class="line-number">1327</span><br><span class="line-number">1328</span><br><span class="line-number">1329</span><br><span class="line-number">1330</span><br><span class="line-number">1331</span><br><span class="line-number">1332</span><br><span class="line-number">1333</span><br><span class="line-number">1334</span><br><span class="line-number">1335</span><br><span class="line-number">1336</span><br><span class="line-number">1337</span><br><span class="line-number">1338</span><br><span class="line-number">1339</span><br><span class="line-number">1340</span><br><span class="line-number">1341</span><br><span class="line-number">1342</span><br><span class="line-number">1343</span><br><span class="line-number">1344</span><br><span class="line-number">1345</span><br><span class="line-number">1346</span><br><span class="line-number">1347</span><br><span class="line-number">1348</span><br><span class="line-number">1349</span><br><span class="line-number">1350</span><br><span class="line-number">1351</span><br><span class="line-number">1352</span><br><span class="line-number">1353</span><br><span class="line-number">1354</span><br><span class="line-number">1355</span><br><span class="line-number">1356</span><br><span class="line-number">1357</span><br><span class="line-number">1358</span><br><span class="line-number">1359</span><br><span class="line-number">1360</span><br><span class="line-number">1361</span><br><span class="line-number">1362</span><br><span class="line-number">1363</span><br><span class="line-number">1364</span><br><span class="line-number">1365</span><br><span class="line-number">1366</span><br><span class="line-number">1367</span><br><span class="line-number">1368</span><br><span class="line-number">1369</span><br><span class="line-number">1370</span><br><span class="line-number">1371</span><br><span class="line-number">1372</span><br><span class="line-number">1373</span><br><span class="line-number">1374</span><br><span class="line-number">1375</span><br><span class="line-number">1376</span><br><span class="line-number">1377</span><br><span class="line-number">1378</span><br><span class="line-number">1379</span><br><span class="line-number">1380</span><br><span class="line-number">1381</span><br><span class="line-number">1382</span><br><span class="line-number">1383</span><br><span class="line-number">1384</span><br><span class="line-number">1385</span><br><span class="line-number">1386</span><br><span class="line-number">1387</span><br><span class="line-number">1388</span><br><span class="line-number">1389</span><br><span class="line-number">1390</span><br><span class="line-number">1391</span><br><span class="line-number">1392</span><br><span class="line-number">1393</span><br><span class="line-number">1394</span><br><span class="line-number">1395</span><br><span class="line-number">1396</span><br><span class="line-number">1397</span><br><span class="line-number">1398</span><br><span class="line-number">1399</span><br><span class="line-number">1400</span><br><span class="line-number">1401</span><br><span class="line-number">1402</span><br><span class="line-number">1403</span><br><span class="line-number">1404</span><br><span class="line-number">1405</span><br><span class="line-number">1406</span><br><span class="line-number">1407</span><br><span class="line-number">1408</span><br><span class="line-number">1409</span><br><span class="line-number">1410</span><br><span class="line-number">1411</span><br><span class="line-number">1412</span><br><span class="line-number">1413</span><br><span class="line-number">1414</span><br><span class="line-number">1415</span><br><span class="line-number">1416</span><br><span class="line-number">1417</span><br><span class="line-number">1418</span><br><span class="line-number">1419</span><br><span class="line-number">1420</span><br><span class="line-number">1421</span><br><span class="line-number">1422</span><br><span class="line-number">1423</span><br><span class="line-number">1424</span><br><span class="line-number">1425</span><br><span class="line-number">1426</span><br><span class="line-number">1427</span><br><span class="line-number">1428</span><br><span class="line-number">1429</span><br><span class="line-number">1430</span><br><span class="line-number">1431</span><br><span class="line-number">1432</span><br><span class="line-number">1433</span><br><span class="line-number">1434</span><br><span class="line-number">1435</span><br><span class="line-number">1436</span><br><span class="line-number">1437</span><br><span class="line-number">1438</span><br><span class="line-number">1439</span><br><span class="line-number">1440</span><br><span class="line-number">1441</span><br><span class="line-number">1442</span><br><span class="line-number">1443</span><br><span class="line-number">1444</span><br><span class="line-number">1445</span><br><span class="line-number">1446</span><br><span class="line-number">1447</span><br><span class="line-number">1448</span><br><span class="line-number">1449</span><br><span class="line-number">1450</span><br><span class="line-number">1451</span><br><span class="line-number">1452</span><br><span class="line-number">1453</span><br><span class="line-number">1454</span><br><span class="line-number">1455</span><br><span class="line-number">1456</span><br><span class="line-number">1457</span><br><span class="line-number">1458</span><br><span class="line-number">1459</span><br><span class="line-number">1460</span><br><span class="line-number">1461</span><br><span class="line-number">1462</span><br><span class="line-number">1463</span><br><span class="line-number">1464</span><br><span class="line-number">1465</span><br><span class="line-number">1466</span><br><span class="line-number">1467</span><br><span class="line-number">1468</span><br><span class="line-number">1469</span><br><span class="line-number">1470</span><br><span class="line-number">1471</span><br><span class="line-number">1472</span><br><span class="line-number">1473</span><br><span class="line-number">1474</span><br><span class="line-number">1475</span><br><span class="line-number">1476</span><br><span class="line-number">1477</span><br><span class="line-number">1478</span><br><span class="line-number">1479</span><br><span class="line-number">1480</span><br><span class="line-number">1481</span><br><span class="line-number">1482</span><br><span class="line-number">1483</span><br><span class="line-number">1484</span><br><span class="line-number">1485</span><br><span class="line-number">1486</span><br><span class="line-number">1487</span><br><span class="line-number">1488</span><br><span class="line-number">1489</span><br><span class="line-number">1490</span><br><span class="line-number">1491</span><br><span class="line-number">1492</span><br><span class="line-number">1493</span><br><span class="line-number">1494</span><br><span class="line-number">1495</span><br><span class="line-number">1496</span><br><span class="line-number">1497</span><br><span class="line-number">1498</span><br><span class="line-number">1499</span><br><span class="line-number">1500</span><br><span class="line-number">1501</span><br><span class="line-number">1502</span><br><span class="line-number">1503</span><br><span class="line-number">1504</span><br><span class="line-number">1505</span><br><span class="line-number">1506</span><br><span class="line-number">1507</span><br><span class="line-number">1508</span><br><span class="line-number">1509</span><br><span class="line-number">1510</span><br><span class="line-number">1511</span><br><span class="line-number">1512</span><br><span class="line-number">1513</span><br><span class="line-number">1514</span><br><span class="line-number">1515</span><br><span class="line-number">1516</span><br><span class="line-number">1517</span><br><span class="line-number">1518</span><br><span class="line-number">1519</span><br><span class="line-number">1520</span><br><span class="line-number">1521</span><br><span class="line-number">1522</span><br><span class="line-number">1523</span><br><span class="line-number">1524</span><br><span class="line-number">1525</span><br><span class="line-number">1526</span><br><span class="line-number">1527</span><br><span class="line-number">1528</span><br><span class="line-number">1529</span><br><span class="line-number">1530</span><br><span class="line-number">1531</span><br><span class="line-number">1532</span><br><span class="line-number">1533</span><br><span class="line-number">1534</span><br><span class="line-number">1535</span><br><span class="line-number">1536</span><br><span class="line-number">1537</span><br><span class="line-number">1538</span><br><span class="line-number">1539</span><br><span class="line-number">1540</span><br><span class="line-number">1541</span><br><span class="line-number">1542</span><br><span class="line-number">1543</span><br><span class="line-number">1544</span><br><span class="line-number">1545</span><br><span class="line-number">1546</span><br><span class="line-number">1547</span><br><span class="line-number">1548</span><br><span class="line-number">1549</span><br><span class="line-number">1550</span><br><span class="line-number">1551</span><br><span class="line-number">1552</span><br><span class="line-number">1553</span><br><span class="line-number">1554</span><br><span class="line-number">1555</span><br><span class="line-number">1556</span><br><span class="line-number">1557</span><br><span class="line-number">1558</span><br><span class="line-number">1559</span><br><span class="line-number">1560</span><br><span class="line-number">1561</span><br><span class="line-number">1562</span><br><span class="line-number">1563</span><br><span class="line-number">1564</span><br><span class="line-number">1565</span><br><span class="line-number">1566</span><br><span class="line-number">1567</span><br><span class="line-number">1568</span><br><span class="line-number">1569</span><br><span class="line-number">1570</span><br><span class="line-number">1571</span><br><span class="line-number">1572</span><br><span class="line-number">1573</span><br><span class="line-number">1574</span><br><span class="line-number">1575</span><br><span class="line-number">1576</span><br><span class="line-number">1577</span><br><span class="line-number">1578</span><br><span class="line-number">1579</span><br><span class="line-number">1580</span><br><span class="line-number">1581</span><br><span class="line-number">1582</span><br><span class="line-number">1583</span><br><span class="line-number">1584</span><br><span class="line-number">1585</span><br><span class="line-number">1586</span><br><span class="line-number">1587</span><br><span class="line-number">1588</span><br><span class="line-number">1589</span><br><span class="line-number">1590</span><br><span class="line-number">1591</span><br><span class="line-number">1592</span><br><span class="line-number">1593</span><br><span class="line-number">1594</span><br><span class="line-number">1595</span><br><span class="line-number">1596</span><br><span class="line-number">1597</span><br><span class="line-number">1598</span><br><span class="line-number">1599</span><br><span class="line-number">1600</span><br><span class="line-number">1601</span><br><span class="line-number">1602</span><br><span class="line-number">1603</span><br><span class="line-number">1604</span><br><span class="line-number">1605</span><br><span class="line-number">1606</span><br><span class="line-number">1607</span><br><span class="line-number">1608</span><br><span class="line-number">1609</span><br><span class="line-number">1610</span><br><span class="line-number">1611</span><br><span class="line-number">1612</span><br><span class="line-number">1613</span><br><span class="line-number">1614</span><br><span class="line-number">1615</span><br><span class="line-number">1616</span><br><span class="line-number">1617</span><br><span class="line-number">1618</span><br><span class="line-number">1619</span><br><span class="line-number">1620</span><br><span class="line-number">1621</span><br><span class="line-number">1622</span><br><span class="line-number">1623</span><br><span class="line-number">1624</span><br><span class="line-number">1625</span><br><span class="line-number">1626</span><br><span class="line-number">1627</span><br><span class="line-number">1628</span><br><span class="line-number">1629</span><br><span class="line-number">1630</span><br><span class="line-number">1631</span><br><span class="line-number">1632</span><br><span class="line-number">1633</span><br><span class="line-number">1634</span><br><span class="line-number">1635</span><br><span class="line-number">1636</span><br><span class="line-number">1637</span><br><span class="line-number">1638</span><br><span class="line-number">1639</span><br><span class="line-number">1640</span><br><span class="line-number">1641</span><br><span class="line-number">1642</span><br><span class="line-number">1643</span><br><span class="line-number">1644</span><br><span class="line-number">1645</span><br><span class="line-number">1646</span><br><span class="line-number">1647</span><br><span class="line-number">1648</span><br><span class="line-number">1649</span><br><span class="line-number">1650</span><br><span class="line-number">1651</span><br><span class="line-number">1652</span><br><span class="line-number">1653</span><br><span class="line-number">1654</span><br><span class="line-number">1655</span><br><span class="line-number">1656</span><br><span class="line-number">1657</span><br><span class="line-number">1658</span><br><span class="line-number">1659</span><br><span class="line-number">1660</span><br><span class="line-number">1661</span><br><span class="line-number">1662</span><br><span class="line-number">1663</span><br><span class="line-number">1664</span><br><span class="line-number">1665</span><br><span class="line-number">1666</span><br><span class="line-number">1667</span><br><span class="line-number">1668</span><br><span class="line-number">1669</span><br><span class="line-number">1670</span><br><span class="line-number">1671</span><br><span class="line-number">1672</span><br><span class="line-number">1673</span><br><span class="line-number">1674</span><br><span class="line-number">1675</span><br><span class="line-number">1676</span><br><span class="line-number">1677</span><br><span class="line-number">1678</span><br><span class="line-number">1679</span><br><span class="line-number">1680</span><br><span class="line-number">1681</span><br><span class="line-number">1682</span><br><span class="line-number">1683</span><br><span class="line-number">1684</span><br><span class="line-number">1685</span><br><span class="line-number">1686</span><br><span class="line-number">1687</span><br><span class="line-number">1688</span><br><span class="line-number">1689</span><br><span class="line-number">1690</span><br><span class="line-number">1691</span><br><span class="line-number">1692</span><br><span class="line-number">1693</span><br><span class="line-number">1694</span><br><span class="line-number">1695</span><br><span class="line-number">1696</span><br><span class="line-number">1697</span><br><span class="line-number">1698</span><br><span class="line-number">1699</span><br><span class="line-number">1700</span><br><span class="line-number">1701</span><br><span class="line-number">1702</span><br><span class="line-number">1703</span><br><span class="line-number">1704</span><br><span class="line-number">1705</span><br><span class="line-number">1706</span><br><span class="line-number">1707</span><br><span class="line-number">1708</span><br><span class="line-number">1709</span><br><span class="line-number">1710</span><br><span class="line-number">1711</span><br><span class="line-number">1712</span><br><span class="line-number">1713</span><br><span class="line-number">1714</span><br><span class="line-number">1715</span><br><span class="line-number">1716</span><br><span class="line-number">1717</span><br><span class="line-number">1718</span><br><span class="line-number">1719</span><br><span class="line-number">1720</span><br><span class="line-number">1721</span><br><span class="line-number">1722</span><br><span class="line-number">1723</span><br><span class="line-number">1724</span><br><span class="line-number">1725</span><br><span class="line-number">1726</span><br><span class="line-number">1727</span><br><span class="line-number">1728</span><br><span class="line-number">1729</span><br><span class="line-number">1730</span><br><span class="line-number">1731</span><br><span class="line-number">1732</span><br><span class="line-number">1733</span><br><span class="line-number">1734</span><br><span class="line-number">1735</span><br><span class="line-number">1736</span><br><span class="line-number">1737</span><br><span class="line-number">1738</span><br><span class="line-number">1739</span><br><span class="line-number">1740</span><br><span class="line-number">1741</span><br><span class="line-number">1742</span><br><span class="line-number">1743</span><br><span class="line-number">1744</span><br><span class="line-number">1745</span><br><span class="line-number">1746</span><br><span class="line-number">1747</span><br><span class="line-number">1748</span><br><span class="line-number">1749</span><br><span class="line-number">1750</span><br><span class="line-number">1751</span><br><span class="line-number">1752</span><br><span class="line-number">1753</span><br><span class="line-number">1754</span><br><span class="line-number">1755</span><br><span class="line-number">1756</span><br><span class="line-number">1757</span><br><span class="line-number">1758</span><br><span class="line-number">1759</span><br><span class="line-number">1760</span><br><span class="line-number">1761</span><br><span class="line-number">1762</span><br><span class="line-number">1763</span><br><span class="line-number">1764</span><br><span class="line-number">1765</span><br><span class="line-number">1766</span><br><span class="line-number">1767</span><br><span class="line-number">1768</span><br><span class="line-number">1769</span><br><span class="line-number">1770</span><br><span class="line-number">1771</span><br><span class="line-number">1772</span><br><span class="line-number">1773</span><br><span class="line-number">1774</span><br><span class="line-number">1775</span><br><span class="line-number">1776</span><br><span class="line-number">1777</span><br><span class="line-number">1778</span><br><span class="line-number">1779</span><br><span class="line-number">1780</span><br><span class="line-number">1781</span><br><span class="line-number">1782</span><br><span class="line-number">1783</span><br><span class="line-number">1784</span><br><span class="line-number">1785</span><br><span class="line-number">1786</span><br><span class="line-number">1787</span><br><span class="line-number">1788</span><br><span class="line-number">1789</span><br><span class="line-number">1790</span><br><span class="line-number">1791</span><br><span class="line-number">1792</span><br><span class="line-number">1793</span><br><span class="line-number">1794</span><br><span class="line-number">1795</span><br><span class="line-number">1796</span><br><span class="line-number">1797</span><br><span class="line-number">1798</span><br><span class="line-number">1799</span><br><span class="line-number">1800</span><br><span class="line-number">1801</span><br><span class="line-number">1802</span><br><span class="line-number">1803</span><br><span class="line-number">1804</span><br><span class="line-number">1805</span><br><span class="line-number">1806</span><br><span class="line-number">1807</span><br><span class="line-number">1808</span><br><span class="line-number">1809</span><br><span class="line-number">1810</span><br><span class="line-number">1811</span><br><span class="line-number">1812</span><br><span class="line-number">1813</span><br><span class="line-number">1814</span><br><span class="line-number">1815</span><br><span class="line-number">1816</span><br><span class="line-number">1817</span><br><span class="line-number">1818</span><br><span class="line-number">1819</span><br><span class="line-number">1820</span><br><span class="line-number">1821</span><br><span class="line-number">1822</span><br><span class="line-number">1823</span><br><span class="line-number">1824</span><br><span class="line-number">1825</span><br><span class="line-number">1826</span><br><span class="line-number">1827</span><br><span class="line-number">1828</span><br><span class="line-number">1829</span><br><span class="line-number">1830</span><br><span class="line-number">1831</span><br><span class="line-number">1832</span><br><span class="line-number">1833</span><br><span class="line-number">1834</span><br><span class="line-number">1835</span><br><span class="line-number">1836</span><br><span class="line-number">1837</span><br><span class="line-number">1838</span><br><span class="line-number">1839</span><br><span class="line-number">1840</span><br><span class="line-number">1841</span><br><span class="line-number">1842</span><br><span class="line-number">1843</span><br><span class="line-number">1844</span><br><span class="line-number">1845</span><br><span class="line-number">1846</span><br><span class="line-number">1847</span><br><span class="line-number">1848</span><br><span class="line-number">1849</span><br><span class="line-number">1850</span><br><span class="line-number">1851</span><br><span class="line-number">1852</span><br><span class="line-number">1853</span><br><span class="line-number">1854</span><br><span class="line-number">1855</span><br><span class="line-number">1856</span><br><span class="line-number">1857</span><br><span class="line-number">1858</span><br><span class="line-number">1859</span><br><span class="line-number">1860</span><br><span class="line-number">1861</span><br><span class="line-number">1862</span><br><span class="line-number">1863</span><br><span class="line-number">1864</span><br><span class="line-number">1865</span><br><span class="line-number">1866</span><br><span class="line-number">1867</span><br><span class="line-number">1868</span><br><span class="line-number">1869</span><br><span class="line-number">1870</span><br><span class="line-number">1871</span><br><span class="line-number">1872</span><br><span class="line-number">1873</span><br><span class="line-number">1874</span><br><span class="line-number">1875</span><br><span class="line-number">1876</span><br><span class="line-number">1877</span><br><span class="line-number">1878</span><br><span class="line-number">1879</span><br><span class="line-number">1880</span><br><span class="line-number">1881</span><br><span class="line-number">1882</span><br><span class="line-number">1883</span><br><span class="line-number">1884</span><br><span class="line-number">1885</span><br><span class="line-number">1886</span><br><span class="line-number">1887</span><br><span class="line-number">1888</span><br><span class="line-number">1889</span><br><span class="line-number">1890</span><br><span class="line-number">1891</span><br><span class="line-number">1892</span><br><span class="line-number">1893</span><br><span class="line-number">1894</span><br><span class="line-number">1895</span><br><span class="line-number">1896</span><br><span class="line-number">1897</span><br><span class="line-number">1898</span><br><span class="line-number">1899</span><br><span class="line-number">1900</span><br><span class="line-number">1901</span><br><span class="line-number">1902</span><br><span class="line-number">1903</span><br><span class="line-number">1904</span><br><span class="line-number">1905</span><br><span class="line-number">1906</span><br><span class="line-number">1907</span><br><span class="line-number">1908</span><br><span class="line-number">1909</span><br><span class="line-number">1910</span><br><span class="line-number">1911</span><br><span class="line-number">1912</span><br><span class="line-number">1913</span><br><span class="line-number">1914</span><br><span class="line-number">1915</span><br><span class="line-number">1916</span><br><span class="line-number">1917</span><br><span class="line-number">1918</span><br><span class="line-number">1919</span><br><span class="line-number">1920</span><br><span class="line-number">1921</span><br><span class="line-number">1922</span><br><span class="line-number">1923</span><br><span class="line-number">1924</span><br><span class="line-number">1925</span><br><span class="line-number">1926</span><br><span class="line-number">1927</span><br><span class="line-number">1928</span><br><span class="line-number">1929</span><br><span class="line-number">1930</span><br><span class="line-number">1931</span><br><span class="line-number">1932</span><br><span class="line-number">1933</span><br><span class="line-number">1934</span><br><span class="line-number">1935</span><br><span class="line-number">1936</span><br><span class="line-number">1937</span><br><span class="line-number">1938</span><br><span class="line-number">1939</span><br><span class="line-number">1940</span><br><span class="line-number">1941</span><br><span class="line-number">1942</span><br><span class="line-number">1943</span><br><span class="line-number">1944</span><br><span class="line-number">1945</span><br><span class="line-number">1946</span><br><span class="line-number">1947</span><br><span class="line-number">1948</span><br><span class="line-number">1949</span><br><span class="line-number">1950</span><br><span class="line-number">1951</span><br><span class="line-number">1952</span><br><span class="line-number">1953</span><br><span class="line-number">1954</span><br><span class="line-number">1955</span><br><span class="line-number">1956</span><br><span class="line-number">1957</span><br><span class="line-number">1958</span><br><span class="line-number">1959</span><br><span class="line-number">1960</span><br><span class="line-number">1961</span><br><span class="line-number">1962</span><br><span class="line-number">1963</span><br><span class="line-number">1964</span><br><span class="line-number">1965</span><br><span class="line-number">1966</span><br><span class="line-number">1967</span><br><span class="line-number">1968</span><br><span class="line-number">1969</span><br><span class="line-number">1970</span><br><span class="line-number">1971</span><br><span class="line-number">1972</span><br><span class="line-number">1973</span><br><span class="line-number">1974</span><br><span class="line-number">1975</span><br><span class="line-number">1976</span><br><span class="line-number">1977</span><br><span class="line-number">1978</span><br><span class="line-number">1979</span><br><span class="line-number">1980</span><br><span class="line-number">1981</span><br><span class="line-number">1982</span><br><span class="line-number">1983</span><br><span class="line-number">1984</span><br><span class="line-number">1985</span><br><span class="line-number">1986</span><br><span class="line-number">1987</span><br><span class="line-number">1988</span><br><span class="line-number">1989</span><br><span class="line-number">1990</span><br><span class="line-number">1991</span><br><span class="line-number">1992</span><br><span class="line-number">1993</span><br><span class="line-number">1994</span><br><span class="line-number">1995</span><br><span class="line-number">1996</span><br><span class="line-number">1997</span><br><span class="line-number">1998</span><br><span class="line-number">1999</span><br><span class="line-number">2000</span><br><span class="line-number">2001</span><br><span class="line-number">2002</span><br><span class="line-number">2003</span><br><span class="line-number">2004</span><br><span class="line-number">2005</span><br><span class="line-number">2006</span><br><span class="line-number">2007</span><br><span class="line-number">2008</span><br><span class="line-number">2009</span><br><span class="line-number">2010</span><br><span class="line-number">2011</span><br><span class="line-number">2012</span><br><span class="line-number">2013</span><br><span class="line-number">2014</span><br><span class="line-number">2015</span><br><span class="line-number">2016</span><br><span class="line-number">2017</span><br><span class="line-number">2018</span><br><span class="line-number">2019</span><br><span class="line-number">2020</span><br><span class="line-number">2021</span><br><span class="line-number">2022</span><br><span class="line-number">2023</span><br><span class="line-number">2024</span><br><span class="line-number">2025</span><br><span class="line-number">2026</span><br><span class="line-number">2027</span><br><span class="line-number">2028</span><br><span class="line-number">2029</span><br><span class="line-number">2030</span><br><span class="line-number">2031</span><br><span class="line-number">2032</span><br><span class="line-number">2033</span><br><span class="line-number">2034</span><br><span class="line-number">2035</span><br><span class="line-number">2036</span><br><span class="line-number">2037</span><br><span class="line-number">2038</span><br><span class="line-number">2039</span><br><span class="line-number">2040</span><br><span class="line-number">2041</span><br><span class="line-number">2042</span><br><span class="line-number">2043</span><br><span class="line-number">2044</span><br><span class="line-number">2045</span><br><span class="line-number">2046</span><br><span class="line-number">2047</span><br><span class="line-number">2048</span><br><span class="line-number">2049</span><br><span class="line-number">2050</span><br><span class="line-number">2051</span><br><span class="line-number">2052</span><br><span class="line-number">2053</span><br><span class="line-number">2054</span><br><span class="line-number">2055</span><br><span class="line-number">2056</span><br><span class="line-number">2057</span><br><span class="line-number">2058</span><br><span class="line-number">2059</span><br><span class="line-number">2060</span><br><span class="line-number">2061</span><br><span class="line-number">2062</span><br><span class="line-number">2063</span><br><span class="line-number">2064</span><br><span class="line-number">2065</span><br><span class="line-number">2066</span><br><span class="line-number">2067</span><br><span class="line-number">2068</span><br><span class="line-number">2069</span><br><span class="line-number">2070</span><br><span class="line-number">2071</span><br><span class="line-number">2072</span><br><span class="line-number">2073</span><br><span class="line-number">2074</span><br><span class="line-number">2075</span><br><span class="line-number">2076</span><br><span class="line-number">2077</span><br><span class="line-number">2078</span><br><span class="line-number">2079</span><br><span class="line-number">2080</span><br><span class="line-number">2081</span><br><span class="line-number">2082</span><br><span class="line-number">2083</span><br><span class="line-number">2084</span><br><span class="line-number">2085</span><br><span class="line-number">2086</span><br><span class="line-number">2087</span><br><span class="line-number">2088</span><br><span class="line-number">2089</span><br><span class="line-number">2090</span><br><span class="line-number">2091</span><br><span class="line-number">2092</span><br><span class="line-number">2093</span><br><span class="line-number">2094</span><br><span class="line-number">2095</span><br><span class="line-number">2096</span><br><span class="line-number">2097</span><br><span class="line-number">2098</span><br><span class="line-number">2099</span><br><span class="line-number">2100</span><br><span class="line-number">2101</span><br><span class="line-number">2102</span><br><span class="line-number">2103</span><br><span class="line-number">2104</span><br><span class="line-number">2105</span><br><span class="line-number">2106</span><br><span class="line-number">2107</span><br><span class="line-number">2108</span><br><span class="line-number">2109</span><br><span class="line-number">2110</span><br><span class="line-number">2111</span><br><span class="line-number">2112</span><br><span class="line-number">2113</span><br><span class="line-number">2114</span><br><span class="line-number">2115</span><br><span class="line-number">2116</span><br><span class="line-number">2117</span><br><span class="line-number">2118</span><br><span class="line-number">2119</span><br><span class="line-number">2120</span><br><span class="line-number">2121</span><br><span class="line-number">2122</span><br><span class="line-number">2123</span><br><span class="line-number">2124</span><br><span class="line-number">2125</span><br><span class="line-number">2126</span><br><span class="line-number">2127</span><br><span class="line-number">2128</span><br><span class="line-number">2129</span><br><span class="line-number">2130</span><br><span class="line-number">2131</span><br><span class="line-number">2132</span><br><span class="line-number">2133</span><br><span class="line-number">2134</span><br><span class="line-number">2135</span><br><span class="line-number">2136</span><br><span class="line-number">2137</span><br><span class="line-number">2138</span><br><span class="line-number">2139</span><br><span class="line-number">2140</span><br><span class="line-number">2141</span><br><span class="line-number">2142</span><br><span class="line-number">2143</span><br><span class="line-number">2144</span><br><span class="line-number">2145</span><br><span class="line-number">2146</span><br><span class="line-number">2147</span><br><span class="line-number">2148</span><br><span class="line-number">2149</span><br><span class="line-number">2150</span><br><span class="line-number">2151</span><br><span class="line-number">2152</span><br><span class="line-number">2153</span><br><span class="line-number">2154</span><br><span class="line-number">2155</span><br><span class="line-number">2156</span><br><span class="line-number">2157</span><br><span class="line-number">2158</span><br><span class="line-number">2159</span><br><span class="line-number">2160</span><br><span class="line-number">2161</span><br><span class="line-number">2162</span><br><span class="line-number">2163</span><br><span class="line-number">2164</span><br><span class="line-number">2165</span><br><span class="line-number">2166</span><br><span class="line-number">2167</span><br><span class="line-number">2168</span><br><span class="line-number">2169</span><br><span class="line-number">2170</span><br><span class="line-number">2171</span><br><span class="line-number">2172</span><br><span class="line-number">2173</span><br><span class="line-number">2174</span><br><span class="line-number">2175</span><br><span class="line-number">2176</span><br><span class="line-number">2177</span><br><span class="line-number">2178</span><br><span class="line-number">2179</span><br><span class="line-number">2180</span><br><span class="line-number">2181</span><br><span class="line-number">2182</span><br><span class="line-number">2183</span><br><span class="line-number">2184</span><br><span class="line-number">2185</span><br><span class="line-number">2186</span><br><span class="line-number">2187</span><br><span class="line-number">2188</span><br><span class="line-number">2189</span><br><span class="line-number">2190</span><br><span class="line-number">2191</span><br><span class="line-number">2192</span><br><span class="line-number">2193</span><br><span class="line-number">2194</span><br><span class="line-number">2195</span><br><span class="line-number">2196</span><br><span class="line-number">2197</span><br><span class="line-number">2198</span><br><span class="line-number">2199</span><br><span class="line-number">2200</span><br><span class="line-number">2201</span><br><span class="line-number">2202</span><br><span class="line-number">2203</span><br><span class="line-number">2204</span><br><span class="line-number">2205</span><br><span class="line-number">2206</span><br><span class="line-number">2207</span><br><span class="line-number">2208</span><br><span class="line-number">2209</span><br><span class="line-number">2210</span><br><span class="line-number">2211</span><br><span class="line-number">2212</span><br><span class="line-number">2213</span><br><span class="line-number">2214</span><br><span class="line-number">2215</span><br><span class="line-number">2216</span><br><span class="line-number">2217</span><br><span class="line-number">2218</span><br><span class="line-number">2219</span><br><span class="line-number">2220</span><br><span class="line-number">2221</span><br><span class="line-number">2222</span><br><span class="line-number">2223</span><br><span class="line-number">2224</span><br><span class="line-number">2225</span><br><span class="line-number">2226</span><br><span class="line-number">2227</span><br><span class="line-number">2228</span><br><span class="line-number">2229</span><br><span class="line-number">2230</span><br><span class="line-number">2231</span><br><span class="line-number">2232</span><br><span class="line-number">2233</span><br><span class="line-number">2234</span><br><span class="line-number">2235</span><br><span class="line-number">2236</span><br><span class="line-number">2237</span><br><span class="line-number">2238</span><br><span class="line-number">2239</span><br><span class="line-number">2240</span><br><span class="line-number">2241</span><br><span class="line-number">2242</span><br><span class="line-number">2243</span><br><span class="line-number">2244</span><br><span class="line-number">2245</span><br><span class="line-number">2246</span><br><span class="line-number">2247</span><br><span class="line-number">2248</span><br><span class="line-number">2249</span><br><span class="line-number">2250</span><br><span class="line-number">2251</span><br><span class="line-number">2252</span><br><span class="line-number">2253</span><br><span class="line-number">2254</span><br><span class="line-number">2255</span><br><span class="line-number">2256</span><br><span class="line-number">2257</span><br><span class="line-number">2258</span><br><span class="line-number">2259</span><br><span class="line-number">2260</span><br><span class="line-number">2261</span><br><span class="line-number">2262</span><br><span class="line-number">2263</span><br><span class="line-number">2264</span><br><span class="line-number">2265</span><br><span class="line-number">2266</span><br><span class="line-number">2267</span><br><span class="line-number">2268</span><br><span class="line-number">2269</span><br><span class="line-number">2270</span><br><span class="line-number">2271</span><br><span class="line-number">2272</span><br><span class="line-number">2273</span><br><span class="line-number">2274</span><br><span class="line-number">2275</span><br><span class="line-number">2276</span><br><span class="line-number">2277</span><br><span class="line-number">2278</span><br><span class="line-number">2279</span><br><span class="line-number">2280</span><br><span class="line-number">2281</span><br><span class="line-number">2282</span><br><span class="line-number">2283</span><br><span class="line-number">2284</span><br><span class="line-number">2285</span><br><span class="line-number">2286</span><br><span class="line-number">2287</span><br><span class="line-number">2288</span><br><span class="line-number">2289</span><br><span class="line-number">2290</span><br><span class="line-number">2291</span><br><span class="line-number">2292</span><br><span class="line-number">2293</span><br><span class="line-number">2294</span><br><span class="line-number">2295</span><br><span class="line-number">2296</span><br><span class="line-number">2297</span><br><span class="line-number">2298</span><br><span class="line-number">2299</span><br><span class="line-number">2300</span><br><span class="line-number">2301</span><br><span class="line-number">2302</span><br><span class="line-number">2303</span><br><span class="line-number">2304</span><br><span class="line-number">2305</span><br><span class="line-number">2306</span><br><span class="line-number">2307</span><br><span class="line-number">2308</span><br><span class="line-number">2309</span><br><span class="line-number">2310</span><br><span class="line-number">2311</span><br><span class="line-number">2312</span><br><span class="line-number">2313</span><br><span class="line-number">2314</span><br><span class="line-number">2315</span><br><span class="line-number">2316</span><br><span class="line-number">2317</span><br><span class="line-number">2318</span><br><span class="line-number">2319</span><br><span class="line-number">2320</span><br><span class="line-number">2321</span><br><span class="line-number">2322</span><br><span class="line-number">2323</span><br><span class="line-number">2324</span><br><span class="line-number">2325</span><br><span class="line-number">2326</span><br><span class="line-number">2327</span><br><span class="line-number">2328</span><br><span class="line-number">2329</span><br><span class="line-number">2330</span><br><span class="line-number">2331</span><br><span class="line-number">2332</span><br><span class="line-number">2333</span><br><span class="line-number">2334</span><br><span class="line-number">2335</span><br><span class="line-number">2336</span><br><span class="line-number">2337</span><br><span class="line-number">2338</span><br><span class="line-number">2339</span><br><span class="line-number">2340</span><br><span class="line-number">2341</span><br><span class="line-number">2342</span><br><span class="line-number">2343</span><br><span class="line-number">2344</span><br><span class="line-number">2345</span><br><span class="line-number">2346</span><br><span class="line-number">2347</span><br><span class="line-number">2348</span><br><span class="line-number">2349</span><br><span class="line-number">2350</span><br><span class="line-number">2351</span><br><span class="line-number">2352</span><br><span class="line-number">2353</span><br><span class="line-number">2354</span><br><span class="line-number">2355</span><br><span class="line-number">2356</span><br><span class="line-number">2357</span><br><span class="line-number">2358</span><br><span class="line-number">2359</span><br><span class="line-number">2360</span><br><span class="line-number">2361</span><br><span class="line-number">2362</span><br><span class="line-number">2363</span><br><span class="line-number">2364</span><br><span class="line-number">2365</span><br><span class="line-number">2366</span><br><span class="line-number">2367</span><br><span class="line-number">2368</span><br><span class="line-number">2369</span><br><span class="line-number">2370</span><br><span class="line-number">2371</span><br><span class="line-number">2372</span><br><span class="line-number">2373</span><br><span class="line-number">2374</span><br><span class="line-number">2375</span><br><span class="line-number">2376</span><br><span class="line-number">2377</span><br><span class="line-number">2378</span><br><span class="line-number">2379</span><br><span class="line-number">2380</span><br><span class="line-number">2381</span><br><span class="line-number">2382</span><br><span class="line-number">2383</span><br><span class="line-number">2384</span><br><span class="line-number">2385</span><br><span class="line-number">2386</span><br><span class="line-number">2387</span><br><span class="line-number">2388</span><br><span class="line-number">2389</span><br><span class="line-number">2390</span><br><span class="line-number">2391</span><br><span class="line-number">2392</span><br><span class="line-number">2393</span><br><span class="line-number">2394</span><br><span class="line-number">2395</span><br><span class="line-number">2396</span><br><span class="line-number">2397</span><br><span class="line-number">2398</span><br><span class="line-number">2399</span><br><span class="line-number">2400</span><br><span class="line-number">2401</span><br><span class="line-number">2402</span><br><span class="line-number">2403</span><br><span class="line-number">2404</span><br><span class="line-number">2405</span><br><span class="line-number">2406</span><br><span class="line-number">2407</span><br><span class="line-number">2408</span><br><span class="line-number">2409</span><br><span class="line-number">2410</span><br><span class="line-number">2411</span><br><span class="line-number">2412</span><br><span class="line-number">2413</span><br><span class="line-number">2414</span><br><span class="line-number">2415</span><br><span class="line-number">2416</span><br><span class="line-number">2417</span><br><span class="line-number">2418</span><br><span class="line-number">2419</span><br><span class="line-number">2420</span><br><span class="line-number">2421</span><br><span class="line-number">2422</span><br><span class="line-number">2423</span><br><span class="line-number">2424</span><br><span class="line-number">2425</span><br><span class="line-number">2426</span><br><span class="line-number">2427</span><br><span class="line-number">2428</span><br><span class="line-number">2429</span><br><span class="line-number">2430</span><br><span class="line-number">2431</span><br><span class="line-number">2432</span><br><span class="line-number">2433</span><br><span class="line-number">2434</span><br><span class="line-number">2435</span><br><span class="line-number">2436</span><br><span class="line-number">2437</span><br><span class="line-number">2438</span><br><span class="line-number">2439</span><br><span class="line-number">2440</span><br><span class="line-number">2441</span><br><span class="line-number">2442</span><br><span class="line-number">2443</span><br><span class="line-number">2444</span><br><span class="line-number">2445</span><br><span class="line-number">2446</span><br><span class="line-number">2447</span><br><span class="line-number">2448</span><br><span class="line-number">2449</span><br><span class="line-number">2450</span><br><span class="line-number">2451</span><br><span class="line-number">2452</span><br><span class="line-number">2453</span><br><span class="line-number">2454</span><br><span class="line-number">2455</span><br><span class="line-number">2456</span><br><span class="line-number">2457</span><br><span class="line-number">2458</span><br><span class="line-number">2459</span><br><span class="line-number">2460</span><br><span class="line-number">2461</span><br><span class="line-number">2462</span><br><span class="line-number">2463</span><br><span class="line-number">2464</span><br><span class="line-number">2465</span><br><span class="line-number">2466</span><br><span class="line-number">2467</span><br><span class="line-number">2468</span><br><span class="line-number">2469</span><br><span class="line-number">2470</span><br><span class="line-number">2471</span><br><span class="line-number">2472</span><br><span class="line-number">2473</span><br><span class="line-number">2474</span><br><span class="line-number">2475</span><br><span class="line-number">2476</span><br><span class="line-number">2477</span><br><span class="line-number">2478</span><br><span class="line-number">2479</span><br><span class="line-number">2480</span><br><span class="line-number">2481</span><br><span class="line-number">2482</span><br><span class="line-number">2483</span><br><span class="line-number">2484</span><br><span class="line-number">2485</span><br><span class="line-number">2486</span><br><span class="line-number">2487</span><br><span class="line-number">2488</span><br><span class="line-number">2489</span><br><span class="line-number">2490</span><br><span class="line-number">2491</span><br><span class="line-number">2492</span><br><span class="line-number">2493</span><br><span class="line-number">2494</span><br><span class="line-number">2495</span><br><span class="line-number">2496</span><br><span class="line-number">2497</span><br><span class="line-number">2498</span><br><span class="line-number">2499</span><br><span class="line-number">2500</span><br><span class="line-number">2501</span><br><span class="line-number">2502</span><br><span class="line-number">2503</span><br><span class="line-number">2504</span><br><span class="line-number">2505</span><br><span class="line-number">2506</span><br><span class="line-number">2507</span><br><span class="line-number">2508</span><br><span class="line-number">2509</span><br><span class="line-number">2510</span><br><span class="line-number">2511</span><br><span class="line-number">2512</span><br><span class="line-number">2513</span><br><span class="line-number">2514</span><br><span class="line-number">2515</span><br><span class="line-number">2516</span><br><span class="line-number">2517</span><br><span class="line-number">2518</span><br><span class="line-number">2519</span><br><span class="line-number">2520</span><br><span class="line-number">2521</span><br><span class="line-number">2522</span><br><span class="line-number">2523</span><br><span class="line-number">2524</span><br><span class="line-number">2525</span><br><span class="line-number">2526</span><br><span class="line-number">2527</span><br><span class="line-number">2528</span><br><span class="line-number">2529</span><br><span class="line-number">2530</span><br><span class="line-number">2531</span><br><span class="line-number">2532</span><br><span class="line-number">2533</span><br><span class="line-number">2534</span><br><span class="line-number">2535</span><br><span class="line-number">2536</span><br><span class="line-number">2537</span><br><span class="line-number">2538</span><br><span class="line-number">2539</span><br><span class="line-number">2540</span><br><span class="line-number">2541</span><br><span class="line-number">2542</span><br><span class="line-number">2543</span><br><span class="line-number">2544</span><br><span class="line-number">2545</span><br><span class="line-number">2546</span><br><span class="line-number">2547</span><br><span class="line-number">2548</span><br><span class="line-number">2549</span><br><span class="line-number">2550</span><br><span class="line-number">2551</span><br><span class="line-number">2552</span><br><span class="line-number">2553</span><br><span class="line-number">2554</span><br><span class="line-number">2555</span><br><span class="line-number">2556</span><br><span class="line-number">2557</span><br><span class="line-number">2558</span><br><span class="line-number">2559</span><br><span class="line-number">2560</span><br><span class="line-number">2561</span><br><span class="line-number">2562</span><br><span class="line-number">2563</span><br><span class="line-number">2564</span><br><span class="line-number">2565</span><br><span class="line-number">2566</span><br><span class="line-number">2567</span><br><span class="line-number">2568</span><br><span class="line-number">2569</span><br><span class="line-number">2570</span><br><span class="line-number">2571</span><br><span class="line-number">2572</span><br><span class="line-number">2573</span><br><span class="line-number">2574</span><br><span class="line-number">2575</span><br><span class="line-number">2576</span><br><span class="line-number">2577</span><br><span class="line-number">2578</span><br><span class="line-number">2579</span><br><span class="line-number">2580</span><br><span class="line-number">2581</span><br><span class="line-number">2582</span><br><span class="line-number">2583</span><br><span class="line-number">2584</span><br><span class="line-number">2585</span><br><span class="line-number">2586</span><br><span class="line-number">2587</span><br><span class="line-number">2588</span><br><span class="line-number">2589</span><br><span class="line-number">2590</span><br><span class="line-number">2591</span><br><span class="line-number">2592</span><br><span class="line-number">2593</span><br><span class="line-number">2594</span><br><span class="line-number">2595</span><br><span class="line-number">2596</span><br><span class="line-number">2597</span><br><span class="line-number">2598</span><br><span class="line-number">2599</span><br><span class="line-number">2600</span><br><span class="line-number">2601</span><br><span class="line-number">2602</span><br><span class="line-number">2603</span><br><span class="line-number">2604</span><br><span class="line-number">2605</span><br><span class="line-number">2606</span><br><span class="line-number">2607</span><br><span class="line-number">2608</span><br><span class="line-number">2609</span><br><span class="line-number">2610</span><br><span class="line-number">2611</span><br><span class="line-number">2612</span><br><span class="line-number">2613</span><br><span class="line-number">2614</span><br><span class="line-number">2615</span><br><span class="line-number">2616</span><br><span class="line-number">2617</span><br><span class="line-number">2618</span><br><span class="line-number">2619</span><br><span class="line-number">2620</span><br><span class="line-number">2621</span><br><span class="line-number">2622</span><br><span class="line-number">2623</span><br><span class="line-number">2624</span><br><span class="line-number">2625</span><br><span class="line-number">2626</span><br><span class="line-number">2627</span><br><span class="line-number">2628</span><br><span class="line-number">2629</span><br><span class="line-number">2630</span><br><span class="line-number">2631</span><br><span class="line-number">2632</span><br><span class="line-number">2633</span><br><span class="line-number">2634</span><br><span class="line-number">2635</span><br><span class="line-number">2636</span><br><span class="line-number">2637</span><br><span class="line-number">2638</span><br><span class="line-number">2639</span><br><span class="line-number">2640</span><br><span class="line-number">2641</span><br><span class="line-number">2642</span><br><span class="line-number">2643</span><br><span class="line-number">2644</span><br><span class="line-number">2645</span><br><span class="line-number">2646</span><br><span class="line-number">2647</span><br><span class="line-number">2648</span><br><span class="line-number">2649</span><br><span class="line-number">2650</span><br><span class="line-number">2651</span><br><span class="line-number">2652</span><br><span class="line-number">2653</span><br><span class="line-number">2654</span><br><span class="line-number">2655</span><br><span class="line-number">2656</span><br><span class="line-number">2657</span><br><span class="line-number">2658</span><br><span class="line-number">2659</span><br><span class="line-number">2660</span><br><span class="line-number">2661</span><br><span class="line-number">2662</span><br><span class="line-number">2663</span><br><span class="line-number">2664</span><br><span class="line-number">2665</span><br><span class="line-number">2666</span><br><span class="line-number">2667</span><br><span class="line-number">2668</span><br><span class="line-number">2669</span><br><span class="line-number">2670</span><br><span class="line-number">2671</span><br><span class="line-number">2672</span><br><span class="line-number">2673</span><br><span class="line-number">2674</span><br><span class="line-number">2675</span><br><span class="line-number">2676</span><br><span class="line-number">2677</span><br><span class="line-number">2678</span><br><span class="line-number">2679</span><br><span class="line-number">2680</span><br><span class="line-number">2681</span><br><span class="line-number">2682</span><br><span class="line-number">2683</span><br><span class="line-number">2684</span><br><span class="line-number">2685</span><br><span class="line-number">2686</span><br><span class="line-number">2687</span><br><span class="line-number">2688</span><br><span class="line-number">2689</span><br><span class="line-number">2690</span><br><span class="line-number">2691</span><br><span class="line-number">2692</span><br><span class="line-number">2693</span><br><span class="line-number">2694</span><br><span class="line-number">2695</span><br><span class="line-number">2696</span><br><span class="line-number">2697</span><br><span class="line-number">2698</span><br><span class="line-number">2699</span><br><span class="line-number">2700</span><br><span class="line-number">2701</span><br><span class="line-number">2702</span><br><span class="line-number">2703</span><br><span class="line-number">2704</span><br><span class="line-number">2705</span><br><span class="line-number">2706</span><br><span class="line-number">2707</span><br><span class="line-number">2708</span><br><span class="line-number">2709</span><br><span class="line-number">2710</span><br><span class="line-number">2711</span><br><span class="line-number">2712</span><br><span class="line-number">2713</span><br><span class="line-number">2714</span><br><span class="line-number">2715</span><br><span class="line-number">2716</span><br><span class="line-number">2717</span><br><span class="line-number">2718</span><br><span class="line-number">2719</span><br><span class="line-number">2720</span><br><span class="line-number">2721</span><br><span class="line-number">2722</span><br><span class="line-number">2723</span><br><span class="line-number">2724</span><br><span class="line-number">2725</span><br><span class="line-number">2726</span><br><span class="line-number">2727</span><br><span class="line-number">2728</span><br><span class="line-number">2729</span><br><span class="line-number">2730</span><br><span class="line-number">2731</span><br><span class="line-number">2732</span><br><span class="line-number">2733</span><br><span class="line-number">2734</span><br><span class="line-number">2735</span><br><span class="line-number">2736</span><br><span class="line-number">2737</span><br><span class="line-number">2738</span><br><span class="line-number">2739</span><br><span class="line-number">2740</span><br><span class="line-number">2741</span><br><span class="line-number">2742</span><br><span class="line-number">2743</span><br><span class="line-number">2744</span><br><span class="line-number">2745</span><br><span class="line-number">2746</span><br><span class="line-number">2747</span><br><span class="line-number">2748</span><br><span class="line-number">2749</span><br><span class="line-number">2750</span><br><span class="line-number">2751</span><br><span class="line-number">2752</span><br><span class="line-number">2753</span><br><span class="line-number">2754</span><br><span class="line-number">2755</span><br><span class="line-number">2756</span><br><span class="line-number">2757</span><br><span class="line-number">2758</span><br><span class="line-number">2759</span><br><span class="line-number">2760</span><br><span class="line-number">2761</span><br><span class="line-number">2762</span><br><span class="line-number">2763</span><br><span class="line-number">2764</span><br><span class="line-number">2765</span><br><span class="line-number">2766</span><br><span class="line-number">2767</span><br><span class="line-number">2768</span><br><span class="line-number">2769</span><br><span class="line-number">2770</span><br><span class="line-number">2771</span><br><span class="line-number">2772</span><br><span class="line-number">2773</span><br><span class="line-number">2774</span><br><span class="line-number">2775</span><br><span class="line-number">2776</span><br><span class="line-number">2777</span><br><span class="line-number">2778</span><br><span class="line-number">2779</span><br><span class="line-number">2780</span><br><span class="line-number">2781</span><br><span class="line-number">2782</span><br><span class="line-number">2783</span><br><span class="line-number">2784</span><br><span class="line-number">2785</span><br><span class="line-number">2786</span><br><span class="line-number">2787</span><br><span class="line-number">2788</span><br><span class="line-number">2789</span><br><span class="line-number">2790</span><br><span class="line-number">2791</span><br><span class="line-number">2792</span><br><span class="line-number">2793</span><br><span class="line-number">2794</span><br><span class="line-number">2795</span><br><span class="line-number">2796</span><br><span class="line-number">2797</span><br><span class="line-number">2798</span><br><span class="line-number">2799</span><br><span class="line-number">2800</span><br><span class="line-number">2801</span><br><span class="line-number">2802</span><br><span class="line-number">2803</span><br><span class="line-number">2804</span><br><span class="line-number">2805</span><br><span class="line-number">2806</span><br><span class="line-number">2807</span><br><span class="line-number">2808</span><br><span class="line-number">2809</span><br><span class="line-number">2810</span><br><span class="line-number">2811</span><br><span class="line-number">2812</span><br><span class="line-number">2813</span><br><span class="line-number">2814</span><br><span class="line-number">2815</span><br><span class="line-number">2816</span><br><span class="line-number">2817</span><br><span class="line-number">2818</span><br><span class="line-number">2819</span><br><span class="line-number">2820</span><br><span class="line-number">2821</span><br><span class="line-number">2822</span><br><span class="line-number">2823</span><br><span class="line-number">2824</span><br><span class="line-number">2825</span><br><span class="line-number">2826</span><br><span class="line-number">2827</span><br><span class="line-number">2828</span><br><span class="line-number">2829</span><br><span class="line-number">2830</span><br><span class="line-number">2831</span><br><span class="line-number">2832</span><br><span class="line-number">2833</span><br><span class="line-number">2834</span><br><span class="line-number">2835</span><br><span class="line-number">2836</span><br><span class="line-number">2837</span><br><span class="line-number">2838</span><br><span class="line-number">2839</span><br><span class="line-number">2840</span><br><span class="line-number">2841</span><br><span class="line-number">2842</span><br><span class="line-number">2843</span><br><span class="line-number">2844</span><br><span class="line-number">2845</span><br><span class="line-number">2846</span><br><span class="line-number">2847</span><br><span class="line-number">2848</span><br><span class="line-number">2849</span><br><span class="line-number">2850</span><br><span class="line-number">2851</span><br><span class="line-number">2852</span><br><span class="line-number">2853</span><br><span class="line-number">2854</span><br><span class="line-number">2855</span><br><span class="line-number">2856</span><br><span class="line-number">2857</span><br><span class="line-number">2858</span><br><span class="line-number">2859</span><br><span class="line-number">2860</span><br><span class="line-number">2861</span><br><span class="line-number">2862</span><br><span class="line-number">2863</span><br><span class="line-number">2864</span><br><span class="line-number">2865</span><br><span class="line-number">2866</span><br><span class="line-number">2867</span><br><span class="line-number">2868</span><br><span class="line-number">2869</span><br><span class="line-number">2870</span><br><span class="line-number">2871</span><br><span class="line-number">2872</span><br><span class="line-number">2873</span><br><span class="line-number">2874</span><br><span class="line-number">2875</span><br><span class="line-number">2876</span><br><span class="line-number">2877</span><br><span class="line-number">2878</span><br><span class="line-number">2879</span><br><span class="line-number">2880</span><br><span class="line-number">2881</span><br><span class="line-number">2882</span><br><span class="line-number">2883</span><br><span class="line-number">2884</span><br><span class="line-number">2885</span><br><span class="line-number">2886</span><br><span class="line-number">2887</span><br><span class="line-number">2888</span><br><span class="line-number">2889</span><br><span class="line-number">2890</span><br><span class="line-number">2891</span><br><span class="line-number">2892</span><br><span class="line-number">2893</span><br><span class="line-number">2894</span><br><span class="line-number">2895</span><br><span class="line-number">2896</span><br><span class="line-number">2897</span><br><span class="line-number">2898</span><br><span class="line-number">2899</span><br><span class="line-number">2900</span><br><span class="line-number">2901</span><br><span class="line-number">2902</span><br><span class="line-number">2903</span><br><span class="line-number">2904</span><br><span class="line-number">2905</span><br><span class="line-number">2906</span><br><span class="line-number">2907</span><br><span class="line-number">2908</span><br><span class="line-number">2909</span><br><span class="line-number">2910</span><br><span class="line-number">2911</span><br><span class="line-number">2912</span><br><span class="line-number">2913</span><br><span class="line-number">2914</span><br><span class="line-number">2915</span><br><span class="line-number">2916</span><br><span class="line-number">2917</span><br><span class="line-number">2918</span><br><span class="line-number">2919</span><br><span class="line-number">2920</span><br><span class="line-number">2921</span><br><span class="line-number">2922</span><br><span class="line-number">2923</span><br><span class="line-number">2924</span><br><span class="line-number">2925</span><br><span class="line-number">2926</span><br><span class="line-number">2927</span><br><span class="line-number">2928</span><br><span class="line-number">2929</span><br><span class="line-number">2930</span><br><span class="line-number">2931</span><br><span class="line-number">2932</span><br><span class="line-number">2933</span><br><span class="line-number">2934</span><br><span class="line-number">2935</span><br><span class="line-number">2936</span><br><span class="line-number">2937</span><br><span class="line-number">2938</span><br><span class="line-number">2939</span><br><span class="line-number">2940</span><br><span class="line-number">2941</span><br><span class="line-number">2942</span><br><span class="line-number">2943</span><br><span class="line-number">2944</span><br><span class="line-number">2945</span><br><span class="line-number">2946</span><br><span class="line-number">2947</span><br><span class="line-number">2948</span><br><span class="line-number">2949</span><br><span class="line-number">2950</span><br><span class="line-number">2951</span><br><span class="line-number">2952</span><br><span class="line-number">2953</span><br><span class="line-number">2954</span><br><span class="line-number">2955</span><br><span class="line-number">2956</span><br><span class="line-number">2957</span><br><span class="line-number">2958</span><br><span class="line-number">2959</span><br><span class="line-number">2960</span><br><span class="line-number">2961</span><br><span class="line-number">2962</span><br><span class="line-number">2963</span><br><span class="line-number">2964</span><br><span class="line-number">2965</span><br><span class="line-number">2966</span><br><span class="line-number">2967</span><br><span class="line-number">2968</span><br><span class="line-number">2969</span><br><span class="line-number">2970</span><br><span class="line-number">2971</span><br><span class="line-number">2972</span><br><span class="line-number">2973</span><br><span class="line-number">2974</span><br><span class="line-number">2975</span><br><span class="line-number">2976</span><br><span class="line-number">2977</span><br><span class="line-number">2978</span><br><span class="line-number">2979</span><br><span class="line-number">2980</span><br><span class="line-number">2981</span><br><span class="line-number">2982</span><br><span class="line-number">2983</span><br><span class="line-number">2984</span><br><span class="line-number">2985</span><br><span class="line-number">2986</span><br><span class="line-number">2987</span><br><span class="line-number">2988</span><br><span class="line-number">2989</span><br><span class="line-number">2990</span><br><span class="line-number">2991</span><br><span class="line-number">2992</span><br><span class="line-number">2993</span><br><span class="line-number">2994</span><br><span class="line-number">2995</span><br><span class="line-number">2996</span><br><span class="line-number">2997</span><br><span class="line-number">2998</span><br><span class="line-number">2999</span><br><span class="line-number">3000</span><br><span class="line-number">3001</span><br><span class="line-number">3002</span><br><span class="line-number">3003</span><br><span class="line-number">3004</span><br><span class="line-number">3005</span><br><span class="line-number">3006</span><br><span class="line-number">3007</span><br><span class="line-number">3008</span><br><span class="line-number">3009</span><br><span class="line-number">3010</span><br><span class="line-number">3011</span><br><span class="line-number">3012</span><br><span class="line-number">3013</span><br><span class="line-number">3014</span><br><span class="line-number">3015</span><br><span class="line-number">3016</span><br><span class="line-number">3017</span><br><span class="line-number">3018</span><br><span class="line-number">3019</span><br><span class="line-number">3020</span><br><span class="line-number">3021</span><br><span class="line-number">3022</span><br><span class="line-number">3023</span><br><span class="line-number">3024</span><br><span class="line-number">3025</span><br><span class="line-number">3026</span><br><span class="line-number">3027</span><br><span class="line-number">3028</span><br><span class="line-number">3029</span><br><span class="line-number">3030</span><br><span class="line-number">3031</span><br><span class="line-number">3032</span><br><span class="line-number">3033</span><br><span class="line-number">3034</span><br><span class="line-number">3035</span><br><span class="line-number">3036</span><br><span class="line-number">3037</span><br><span class="line-number">3038</span><br><span class="line-number">3039</span><br><span class="line-number">3040</span><br><span class="line-number">3041</span><br><span class="line-number">3042</span><br><span class="line-number">3043</span><br><span class="line-number">3044</span><br><span class="line-number">3045</span><br><span class="line-number">3046</span><br><span class="line-number">3047</span><br><span class="line-number">3048</span><br><span class="line-number">3049</span><br><span class="line-number">3050</span><br><span class="line-number">3051</span><br><span class="line-number">3052</span><br><span class="line-number">3053</span><br><span class="line-number">3054</span><br><span class="line-number">3055</span><br><span class="line-number">3056</span><br><span class="line-number">3057</span><br><span class="line-number">3058</span><br><span class="line-number">3059</span><br><span class="line-number">3060</span><br><span class="line-number">3061</span><br><span class="line-number">3062</span><br><span class="line-number">3063</span><br><span class="line-number">3064</span><br><span class="line-number">3065</span><br><span class="line-number">3066</span><br><span class="line-number">3067</span><br><span class="line-number">3068</span><br><span class="line-number">3069</span><br><span class="line-number">3070</span><br><span class="line-number">3071</span><br><span class="line-number">3072</span><br><span class="line-number">3073</span><br><span class="line-number">3074</span><br><span class="line-number">3075</span><br><span class="line-number">3076</span><br><span class="line-number">3077</span><br><span class="line-number">3078</span><br><span class="line-number">3079</span><br><span class="line-number">3080</span><br><span class="line-number">3081</span><br><span class="line-number">3082</span><br><span class="line-number">3083</span><br><span class="line-number">3084</span><br><span class="line-number">3085</span><br><span class="line-number">3086</span><br><span class="line-number">3087</span><br><span class="line-number">3088</span><br><span class="line-number">3089</span><br><span class="line-number">3090</span><br><span class="line-number">3091</span><br><span class="line-number">3092</span><br><span class="line-number">3093</span><br><span class="line-number">3094</span><br><span class="line-number">3095</span><br><span class="line-number">3096</span><br><span class="line-number">3097</span><br><span class="line-number">3098</span><br><span class="line-number">3099</span><br><span class="line-number">3100</span><br><span class="line-number">3101</span><br><span class="line-number">3102</span><br><span class="line-number">3103</span><br><span class="line-number">3104</span><br><span class="line-number">3105</span><br><span class="line-number">3106</span><br><span class="line-number">3107</span><br><span class="line-number">3108</span><br><span class="line-number">3109</span><br><span class="line-number">3110</span><br><span class="line-number">3111</span><br><span class="line-number">3112</span><br><span class="line-number">3113</span><br><span class="line-number">3114</span><br><span class="line-number">3115</span><br><span class="line-number">3116</span><br><span class="line-number">3117</span><br><span class="line-number">3118</span><br><span class="line-number">3119</span><br><span class="line-number">3120</span><br><span class="line-number">3121</span><br><span class="line-number">3122</span><br><span class="line-number">3123</span><br><span class="line-number">3124</span><br><span class="line-number">3125</span><br><span class="line-number">3126</span><br><span class="line-number">3127</span><br><span class="line-number">3128</span><br><span class="line-number">3129</span><br><span class="line-number">3130</span><br><span class="line-number">3131</span><br><span class="line-number">3132</span><br><span class="line-number">3133</span><br><span class="line-number">3134</span><br><span class="line-number">3135</span><br><span class="line-number">3136</span><br><span class="line-number">3137</span><br><span class="line-number">3138</span><br><span class="line-number">3139</span><br><span class="line-number">3140</span><br><span class="line-number">3141</span><br><span class="line-number">3142</span><br><span class="line-number">3143</span><br><span class="line-number">3144</span><br><span class="line-number">3145</span><br><span class="line-number">3146</span><br><span class="line-number">3147</span><br><span class="line-number">3148</span><br><span class="line-number">3149</span><br><span class="line-number">3150</span><br><span class="line-number">3151</span><br><span class="line-number">3152</span><br><span class="line-number">3153</span><br><span class="line-number">3154</span><br><span class="line-number">3155</span><br><span class="line-number">3156</span><br><span class="line-number">3157</span><br><span class="line-number">3158</span><br><span class="line-number">3159</span><br><span class="line-number">3160</span><br><span class="line-number">3161</span><br><span class="line-number">3162</span><br><span class="line-number">3163</span><br><span class="line-number">3164</span><br><span class="line-number">3165</span><br><span class="line-number">3166</span><br><span class="line-number">3167</span><br><span class="line-number">3168</span><br><span class="line-number">3169</span><br><span class="line-number">3170</span><br><span class="line-number">3171</span><br><span class="line-number">3172</span><br><span class="line-number">3173</span><br><span class="line-number">3174</span><br><span class="line-number">3175</span><br><span class="line-number">3176</span><br><span class="line-number">3177</span><br><span class="line-number">3178</span><br><span class="line-number">3179</span><br><span class="line-number">3180</span><br><span class="line-number">3181</span><br><span class="line-number">3182</span><br><span class="line-number">3183</span><br><span class="line-number">3184</span><br><span class="line-number">3185</span><br><span class="line-number">3186</span><br><span class="line-number">3187</span><br><span class="line-number">3188</span><br><span class="line-number">3189</span><br><span class="line-number">3190</span><br><span class="line-number">3191</span><br><span class="line-number">3192</span><br><span class="line-number">3193</span><br><span class="line-number">3194</span><br><span class="line-number">3195</span><br><span class="line-number">3196</span><br><span class="line-number">3197</span><br><span class="line-number">3198</span><br><span class="line-number">3199</span><br><span class="line-number">3200</span><br><span class="line-number">3201</span><br><span class="line-number">3202</span><br><span class="line-number">3203</span><br><span class="line-number">3204</span><br><span class="line-number">3205</span><br><span class="line-number">3206</span><br><span class="line-number">3207</span><br><span class="line-number">3208</span><br><span class="line-number">3209</span><br><span class="line-number">3210</span><br><span class="line-number">3211</span><br><span class="line-number">3212</span><br><span class="line-number">3213</span><br><span class="line-number">3214</span><br><span class="line-number">3215</span><br><span class="line-number">3216</span><br><span class="line-number">3217</span><br><span class="line-number">3218</span><br><span class="line-number">3219</span><br><span class="line-number">3220</span><br><span class="line-number">3221</span><br><span class="line-number">3222</span><br><span class="line-number">3223</span><br><span class="line-number">3224</span><br><span class="line-number">3225</span><br><span class="line-number">3226</span><br><span class="line-number">3227</span><br><span class="line-number">3228</span><br><span class="line-number">3229</span><br><span class="line-number">3230</span><br><span class="line-number">3231</span><br><span class="line-number">3232</span><br><span class="line-number">3233</span><br><span class="line-number">3234</span><br><span class="line-number">3235</span><br><span class="line-number">3236</span><br><span class="line-number">3237</span><br><span class="line-number">3238</span><br><span class="line-number">3239</span><br><span class="line-number">3240</span><br><span class="line-number">3241</span><br><span class="line-number">3242</span><br><span class="line-number">3243</span><br><span class="line-number">3244</span><br><span class="line-number">3245</span><br><span class="line-number">3246</span><br><span class="line-number">3247</span><br><span class="line-number">3248</span><br><span class="line-number">3249</span><br><span class="line-number">3250</span><br><span class="line-number">3251</span><br><span class="line-number">3252</span><br><span class="line-number">3253</span><br><span class="line-number">3254</span><br><span class="line-number">3255</span><br><span class="line-number">3256</span><br><span class="line-number">3257</span><br><span class="line-number">3258</span><br><span class="line-number">3259</span><br><span class="line-number">3260</span><br><span class="line-number">3261</span><br><span class="line-number">3262</span><br><span class="line-number">3263</span><br><span class="line-number">3264</span><br><span class="line-number">3265</span><br><span class="line-number">3266</span><br><span class="line-number">3267</span><br><span class="line-number">3268</span><br><span class="line-number">3269</span><br><span class="line-number">3270</span><br><span class="line-number">3271</span><br><span class="line-number">3272</span><br><span class="line-number">3273</span><br><span class="line-number">3274</span><br><span class="line-number">3275</span><br><span class="line-number">3276</span><br><span class="line-number">3277</span><br><span class="line-number">3278</span><br><span class="line-number">3279</span><br><span class="line-number">3280</span><br><span class="line-number">3281</span><br><span class="line-number">3282</span><br><span class="line-number">3283</span><br><span class="line-number">3284</span><br><span class="line-number">3285</span><br><span class="line-number">3286</span><br><span class="line-number">3287</span><br><span class="line-number">3288</span><br><span class="line-number">3289</span><br><span class="line-number">3290</span><br><span class="line-number">3291</span><br><span class="line-number">3292</span><br><span class="line-number">3293</span><br><span class="line-number">3294</span><br><span class="line-number">3295</span><br><span class="line-number">3296</span><br><span class="line-number">3297</span><br><span class="line-number">3298</span><br><span class="line-number">3299</span><br><span class="line-number">3300</span><br><span class="line-number">3301</span><br><span class="line-number">3302</span><br><span class="line-number">3303</span><br><span class="line-number">3304</span><br><span class="line-number">3305</span><br><span class="line-number">3306</span><br><span class="line-number">3307</span><br><span class="line-number">3308</span><br><span class="line-number">3309</span><br><span class="line-number">3310</span><br><span class="line-number">3311</span><br><span class="line-number">3312</span><br><span class="line-number">3313</span><br><span class="line-number">3314</span><br><span class="line-number">3315</span><br><span class="line-number">3316</span><br><span class="line-number">3317</span><br><span class="line-number">3318</span><br><span class="line-number">3319</span><br><span class="line-number">3320</span><br><span class="line-number">3321</span><br><span class="line-number">3322</span><br><span class="line-number">3323</span><br><span class="line-number">3324</span><br><span class="line-number">3325</span><br><span class="line-number">3326</span><br><span class="line-number">3327</span><br><span class="line-number">3328</span><br><span class="line-number">3329</span><br><span class="line-number">3330</span><br><span class="line-number">3331</span><br><span class="line-number">3332</span><br><span class="line-number">3333</span><br><span class="line-number">3334</span><br><span class="line-number">3335</span><br><span class="line-number">3336</span><br><span class="line-number">3337</span><br><span class="line-number">3338</span><br><span class="line-number">3339</span><br><span class="line-number">3340</span><br><span class="line-number">3341</span><br><span class="line-number">3342</span><br><span class="line-number">3343</span><br><span class="line-number">3344</span><br><span class="line-number">3345</span><br><span class="line-number">3346</span><br><span class="line-number">3347</span><br><span class="line-number">3348</span><br><span class="line-number">3349</span><br><span class="line-number">3350</span><br><span class="line-number">3351</span><br><span class="line-number">3352</span><br><span class="line-number">3353</span><br><span class="line-number">3354</span><br><span class="line-number">3355</span><br><span class="line-number">3356</span><br><span class="line-number">3357</span><br><span class="line-number">3358</span><br><span class="line-number">3359</span><br><span class="line-number">3360</span><br><span class="line-number">3361</span><br><span class="line-number">3362</span><br><span class="line-number">3363</span><br><span class="line-number">3364</span><br><span class="line-number">3365</span><br><span class="line-number">3366</span><br><span class="line-number">3367</span><br><span class="line-number">3368</span><br><span class="line-number">3369</span><br><span class="line-number">3370</span><br><span class="line-number">3371</span><br><span class="line-number">3372</span><br><span class="line-number">3373</span><br><span class="line-number">3374</span><br><span class="line-number">3375</span><br><span class="line-number">3376</span><br><span class="line-number">3377</span><br><span class="line-number">3378</span><br><span class="line-number">3379</span><br><span class="line-number">3380</span><br><span class="line-number">3381</span><br><span class="line-number">3382</span><br><span class="line-number">3383</span><br><span class="line-number">3384</span><br><span class="line-number">3385</span><br><span class="line-number">3386</span><br><span class="line-number">3387</span><br><span class="line-number">3388</span><br><span class="line-number">3389</span><br><span class="line-number">3390</span><br><span class="line-number">3391</span><br><span class="line-number">3392</span><br><span class="line-number">3393</span><br><span class="line-number">3394</span><br><span class="line-number">3395</span><br><span class="line-number">3396</span><br><span class="line-number">3397</span><br><span class="line-number">3398</span><br><span class="line-number">3399</span><br><span class="line-number">3400</span><br><span class="line-number">3401</span><br><span class="line-number">3402</span><br><span class="line-number">3403</span><br><span class="line-number">3404</span><br><span class="line-number">3405</span><br><span class="line-number">3406</span><br><span class="line-number">3407</span><br><span class="line-number">3408</span><br><span class="line-number">3409</span><br><span class="line-number">3410</span><br><span class="line-number">3411</span><br><span class="line-number">3412</span><br><span class="line-number">3413</span><br><span class="line-number">3414</span><br><span class="line-number">3415</span><br><span class="line-number">3416</span><br><span class="line-number">3417</span><br><span class="line-number">3418</span><br><span class="line-number">3419</span><br><span class="line-number">3420</span><br><span class="line-number">3421</span><br><span class="line-number">3422</span><br><span class="line-number">3423</span><br><span class="line-number">3424</span><br><span class="line-number">3425</span><br><span class="line-number">3426</span><br><span class="line-number">3427</span><br><span class="line-number">3428</span><br><span class="line-number">3429</span><br><span class="line-number">3430</span><br><span class="line-number">3431</span><br><span class="line-number">3432</span><br><span class="line-number">3433</span><br><span class="line-number">3434</span><br><span class="line-number">3435</span><br><span class="line-number">3436</span><br><span class="line-number">3437</span><br><span class="line-number">3438</span><br><span class="line-number">3439</span><br><span class="line-number">3440</span><br><span class="line-number">3441</span><br><span class="line-number">3442</span><br><span class="line-number">3443</span><br><span class="line-number">3444</span><br><span class="line-number">3445</span><br><span class="line-number">3446</span><br><span class="line-number">3447</span><br><span class="line-number">3448</span><br><span class="line-number">3449</span><br><span class="line-number">3450</span><br><span class="line-number">3451</span><br><span class="line-number">3452</span><br><span class="line-number">3453</span><br><span class="line-number">3454</span><br><span class="line-number">3455</span><br><span class="line-number">3456</span><br><span class="line-number">3457</span><br><span class="line-number">3458</span><br><span class="line-number">3459</span><br><span class="line-number">3460</span><br><span class="line-number">3461</span><br><span class="line-number">3462</span><br><span class="line-number">3463</span><br><span class="line-number">3464</span><br><span class="line-number">3465</span><br><span class="line-number">3466</span><br><span class="line-number">3467</span><br><span class="line-number">3468</span><br><span class="line-number">3469</span><br><span class="line-number">3470</span><br><span class="line-number">3471</span><br><span class="line-number">3472</span><br><span class="line-number">3473</span><br><span class="line-number">3474</span><br><span class="line-number">3475</span><br><span class="line-number">3476</span><br><span class="line-number">3477</span><br><span class="line-number">3478</span><br><span class="line-number">3479</span><br><span class="line-number">3480</span><br><span class="line-number">3481</span><br><span class="line-number">3482</span><br><span class="line-number">3483</span><br><span class="line-number">3484</span><br><span class="line-number">3485</span><br><span class="line-number">3486</span><br><span class="line-number">3487</span><br><span class="line-number">3488</span><br><span class="line-number">3489</span><br><span class="line-number">3490</span><br><span class="line-number">3491</span><br><span class="line-number">3492</span><br><span class="line-number">3493</span><br><span class="line-number">3494</span><br><span class="line-number">3495</span><br><span class="line-number">3496</span><br><span class="line-number">3497</span><br><span class="line-number">3498</span><br><span class="line-number">3499</span><br><span class="line-number">3500</span><br><span class="line-number">3501</span><br><span class="line-number">3502</span><br><span class="line-number">3503</span><br><span class="line-number">3504</span><br><span class="line-number">3505</span><br><span class="line-number">3506</span><br><span class="line-number">3507</span><br><span class="line-number">3508</span><br><span class="line-number">3509</span><br><span class="line-number">3510</span><br><span class="line-number">3511</span><br><span class="line-number">3512</span><br><span class="line-number">3513</span><br><span class="line-number">3514</span><br><span class="line-number">3515</span><br><span class="line-number">3516</span><br><span class="line-number">3517</span><br><span class="line-number">3518</span><br><span class="line-number">3519</span><br><span class="line-number">3520</span><br><span class="line-number">3521</span><br><span class="line-number">3522</span><br><span class="line-number">3523</span><br><span class="line-number">3524</span><br><span class="line-number">3525</span><br><span class="line-number">3526</span><br><span class="line-number">3527</span><br><span class="line-number">3528</span><br><span class="line-number">3529</span><br><span class="line-number">3530</span><br><span class="line-number">3531</span><br><span class="line-number">3532</span><br><span class="line-number">3533</span><br><span class="line-number">3534</span><br><span class="line-number">3535</span><br><span class="line-number">3536</span><br><span class="line-number">3537</span><br><span class="line-number">3538</span><br><span class="line-number">3539</span><br><span class="line-number">3540</span><br><span class="line-number">3541</span><br><span class="line-number">3542</span><br><span class="line-number">3543</span><br><span class="line-number">3544</span><br><span class="line-number">3545</span><br><span class="line-number">3546</span><br><span class="line-number">3547</span><br><span class="line-number">3548</span><br><span class="line-number">3549</span><br><span class="line-number">3550</span><br><span class="line-number">3551</span><br><span class="line-number">3552</span><br><span class="line-number">3553</span><br><span class="line-number">3554</span><br><span class="line-number">3555</span><br><span class="line-number">3556</span><br><span class="line-number">3557</span><br><span class="line-number">3558</span><br><span class="line-number">3559</span><br><span class="line-number">3560</span><br><span class="line-number">3561</span><br><span class="line-number">3562</span><br><span class="line-number">3563</span><br><span class="line-number">3564</span><br><span class="line-number">3565</span><br><span class="line-number">3566</span><br><span class="line-number">3567</span><br><span class="line-number">3568</span><br><span class="line-number">3569</span><br><span class="line-number">3570</span><br><span class="line-number">3571</span><br><span class="line-number">3572</span><br><span class="line-number">3573</span><br><span class="line-number">3574</span><br><span class="line-number">3575</span><br><span class="line-number">3576</span><br><span class="line-number">3577</span><br><span class="line-number">3578</span><br><span class="line-number">3579</span><br><span class="line-number">3580</span><br><span class="line-number">3581</span><br><span class="line-number">3582</span><br><span class="line-number">3583</span><br><span class="line-number">3584</span><br><span class="line-number">3585</span><br><span class="line-number">3586</span><br><span class="line-number">3587</span><br><span class="line-number">3588</span><br><span class="line-number">3589</span><br><span class="line-number">3590</span><br><span class="line-number">3591</span><br><span class="line-number">3592</span><br><span class="line-number">3593</span><br><span class="line-number">3594</span><br><span class="line-number">3595</span><br><span class="line-number">3596</span><br><span class="line-number">3597</span><br><span class="line-number">3598</span><br><span class="line-number">3599</span><br><span class="line-number">3600</span><br><span class="line-number">3601</span><br><span class="line-number">3602</span><br><span class="line-number">3603</span><br><span class="line-number">3604</span><br><span class="line-number">3605</span><br><span class="line-number">3606</span><br><span class="line-number">3607</span><br><span class="line-number">3608</span><br><span class="line-number">3609</span><br><span class="line-number">3610</span><br><span class="line-number">3611</span><br><span class="line-number">3612</span><br><span class="line-number">3613</span><br><span class="line-number">3614</span><br><span class="line-number">3615</span><br><span class="line-number">3616</span><br><span class="line-number">3617</span><br><span class="line-number">3618</span><br><span class="line-number">3619</span><br><span class="line-number">3620</span><br><span class="line-number">3621</span><br><span class="line-number">3622</span><br><span class="line-number">3623</span><br><span class="line-number">3624</span><br><span class="line-number">3625</span><br><span class="line-number">3626</span><br><span class="line-number">3627</span><br><span class="line-number">3628</span><br><span class="line-number">3629</span><br><span class="line-number">3630</span><br><span class="line-number">3631</span><br><span class="line-number">3632</span><br><span class="line-number">3633</span><br><span class="line-number">3634</span><br><span class="line-number">3635</span><br><span class="line-number">3636</span><br><span class="line-number">3637</span><br><span class="line-number">3638</span><br><span class="line-number">3639</span><br><span class="line-number">3640</span><br><span class="line-number">3641</span><br><span class="line-number">3642</span><br><span class="line-number">3643</span><br><span class="line-number">3644</span><br><span class="line-number">3645</span><br><span class="line-number">3646</span><br><span class="line-number">3647</span><br><span class="line-number">3648</span><br><span class="line-number">3649</span><br><span class="line-number">3650</span><br><span class="line-number">3651</span><br><span class="line-number">3652</span><br><span class="line-number">3653</span><br><span class="line-number">3654</span><br><span class="line-number">3655</span><br><span class="line-number">3656</span><br><span class="line-number">3657</span><br><span class="line-number">3658</span><br><span class="line-number">3659</span><br><span class="line-number">3660</span><br><span class="line-number">3661</span><br><span class="line-number">3662</span><br><span class="line-number">3663</span><br><span class="line-number">3664</span><br><span class="line-number">3665</span><br><span class="line-number">3666</span><br><span class="line-number">3667</span><br><span class="line-number">3668</span><br><span class="line-number">3669</span><br><span class="line-number">3670</span><br><span class="line-number">3671</span><br><span class="line-number">3672</span><br><span class="line-number">3673</span><br><span class="line-number">3674</span><br><span class="line-number">3675</span><br><span class="line-number">3676</span><br><span class="line-number">3677</span><br><span class="line-number">3678</span><br><span class="line-number">3679</span><br><span class="line-number">3680</span><br><span class="line-number">3681</span><br><span class="line-number">3682</span><br><span class="line-number">3683</span><br><span class="line-number">3684</span><br><span class="line-number">3685</span><br><span class="line-number">3686</span><br><span class="line-number">3687</span><br><span class="line-number">3688</span><br><span class="line-number">3689</span><br><span class="line-number">3690</span><br><span class="line-number">3691</span><br><span class="line-number">3692</span><br><span class="line-number">3693</span><br><span class="line-number">3694</span><br><span class="line-number">3695</span><br><span class="line-number">3696</span><br><span class="line-number">3697</span><br><span class="line-number">3698</span><br><span class="line-number">3699</span><br><span class="line-number">3700</span><br><span class="line-number">3701</span><br><span class="line-number">3702</span><br><span class="line-number">3703</span><br><span class="line-number">3704</span><br><span class="line-number">3705</span><br><span class="line-number">3706</span><br><span class="line-number">3707</span><br><span class="line-number">3708</span><br><span class="line-number">3709</span><br><span class="line-number">3710</span><br><span class="line-number">3711</span><br><span class="line-number">3712</span><br><span class="line-number">3713</span><br><span class="line-number">3714</span><br><span class="line-number">3715</span><br><span class="line-number">3716</span><br><span class="line-number">3717</span><br><span class="line-number">3718</span><br><span class="line-number">3719</span><br><span class="line-number">3720</span><br><span class="line-number">3721</span><br><span class="line-number">3722</span><br><span class="line-number">3723</span><br><span class="line-number">3724</span><br><span class="line-number">3725</span><br><span class="line-number">3726</span><br><span class="line-number">3727</span><br><span class="line-number">3728</span><br><span class="line-number">3729</span><br><span class="line-number">3730</span><br><span class="line-number">3731</span><br><span class="line-number">3732</span><br><span class="line-number">3733</span><br><span class="line-number">3734</span><br><span class="line-number">3735</span><br><span class="line-number">3736</span><br><span class="line-number">3737</span><br><span class="line-number">3738</span><br><span class="line-number">3739</span><br><span class="line-number">3740</span><br><span class="line-number">3741</span><br><span class="line-number">3742</span><br><span class="line-number">3743</span><br><span class="line-number">3744</span><br><span class="line-number">3745</span><br><span class="line-number">3746</span><br><span class="line-number">3747</span><br><span class="line-number">3748</span><br><span class="line-number">3749</span><br><span class="line-number">3750</span><br><span class="line-number">3751</span><br><span class="line-number">3752</span><br><span class="line-number">3753</span><br><span class="line-number">3754</span><br><span class="line-number">3755</span><br><span class="line-number">3756</span><br><span class="line-number">3757</span><br><span class="line-number">3758</span><br><span class="line-number">3759</span><br><span class="line-number">3760</span><br><span class="line-number">3761</span><br><span class="line-number">3762</span><br><span class="line-number">3763</span><br><span class="line-number">3764</span><br><span class="line-number">3765</span><br><span class="line-number">3766</span><br><span class="line-number">3767</span><br><span class="line-number">3768</span><br><span class="line-number">3769</span><br><span class="line-number">3770</span><br><span class="line-number">3771</span><br><span class="line-number">3772</span><br><span class="line-number">3773</span><br><span class="line-number">3774</span><br><span class="line-number">3775</span><br><span class="line-number">3776</span><br><span class="line-number">3777</span><br><span class="line-number">3778</span><br><span class="line-number">3779</span><br><span class="line-number">3780</span><br><span class="line-number">3781</span><br><span class="line-number">3782</span><br><span class="line-number">3783</span><br><span class="line-number">3784</span><br><span class="line-number">3785</span><br><span class="line-number">3786</span><br><span class="line-number">3787</span><br><span class="line-number">3788</span><br><span class="line-number">3789</span><br><span class="line-number">3790</span><br><span class="line-number">3791</span><br><span class="line-number">3792</span><br><span class="line-number">3793</span><br><span class="line-number">3794</span><br><span class="line-number">3795</span><br><span class="line-number">3796</span><br><span class="line-number">3797</span><br><span class="line-number">3798</span><br><span class="line-number">3799</span><br><span class="line-number">3800</span><br><span class="line-number">3801</span><br><span class="line-number">3802</span><br><span class="line-number">3803</span><br><span class="line-number">3804</span><br><span class="line-number">3805</span><br><span class="line-number">3806</span><br><span class="line-number">3807</span><br><span class="line-number">3808</span><br><span class="line-number">3809</span><br><span class="line-number">3810</span><br><span class="line-number">3811</span><br><span class="line-number">3812</span><br><span class="line-number">3813</span><br><span class="line-number">3814</span><br><span class="line-number">3815</span><br><span class="line-number">3816</span><br><span class="line-number">3817</span><br><span class="line-number">3818</span><br><span class="line-number">3819</span><br><span class="line-number">3820</span><br><span class="line-number">3821</span><br><span class="line-number">3822</span><br><span class="line-number">3823</span><br><span class="line-number">3824</span><br><span class="line-number">3825</span><br><span class="line-number">3826</span><br><span class="line-number">3827</span><br><span class="line-number">3828</span><br><span class="line-number">3829</span><br><span class="line-number">3830</span><br><span class="line-number">3831</span><br><span class="line-number">3832</span><br><span class="line-number">3833</span><br><span class="line-number">3834</span><br><span class="line-number">3835</span><br><span class="line-number">3836</span><br><span class="line-number">3837</span><br><span class="line-number">3838</span><br><span class="line-number">3839</span><br><span class="line-number">3840</span><br><span class="line-number">3841</span><br><span class="line-number">3842</span><br><span class="line-number">3843</span><br><span class="line-number">3844</span><br><span class="line-number">3845</span><br><span class="line-number">3846</span><br><span class="line-number">3847</span><br><span class="line-number">3848</span><br><span class="line-number">3849</span><br><span class="line-number">3850</span><br><span class="line-number">3851</span><br><span class="line-number">3852</span><br><span class="line-number">3853</span><br><span class="line-number">3854</span><br><span class="line-number">3855</span><br><span class="line-number">3856</span><br><span class="line-number">3857</span><br><span class="line-number">3858</span><br><span class="line-number">3859</span><br><span class="line-number">3860</span><br><span class="line-number">3861</span><br><span class="line-number">3862</span><br><span class="line-number">3863</span><br><span class="line-number">3864</span><br><span class="line-number">3865</span><br><span class="line-number">3866</span><br><span class="line-number">3867</span><br><span class="line-number">3868</span><br><span class="line-number">3869</span><br><span class="line-number">3870</span><br><span class="line-number">3871</span><br><span class="line-number">3872</span><br><span class="line-number">3873</span><br><span class="line-number">3874</span><br><span class="line-number">3875</span><br><span class="line-number">3876</span><br><span class="line-number">3877</span><br><span class="line-number">3878</span><br><span class="line-number">3879</span><br><span class="line-number">3880</span><br><span class="line-number">3881</span><br><span class="line-number">3882</span><br><span class="line-number">3883</span><br><span class="line-number">3884</span><br><span class="line-number">3885</span><br><span class="line-number">3886</span><br><span class="line-number">3887</span><br><span class="line-number">3888</span><br><span class="line-number">3889</span><br><span class="line-number">3890</span><br><span class="line-number">3891</span><br><span class="line-number">3892</span><br><span class="line-number">3893</span><br><span class="line-number">3894</span><br><span class="line-number">3895</span><br><span class="line-number">3896</span><br><span class="line-number">3897</span><br><span class="line-number">3898</span><br><span class="line-number">3899</span><br><span class="line-number">3900</span><br><span class="line-number">3901</span><br><span class="line-number">3902</span><br><span class="line-number">3903</span><br><span class="line-number">3904</span><br><span class="line-number">3905</span><br><span class="line-number">3906</span><br><span class="line-number">3907</span><br><span class="line-number">3908</span><br><span class="line-number">3909</span><br><span class="line-number">3910</span><br><span class="line-number">3911</span><br><span class="line-number">3912</span><br><span class="line-number">3913</span><br><span class="line-number">3914</span><br><span class="line-number">3915</span><br><span class="line-number">3916</span><br><span class="line-number">3917</span><br><span class="line-number">3918</span><br><span class="line-number">3919</span><br><span class="line-number">3920</span><br><span class="line-number">3921</span><br><span class="line-number">3922</span><br><span class="line-number">3923</span><br><span class="line-number">3924</span><br><span class="line-number">3925</span><br><span class="line-number">3926</span><br><span class="line-number">3927</span><br><span class="line-number">3928</span><br><span class="line-number">3929</span><br><span class="line-number">3930</span><br><span class="line-number">3931</span><br><span class="line-number">3932</span><br><span class="line-number">3933</span><br><span class="line-number">3934</span><br><span class="line-number">3935</span><br><span class="line-number">3936</span><br><span class="line-number">3937</span><br><span class="line-number">3938</span><br><span class="line-number">3939</span><br><span class="line-number">3940</span><br><span class="line-number">3941</span><br><span class="line-number">3942</span><br><span class="line-number">3943</span><br><span class="line-number">3944</span><br><span class="line-number">3945</span><br><span class="line-number">3946</span><br><span class="line-number">3947</span><br><span class="line-number">3948</span><br><span class="line-number">3949</span><br><span class="line-number">3950</span><br><span class="line-number">3951</span><br><span class="line-number">3952</span><br><span class="line-number">3953</span><br><span class="line-number">3954</span><br><span class="line-number">3955</span><br><span class="line-number">3956</span><br><span class="line-number">3957</span><br><span class="line-number">3958</span><br><span class="line-number">3959</span><br><span class="line-number">3960</span><br><span class="line-number">3961</span><br><span class="line-number">3962</span><br><span class="line-number">3963</span><br><span class="line-number">3964</span><br><span class="line-number">3965</span><br><span class="line-number">3966</span><br><span class="line-number">3967</span><br><span class="line-number">3968</span><br><span class="line-number">3969</span><br><span class="line-number">3970</span><br><span class="line-number">3971</span><br><span class="line-number">3972</span><br><span class="line-number">3973</span><br><span class="line-number">3974</span><br><span class="line-number">3975</span><br><span class="line-number">3976</span><br><span class="line-number">3977</span><br><span class="line-number">3978</span><br><span class="line-number">3979</span><br><span class="line-number">3980</span><br><span class="line-number">3981</span><br><span class="line-number">3982</span><br><span class="line-number">3983</span><br><span class="line-number">3984</span><br><span class="line-number">3985</span><br><span class="line-number">3986</span><br><span class="line-number">3987</span><br><span class="line-number">3988</span><br><span class="line-number">3989</span><br><span class="line-number">3990</span><br><span class="line-number">3991</span><br><span class="line-number">3992</span><br><span class="line-number">3993</span><br><span class="line-number">3994</span><br><span class="line-number">3995</span><br><span class="line-number">3996</span><br><span class="line-number">3997</span><br><span class="line-number">3998</span><br><span class="line-number">3999</span><br><span class="line-number">4000</span><br><span class="line-number">4001</span><br><span class="line-number">4002</span><br><span class="line-number">4003</span><br><span class="line-number">4004</span><br><span class="line-number">4005</span><br><span class="line-number">4006</span><br><span class="line-number">4007</span><br><span class="line-number">4008</span><br><span class="line-number">4009</span><br><span class="line-number">4010</span><br><span class="line-number">4011</span><br><span class="line-number">4012</span><br><span class="line-number">4013</span><br><span class="line-number">4014</span><br><span class="line-number">4015</span><br><span class="line-number">4016</span><br><span class="line-number">4017</span><br><span class="line-number">4018</span><br><span class="line-number">4019</span><br><span class="line-number">4020</span><br><span class="line-number">4021</span><br><span class="line-number">4022</span><br><span class="line-number">4023</span><br><span class="line-number">4024</span><br><span class="line-number">4025</span><br><span class="line-number">4026</span><br><span class="line-number">4027</span><br><span class="line-number">4028</span><br><span class="line-number">4029</span><br><span class="line-number">4030</span><br><span class="line-number">4031</span><br><span class="line-number">4032</span><br><span class="line-number">4033</span><br><span class="line-number">4034</span><br><span class="line-number">4035</span><br><span class="line-number">4036</span><br><span class="line-number">4037</span><br><span class="line-number">4038</span><br><span class="line-number">4039</span><br><span class="line-number">4040</span><br><span class="line-number">4041</span><br><span class="line-number">4042</span><br><span class="line-number">4043</span><br><span class="line-number">4044</span><br><span class="line-number">4045</span><br><span class="line-number">4046</span><br><span class="line-number">4047</span><br><span class="line-number">4048</span><br><span class="line-number">4049</span><br><span class="line-number">4050</span><br><span class="line-number">4051</span><br><span class="line-number">4052</span><br><span class="line-number">4053</span><br><span class="line-number">4054</span><br><span class="line-number">4055</span><br><span class="line-number">4056</span><br><span class="line-number">4057</span><br><span class="line-number">4058</span><br><span class="line-number">4059</span><br><span class="line-number">4060</span><br><span class="line-number">4061</span><br><span class="line-number">4062</span><br><span class="line-number">4063</span><br><span class="line-number">4064</span><br><span class="line-number">4065</span><br><span class="line-number">4066</span><br><span class="line-number">4067</span><br><span class="line-number">4068</span><br><span class="line-number">4069</span><br><span class="line-number">4070</span><br><span class="line-number">4071</span><br><span class="line-number">4072</span><br><span class="line-number">4073</span><br><span class="line-number">4074</span><br><span class="line-number">4075</span><br><span class="line-number">4076</span><br><span class="line-number">4077</span><br><span class="line-number">4078</span><br><span class="line-number">4079</span><br><span class="line-number">4080</span><br><span class="line-number">4081</span><br><span class="line-number">4082</span><br><span class="line-number">4083</span><br><span class="line-number">4084</span><br><span class="line-number">4085</span><br><span class="line-number">4086</span><br><span class="line-number">4087</span><br><span class="line-number">4088</span><br><span class="line-number">4089</span><br><span class="line-number">4090</span><br><span class="line-number">4091</span><br><span class="line-number">4092</span><br><span class="line-number">4093</span><br><span class="line-number">4094</span><br><span class="line-number">4095</span><br><span class="line-number">4096</span><br><span class="line-number">4097</span><br><span class="line-number">4098</span><br><span class="line-number">4099</span><br><span class="line-number">4100</span><br><span class="line-number">4101</span><br><span class="line-number">4102</span><br><span class="line-number">4103</span><br><span class="line-number">4104</span><br><span class="line-number">4105</span><br><span class="line-number">4106</span><br><span class="line-number">4107</span><br><span class="line-number">4108</span><br><span class="line-number">4109</span><br><span class="line-number">4110</span><br><span class="line-number">4111</span><br><span class="line-number">4112</span><br><span class="line-number">4113</span><br><span class="line-number">4114</span><br><span class="line-number">4115</span><br><span class="line-number">4116</span><br><span class="line-number">4117</span><br><span class="line-number">4118</span><br><span class="line-number">4119</span><br><span class="line-number">4120</span><br><span class="line-number">4121</span><br><span class="line-number">4122</span><br><span class="line-number">4123</span><br><span class="line-number">4124</span><br><span class="line-number">4125</span><br><span class="line-number">4126</span><br><span class="line-number">4127</span><br><span class="line-number">4128</span><br><span class="line-number">4129</span><br><span class="line-number">4130</span><br><span class="line-number">4131</span><br><span class="line-number">4132</span><br><span class="line-number">4133</span><br><span class="line-number">4134</span><br><span class="line-number">4135</span><br><span class="line-number">4136</span><br><span class="line-number">4137</span><br><span class="line-number">4138</span><br><span class="line-number">4139</span><br><span class="line-number">4140</span><br><span class="line-number">4141</span><br><span class="line-number">4142</span><br><span class="line-number">4143</span><br><span class="line-number">4144</span><br><span class="line-number">4145</span><br><span class="line-number">4146</span><br><span class="line-number">4147</span><br><span class="line-number">4148</span><br><span class="line-number">4149</span><br><span class="line-number">4150</span><br><span class="line-number">4151</span><br><span class="line-number">4152</span><br><span class="line-number">4153</span><br><span class="line-number">4154</span><br><span class="line-number">4155</span><br><span class="line-number">4156</span><br><span class="line-number">4157</span><br><span class="line-number">4158</span><br><span class="line-number">4159</span><br><span class="line-number">4160</span><br><span class="line-number">4161</span><br><span class="line-number">4162</span><br><span class="line-number">4163</span><br><span class="line-number">4164</span><br><span class="line-number">4165</span><br><span class="line-number">4166</span><br><span class="line-number">4167</span><br><span class="line-number">4168</span><br><span class="line-number">4169</span><br><span class="line-number">4170</span><br><span class="line-number">4171</span><br><span class="line-number">4172</span><br><span class="line-number">4173</span><br><span class="line-number">4174</span><br><span class="line-number">4175</span><br><span class="line-number">4176</span><br><span class="line-number">4177</span><br><span class="line-number">4178</span><br><span class="line-number">4179</span><br><span class="line-number">4180</span><br><span class="line-number">4181</span><br><span class="line-number">4182</span><br><span class="line-number">4183</span><br><span class="line-number">4184</span><br><span class="line-number">4185</span><br><span class="line-number">4186</span><br><span class="line-number">4187</span><br><span class="line-number">4188</span><br><span class="line-number">4189</span><br><span class="line-number">4190</span><br><span class="line-number">4191</span><br><span class="line-number">4192</span><br><span class="line-number">4193</span><br><span class="line-number">4194</span><br><span class="line-number">4195</span><br><span class="line-number">4196</span><br><span class="line-number">4197</span><br><span class="line-number">4198</span><br><span class="line-number">4199</span><br><span class="line-number">4200</span><br><span class="line-number">4201</span><br><span class="line-number">4202</span><br><span class="line-number">4203</span><br><span class="line-number">4204</span><br><span class="line-number">4205</span><br><span class="line-number">4206</span><br><span class="line-number">4207</span><br><span class="line-number">4208</span><br><span class="line-number">4209</span><br><span class="line-number">4210</span><br><span class="line-number">4211</span><br><span class="line-number">4212</span><br><span class="line-number">4213</span><br><span class="line-number">4214</span><br><span class="line-number">4215</span><br><span class="line-number">4216</span><br><span class="line-number">4217</span><br><span class="line-number">4218</span><br><span class="line-number">4219</span><br><span class="line-number">4220</span><br><span class="line-number">4221</span><br><span class="line-number">4222</span><br><span class="line-number">4223</span><br><span class="line-number">4224</span><br><span class="line-number">4225</span><br><span class="line-number">4226</span><br><span class="line-number">4227</span><br><span class="line-number">4228</span><br><span class="line-number">4229</span><br><span class="line-number">4230</span><br><span class="line-number">4231</span><br><span class="line-number">4232</span><br><span class="line-number">4233</span><br><span class="line-number">4234</span><br><span class="line-number">4235</span><br><span class="line-number">4236</span><br><span class="line-number">4237</span><br><span class="line-number">4238</span><br><span class="line-number">4239</span><br><span class="line-number">4240</span><br><span class="line-number">4241</span><br><span class="line-number">4242</span><br><span class="line-number">4243</span><br><span class="line-number">4244</span><br><span class="line-number">4245</span><br><span class="line-number">4246</span><br><span class="line-number">4247</span><br><span class="line-number">4248</span><br><span class="line-number">4249</span><br><span class="line-number">4250</span><br><span class="line-number">4251</span><br><span class="line-number">4252</span><br><span class="line-number">4253</span><br><span class="line-number">4254</span><br><span class="line-number">4255</span><br><span class="line-number">4256</span><br><span class="line-number">4257</span><br><span class="line-number">4258</span><br><span class="line-number">4259</span><br><span class="line-number">4260</span><br><span class="line-number">4261</span><br><span class="line-number">4262</span><br><span class="line-number">4263</span><br><span class="line-number">4264</span><br><span class="line-number">4265</span><br><span class="line-number">4266</span><br><span class="line-number">4267</span><br><span class="line-number">4268</span><br><span class="line-number">4269</span><br><span class="line-number">4270</span><br><span class="line-number">4271</span><br><span class="line-number">4272</span><br><span class="line-number">4273</span><br><span class="line-number">4274</span><br><span class="line-number">4275</span><br><span class="line-number">4276</span><br><span class="line-number">4277</span><br><span class="line-number">4278</span><br><span class="line-number">4279</span><br><span class="line-number">4280</span><br><span class="line-number">4281</span><br><span class="line-number">4282</span><br><span class="line-number">4283</span><br><span class="line-number">4284</span><br><span class="line-number">4285</span><br><span class="line-number">4286</span><br><span class="line-number">4287</span><br><span class="line-number">4288</span><br><span class="line-number">4289</span><br><span class="line-number">4290</span><br><span class="line-number">4291</span><br><span class="line-number">4292</span><br><span class="line-number">4293</span><br><span class="line-number">4294</span><br><span class="line-number">4295</span><br><span class="line-number">4296</span><br><span class="line-number">4297</span><br><span class="line-number">4298</span><br><span class="line-number">4299</span><br><span class="line-number">4300</span><br><span class="line-number">4301</span><br><span class="line-number">4302</span><br><span class="line-number">4303</span><br><span class="line-number">4304</span><br><span class="line-number">4305</span><br><span class="line-number">4306</span><br><span class="line-number">4307</span><br><span class="line-number">4308</span><br><span class="line-number">4309</span><br><span class="line-number">4310</span><br><span class="line-number">4311</span><br><span class="line-number">4312</span><br><span class="line-number">4313</span><br><span class="line-number">4314</span><br><span class="line-number">4315</span><br><span class="line-number">4316</span><br><span class="line-number">4317</span><br><span class="line-number">4318</span><br><span class="line-number">4319</span><br><span class="line-number">4320</span><br><span class="line-number">4321</span><br><span class="line-number">4322</span><br><span class="line-number">4323</span><br><span class="line-number">4324</span><br><span class="line-number">4325</span><br><span class="line-number">4326</span><br><span class="line-number">4327</span><br><span class="line-number">4328</span><br><span class="line-number">4329</span><br><span class="line-number">4330</span><br><span class="line-number">4331</span><br><span class="line-number">4332</span><br><span class="line-number">4333</span><br><span class="line-number">4334</span><br><span class="line-number">4335</span><br><span class="line-number">4336</span><br><span class="line-number">4337</span><br><span class="line-number">4338</span><br><span class="line-number">4339</span><br><span class="line-number">4340</span><br><span class="line-number">4341</span><br><span class="line-number">4342</span><br><span class="line-number">4343</span><br><span class="line-number">4344</span><br><span class="line-number">4345</span><br><span class="line-number">4346</span><br><span class="line-number">4347</span><br><span class="line-number">4348</span><br><span class="line-number">4349</span><br><span class="line-number">4350</span><br><span class="line-number">4351</span><br><span class="line-number">4352</span><br><span class="line-number">4353</span><br><span class="line-number">4354</span><br><span class="line-number">4355</span><br><span class="line-number">4356</span><br><span class="line-number">4357</span><br><span class="line-number">4358</span><br><span class="line-number">4359</span><br><span class="line-number">4360</span><br><span class="line-number">4361</span><br><span class="line-number">4362</span><br><span class="line-number">4363</span><br><span class="line-number">4364</span><br><span class="line-number">4365</span><br><span class="line-number">4366</span><br><span class="line-number">4367</span><br><span class="line-number">4368</span><br><span class="line-number">4369</span><br><span class="line-number">4370</span><br><span class="line-number">4371</span><br><span class="line-number">4372</span><br><span class="line-number">4373</span><br><span class="line-number">4374</span><br><span class="line-number">4375</span><br><span class="line-number">4376</span><br><span class="line-number">4377</span><br><span class="line-number">4378</span><br><span class="line-number">4379</span><br><span class="line-number">4380</span><br><span class="line-number">4381</span><br><span class="line-number">4382</span><br><span class="line-number">4383</span><br><span class="line-number">4384</span><br><span class="line-number">4385</span><br><span class="line-number">4386</span><br><span class="line-number">4387</span><br><span class="line-number">4388</span><br><span class="line-number">4389</span><br><span class="line-number">4390</span><br><span class="line-number">4391</span><br><span class="line-number">4392</span><br><span class="line-number">4393</span><br><span class="line-number">4394</span><br><span class="line-number">4395</span><br><span class="line-number">4396</span><br><span class="line-number">4397</span><br><span class="line-number">4398</span><br><span class="line-number">4399</span><br><span class="line-number">4400</span><br><span class="line-number">4401</span><br><span class="line-number">4402</span><br><span class="line-number">4403</span><br><span class="line-number">4404</span><br><span class="line-number">4405</span><br><span class="line-number">4406</span><br><span class="line-number">4407</span><br><span class="line-number">4408</span><br><span class="line-number">4409</span><br><span class="line-number">4410</span><br><span class="line-number">4411</span><br><span class="line-number">4412</span><br><span class="line-number">4413</span><br><span class="line-number">4414</span><br><span class="line-number">4415</span><br><span class="line-number">4416</span><br><span class="line-number">4417</span><br><span class="line-number">4418</span><br><span class="line-number">4419</span><br><span class="line-number">4420</span><br><span class="line-number">4421</span><br><span class="line-number">4422</span><br><span class="line-number">4423</span><br><span class="line-number">4424</span><br><span class="line-number">4425</span><br><span class="line-number">4426</span><br><span class="line-number">4427</span><br><span class="line-number">4428</span><br><span class="line-number">4429</span><br><span class="line-number">4430</span><br><span class="line-number">4431</span><br><span class="line-number">4432</span><br><span class="line-number">4433</span><br><span class="line-number">4434</span><br><span class="line-number">4435</span><br><span class="line-number">4436</span><br><span class="line-number">4437</span><br><span class="line-number">4438</span><br><span class="line-number">4439</span><br><span class="line-number">4440</span><br><span class="line-number">4441</span><br><span class="line-number">4442</span><br><span class="line-number">4443</span><br><span class="line-number">4444</span><br><span class="line-number">4445</span><br><span class="line-number">4446</span><br><span class="line-number">4447</span><br><span class="line-number">4448</span><br><span class="line-number">4449</span><br><span class="line-number">4450</span><br><span class="line-number">4451</span><br><span class="line-number">4452</span><br><span class="line-number">4453</span><br><span class="line-number">4454</span><br><span class="line-number">4455</span><br><span class="line-number">4456</span><br><span class="line-number">4457</span><br><span class="line-number">4458</span><br><span class="line-number">4459</span><br><span class="line-number">4460</span><br><span class="line-number">4461</span><br><span class="line-number">4462</span><br><span class="line-number">4463</span><br><span class="line-number">4464</span><br><span class="line-number">4465</span><br><span class="line-number">4466</span><br><span class="line-number">4467</span><br><span class="line-number">4468</span><br><span class="line-number">4469</span><br><span class="line-number">4470</span><br><span class="line-number">4471</span><br><span class="line-number">4472</span><br><span class="line-number">4473</span><br><span class="line-number">4474</span><br><span class="line-number">4475</span><br><span class="line-number">4476</span><br><span class="line-number">4477</span><br><span class="line-number">4478</span><br><span class="line-number">4479</span><br><span class="line-number">4480</span><br><span class="line-number">4481</span><br><span class="line-number">4482</span><br><span class="line-number">4483</span><br><span class="line-number">4484</span><br><span class="line-number">4485</span><br><span class="line-number">4486</span><br><span class="line-number">4487</span><br><span class="line-number">4488</span><br><span class="line-number">4489</span><br><span class="line-number">4490</span><br><span class="line-number">4491</span><br><span class="line-number">4492</span><br><span class="line-number">4493</span><br><span class="line-number">4494</span><br><span class="line-number">4495</span><br><span class="line-number">4496</span><br><span class="line-number">4497</span><br><span class="line-number">4498</span><br><span class="line-number">4499</span><br><span class="line-number">4500</span><br><span class="line-number">4501</span><br><span class="line-number">4502</span><br><span class="line-number">4503</span><br><span class="line-number">4504</span><br><span class="line-number">4505</span><br><span class="line-number">4506</span><br><span class="line-number">4507</span><br><span class="line-number">4508</span><br><span class="line-number">4509</span><br><span class="line-number">4510</span><br><span class="line-number">4511</span><br><span class="line-number">4512</span><br><span class="line-number">4513</span><br><span class="line-number">4514</span><br><span class="line-number">4515</span><br><span class="line-number">4516</span><br><span class="line-number">4517</span><br><span class="line-number">4518</span><br><span class="line-number">4519</span><br><span class="line-number">4520</span><br><span class="line-number">4521</span><br><span class="line-number">4522</span><br><span class="line-number">4523</span><br><span class="line-number">4524</span><br><span class="line-number">4525</span><br><span class="line-number">4526</span><br><span class="line-number">4527</span><br><span class="line-number">4528</span><br><span class="line-number">4529</span><br><span class="line-number">4530</span><br><span class="line-number">4531</span><br><span class="line-number">4532</span><br><span class="line-number">4533</span><br><span class="line-number">4534</span><br><span class="line-number">4535</span><br><span class="line-number">4536</span><br><span class="line-number">4537</span><br><span class="line-number">4538</span><br><span class="line-number">4539</span><br><span class="line-number">4540</span><br><span class="line-number">4541</span><br><span class="line-number">4542</span><br><span class="line-number">4543</span><br><span class="line-number">4544</span><br><span class="line-number">4545</span><br><span class="line-number">4546</span><br><span class="line-number">4547</span><br><span class="line-number">4548</span><br><span class="line-number">4549</span><br><span class="line-number">4550</span><br><span class="line-number">4551</span><br><span class="line-number">4552</span><br><span class="line-number">4553</span><br><span class="line-number">4554</span><br><span class="line-number">4555</span><br><span class="line-number">4556</span><br><span class="line-number">4557</span><br><span class="line-number">4558</span><br><span class="line-number">4559</span><br><span class="line-number">4560</span><br><span class="line-number">4561</span><br><span class="line-number">4562</span><br><span class="line-number">4563</span><br><span class="line-number">4564</span><br><span class="line-number">4565</span><br><span class="line-number">4566</span><br><span class="line-number">4567</span><br><span class="line-number">4568</span><br><span class="line-number">4569</span><br><span class="line-number">4570</span><br><span class="line-number">4571</span><br><span class="line-number">4572</span><br><span class="line-number">4573</span><br><span class="line-number">4574</span><br><span class="line-number">4575</span><br><span class="line-number">4576</span><br><span class="line-number">4577</span><br><span class="line-number">4578</span><br><span class="line-number">4579</span><br><span class="line-number">4580</span><br><span class="line-number">4581</span><br><span class="line-number">4582</span><br><span class="line-number">4583</span><br><span class="line-number">4584</span><br><span class="line-number">4585</span><br><span class="line-number">4586</span><br><span class="line-number">4587</span><br><span class="line-number">4588</span><br><span class="line-number">4589</span><br><span class="line-number">4590</span><br><span class="line-number">4591</span><br><span class="line-number">4592</span><br><span class="line-number">4593</span><br><span class="line-number">4594</span><br><span class="line-number">4595</span><br><span class="line-number">4596</span><br><span class="line-number">4597</span><br><span class="line-number">4598</span><br><span class="line-number">4599</span><br><span class="line-number">4600</span><br><span class="line-number">4601</span><br><span class="line-number">4602</span><br><span class="line-number">4603</span><br><span class="line-number">4604</span><br><span class="line-number">4605</span><br><span class="line-number">4606</span><br><span class="line-number">4607</span><br><span class="line-number">4608</span><br><span class="line-number">4609</span><br><span class="line-number">4610</span><br><span class="line-number">4611</span><br><span class="line-number">4612</span><br><span class="line-number">4613</span><br><span class="line-number">4614</span><br><span class="line-number">4615</span><br><span class="line-number">4616</span><br><span class="line-number">4617</span><br><span class="line-number">4618</span><br><span class="line-number">4619</span><br><span class="line-number">4620</span><br><span class="line-number">4621</span><br><span class="line-number">4622</span><br><span class="line-number">4623</span><br><span class="line-number">4624</span><br><span class="line-number">4625</span><br><span class="line-number">4626</span><br><span class="line-number">4627</span><br><span class="line-number">4628</span><br><span class="line-number">4629</span><br><span class="line-number">4630</span><br><span class="line-number">4631</span><br><span class="line-number">4632</span><br><span class="line-number">4633</span><br><span class="line-number">4634</span><br><span class="line-number">4635</span><br><span class="line-number">4636</span><br><span class="line-number">4637</span><br><span class="line-number">4638</span><br><span class="line-number">4639</span><br><span class="line-number">4640</span><br><span class="line-number">4641</span><br><span class="line-number">4642</span><br><span class="line-number">4643</span><br><span class="line-number">4644</span><br><span class="line-number">4645</span><br><span class="line-number">4646</span><br><span class="line-number">4647</span><br><span class="line-number">4648</span><br><span class="line-number">4649</span><br><span class="line-number">4650</span><br><span class="line-number">4651</span><br><span class="line-number">4652</span><br><span class="line-number">4653</span><br><span class="line-number">4654</span><br><span class="line-number">4655</span><br><span class="line-number">4656</span><br><span class="line-number">4657</span><br><span class="line-number">4658</span><br><span class="line-number">4659</span><br><span class="line-number">4660</span><br><span class="line-number">4661</span><br><span class="line-number">4662</span><br><span class="line-number">4663</span><br><span class="line-number">4664</span><br><span class="line-number">4665</span><br><span class="line-number">4666</span><br><span class="line-number">4667</span><br><span class="line-number">4668</span><br><span class="line-number">4669</span><br><span class="line-number">4670</span><br><span class="line-number">4671</span><br><span class="line-number">4672</span><br><span class="line-number">4673</span><br><span class="line-number">4674</span><br><span class="line-number">4675</span><br><span class="line-number">4676</span><br><span class="line-number">4677</span><br><span class="line-number">4678</span><br><span class="line-number">4679</span><br><span class="line-number">4680</span><br><span class="line-number">4681</span><br><span class="line-number">4682</span><br><span class="line-number">4683</span><br><span class="line-number">4684</span><br><span class="line-number">4685</span><br><span class="line-number">4686</span><br><span class="line-number">4687</span><br><span class="line-number">4688</span><br><span class="line-number">4689</span><br><span class="line-number">4690</span><br><span class="line-number">4691</span><br><span class="line-number">4692</span><br><span class="line-number">4693</span><br><span class="line-number">4694</span><br><span class="line-number">4695</span><br><span class="line-number">4696</span><br><span class="line-number">4697</span><br><span class="line-number">4698</span><br><span class="line-number">4699</span><br><span class="line-number">4700</span><br><span class="line-number">4701</span><br><span class="line-number">4702</span><br><span class="line-number">4703</span><br><span class="line-number">4704</span><br><span class="line-number">4705</span><br><span class="line-number">4706</span><br><span class="line-number">4707</span><br><span class="line-number">4708</span><br><span class="line-number">4709</span><br><span class="line-number">4710</span><br><span class="line-number">4711</span><br><span class="line-number">4712</span><br><span class="line-number">4713</span><br><span class="line-number">4714</span><br><span class="line-number">4715</span><br><span class="line-number">4716</span><br><span class="line-number">4717</span><br><span class="line-number">4718</span><br><span class="line-number">4719</span><br><span class="line-number">4720</span><br><span class="line-number">4721</span><br><span class="line-number">4722</span><br><span class="line-number">4723</span><br><span class="line-number">4724</span><br><span class="line-number">4725</span><br><span class="line-number">4726</span><br><span class="line-number">4727</span><br><span class="line-number">4728</span><br><span class="line-number">4729</span><br><span class="line-number">4730</span><br><span class="line-number">4731</span><br><span class="line-number">4732</span><br><span class="line-number">4733</span><br><span class="line-number">4734</span><br><span class="line-number">4735</span><br><span class="line-number">4736</span><br><span class="line-number">4737</span><br><span class="line-number">4738</span><br><span class="line-number">4739</span><br><span class="line-number">4740</span><br><span class="line-number">4741</span><br><span class="line-number">4742</span><br><span class="line-number">4743</span><br><span class="line-number">4744</span><br><span class="line-number">4745</span><br><span class="line-number">4746</span><br><span class="line-number">4747</span><br><span class="line-number">4748</span><br><span class="line-number">4749</span><br><span class="line-number">4750</span><br><span class="line-number">4751</span><br><span class="line-number">4752</span><br><span class="line-number">4753</span><br><span class="line-number">4754</span><br><span class="line-number">4755</span><br><span class="line-number">4756</span><br><span class="line-number">4757</span><br><span class="line-number">4758</span><br><span class="line-number">4759</span><br><span class="line-number">4760</span><br><span class="line-number">4761</span><br><span class="line-number">4762</span><br><span class="line-number">4763</span><br><span class="line-number">4764</span><br><span class="line-number">4765</span><br><span class="line-number">4766</span><br><span class="line-number">4767</span><br><span class="line-number">4768</span><br><span class="line-number">4769</span><br><span class="line-number">4770</span><br><span class="line-number">4771</span><br><span class="line-number">4772</span><br><span class="line-number">4773</span><br><span class="line-number">4774</span><br><span class="line-number">4775</span><br><span class="line-number">4776</span><br><span class="line-number">4777</span><br><span class="line-number">4778</span><br><span class="line-number">4779</span><br><span class="line-number">4780</span><br><span class="line-number">4781</span><br><span class="line-number">4782</span><br><span class="line-number">4783</span><br><span class="line-number">4784</span><br><span class="line-number">4785</span><br><span class="line-number">4786</span><br><span class="line-number">4787</span><br><span class="line-number">4788</span><br><span class="line-number">4789</span><br><span class="line-number">4790</span><br><span class="line-number">4791</span><br><span class="line-number">4792</span><br><span class="line-number">4793</span><br><span class="line-number">4794</span><br><span class="line-number">4795</span><br><span class="line-number">4796</span><br><span class="line-number">4797</span><br><span class="line-number">4798</span><br><span class="line-number">4799</span><br><span class="line-number">4800</span><br><span class="line-number">4801</span><br><span class="line-number">4802</span><br><span class="line-number">4803</span><br><span class="line-number">4804</span><br><span class="line-number">4805</span><br><span class="line-number">4806</span><br><span class="line-number">4807</span><br><span class="line-number">4808</span><br><span class="line-number">4809</span><br><span class="line-number">4810</span><br><span class="line-number">4811</span><br><span class="line-number">4812</span><br><span class="line-number">4813</span><br><span class="line-number">4814</span><br><span class="line-number">4815</span><br><span class="line-number">4816</span><br><span class="line-number">4817</span><br><span class="line-number">4818</span><br><span class="line-number">4819</span><br><span class="line-number">4820</span><br><span class="line-number">4821</span><br><span class="line-number">4822</span><br><span class="line-number">4823</span><br><span class="line-number">4824</span><br><span class="line-number">4825</span><br><span class="line-number">4826</span><br><span class="line-number">4827</span><br><span class="line-number">4828</span><br><span class="line-number">4829</span><br><span class="line-number">4830</span><br><span class="line-number">4831</span><br><span class="line-number">4832</span><br><span class="line-number">4833</span><br><span class="line-number">4834</span><br><span class="line-number">4835</span><br><span class="line-number">4836</span><br><span class="line-number">4837</span><br><span class="line-number">4838</span><br><span class="line-number">4839</span><br><span class="line-number">4840</span><br><span class="line-number">4841</span><br><span class="line-number">4842</span><br><span class="line-number">4843</span><br><span class="line-number">4844</span><br><span class="line-number">4845</span><br><span class="line-number">4846</span><br><span class="line-number">4847</span><br><span class="line-number">4848</span><br><span class="line-number">4849</span><br><span class="line-number">4850</span><br><span class="line-number">4851</span><br><span class="line-number">4852</span><br><span class="line-number">4853</span><br><span class="line-number">4854</span><br><span class="line-number">4855</span><br><span class="line-number">4856</span><br><span class="line-number">4857</span><br><span class="line-number">4858</span><br><span class="line-number">4859</span><br><span class="line-number">4860</span><br><span class="line-number">4861</span><br><span class="line-number">4862</span><br><span class="line-number">4863</span><br><span class="line-number">4864</span><br><span class="line-number">4865</span><br><span class="line-number">4866</span><br><span class="line-number">4867</span><br><span class="line-number">4868</span><br><span class="line-number">4869</span><br><span class="line-number">4870</span><br><span class="line-number">4871</span><br><span class="line-number">4872</span><br><span class="line-number">4873</span><br><span class="line-number">4874</span><br><span class="line-number">4875</span><br><span class="line-number">4876</span><br><span class="line-number">4877</span><br><span class="line-number">4878</span><br><span class="line-number">4879</span><br><span class="line-number">4880</span><br><span class="line-number">4881</span><br><span class="line-number">4882</span><br><span class="line-number">4883</span><br><span class="line-number">4884</span><br><span class="line-number">4885</span><br><span class="line-number">4886</span><br><span class="line-number">4887</span><br><span class="line-number">4888</span><br><span class="line-number">4889</span><br><span class="line-number">4890</span><br><span class="line-number">4891</span><br><span class="line-number">4892</span><br><span class="line-number">4893</span><br><span class="line-number">4894</span><br><span class="line-number">4895</span><br><span class="line-number">4896</span><br><span class="line-number">4897</span><br><span class="line-number">4898</span><br><span class="line-number">4899</span><br><span class="line-number">4900</span><br><span class="line-number">4901</span><br><span class="line-number">4902</span><br><span class="line-number">4903</span><br><span class="line-number">4904</span><br><span class="line-number">4905</span><br><span class="line-number">4906</span><br><span class="line-number">4907</span><br><span class="line-number">4908</span><br><span class="line-number">4909</span><br><span class="line-number">4910</span><br><span class="line-number">4911</span><br><span class="line-number">4912</span><br><span class="line-number">4913</span><br><span class="line-number">4914</span><br><span class="line-number">4915</span><br><span class="line-number">4916</span><br><span class="line-number">4917</span><br><span class="line-number">4918</span><br><span class="line-number">4919</span><br><span class="line-number">4920</span><br><span class="line-number">4921</span><br><span class="line-number">4922</span><br><span class="line-number">4923</span><br><span class="line-number">4924</span><br><span class="line-number">4925</span><br><span class="line-number">4926</span><br><span class="line-number">4927</span><br><span class="line-number">4928</span><br><span class="line-number">4929</span><br><span class="line-number">4930</span><br><span class="line-number">4931</span><br><span class="line-number">4932</span><br><span class="line-number">4933</span><br><span class="line-number">4934</span><br><span class="line-number">4935</span><br><span class="line-number">4936</span><br><span class="line-number">4937</span><br><span class="line-number">4938</span><br><span class="line-number">4939</span><br><span class="line-number">4940</span><br><span class="line-number">4941</span><br><span class="line-number">4942</span><br><span class="line-number">4943</span><br><span class="line-number">4944</span><br><span class="line-number">4945</span><br><span class="line-number">4946</span><br><span class="line-number">4947</span><br><span class="line-number">4948</span><br><span class="line-number">4949</span><br><span class="line-number">4950</span><br><span class="line-number">4951</span><br><span class="line-number">4952</span><br><span class="line-number">4953</span><br><span class="line-number">4954</span><br><span class="line-number">4955</span><br><span class="line-number">4956</span><br><span class="line-number">4957</span><br><span class="line-number">4958</span><br><span class="line-number">4959</span><br><span class="line-number">4960</span><br><span class="line-number">4961</span><br><span class="line-number">4962</span><br><span class="line-number">4963</span><br><span class="line-number">4964</span><br><span class="line-number">4965</span><br><span class="line-number">4966</span><br><span class="line-number">4967</span><br><span class="line-number">4968</span><br><span class="line-number">4969</span><br><span class="line-number">4970</span><br><span class="line-number">4971</span><br><span class="line-number">4972</span><br><span class="line-number">4973</span><br><span class="line-number">4974</span><br><span class="line-number">4975</span><br><span class="line-number">4976</span><br><span class="line-number">4977</span><br><span class="line-number">4978</span><br><span class="line-number">4979</span><br><span class="line-number">4980</span><br><span class="line-number">4981</span><br><span class="line-number">4982</span><br><span class="line-number">4983</span><br><span class="line-number">4984</span><br><span class="line-number">4985</span><br><span class="line-number">4986</span><br><span class="line-number">4987</span><br><span class="line-number">4988</span><br><span class="line-number">4989</span><br><span class="line-number">4990</span><br><span class="line-number">4991</span><br><span class="line-number">4992</span><br><span class="line-number">4993</span><br><span class="line-number">4994</span><br><span class="line-number">4995</span><br><span class="line-number">4996</span><br><span class="line-number">4997</span><br><span class="line-number">4998</span><br><span class="line-number">4999</span><br><span class="line-number">5000</span><br><span class="line-number">5001</span><br><span class="line-number">5002</span><br><span class="line-number">5003</span><br><span class="line-number">5004</span><br><span class="line-number">5005</span><br><span class="line-number">5006</span><br><span class="line-number">5007</span><br><span class="line-number">5008</span><br><span class="line-number">5009</span><br><span class="line-number">5010</span><br><span class="line-number">5011</span><br><span class="line-number">5012</span><br><span class="line-number">5013</span><br><span class="line-number">5014</span><br><span class="line-number">5015</span><br><span class="line-number">5016</span><br><span class="line-number">5017</span><br><span class="line-number">5018</span><br><span class="line-number">5019</span><br><span class="line-number">5020</span><br><span class="line-number">5021</span><br><span class="line-number">5022</span><br><span class="line-number">5023</span><br><span class="line-number">5024</span><br><span class="line-number">5025</span><br><span class="line-number">5026</span><br><span class="line-number">5027</span><br><span class="line-number">5028</span><br><span class="line-number">5029</span><br><span class="line-number">5030</span><br><span class="line-number">5031</span><br><span class="line-number">5032</span><br><span class="line-number">5033</span><br><span class="line-number">5034</span><br><span class="line-number">5035</span><br><span class="line-number">5036</span><br><span class="line-number">5037</span><br><span class="line-number">5038</span><br><span class="line-number">5039</span><br><span class="line-number">5040</span><br><span class="line-number">5041</span><br><span class="line-number">5042</span><br><span class="line-number">5043</span><br><span class="line-number">5044</span><br><span class="line-number">5045</span><br><span class="line-number">5046</span><br><span class="line-number">5047</span><br><span class="line-number">5048</span><br><span class="line-number">5049</span><br><span class="line-number">5050</span><br><span class="line-number">5051</span><br><span class="line-number">5052</span><br><span class="line-number">5053</span><br><span class="line-number">5054</span><br><span class="line-number">5055</span><br><span class="line-number">5056</span><br><span class="line-number">5057</span><br><span class="line-number">5058</span><br><span class="line-number">5059</span><br><span class="line-number">5060</span><br><span class="line-number">5061</span><br><span class="line-number">5062</span><br><span class="line-number">5063</span><br><span class="line-number">5064</span><br><span class="line-number">5065</span><br><span class="line-number">5066</span><br><span class="line-number">5067</span><br><span class="line-number">5068</span><br><span class="line-number">5069</span><br><span class="line-number">5070</span><br><span class="line-number">5071</span><br><span class="line-number">5072</span><br><span class="line-number">5073</span><br><span class="line-number">5074</span><br><span class="line-number">5075</span><br><span class="line-number">5076</span><br><span class="line-number">5077</span><br><span class="line-number">5078</span><br><span class="line-number">5079</span><br><span class="line-number">5080</span><br><span class="line-number">5081</span><br><span class="line-number">5082</span><br><span class="line-number">5083</span><br><span class="line-number">5084</span><br><span class="line-number">5085</span><br><span class="line-number">5086</span><br><span class="line-number">5087</span><br><span class="line-number">5088</span><br><span class="line-number">5089</span><br><span class="line-number">5090</span><br><span class="line-number">5091</span><br><span class="line-number">5092</span><br></div></div><h2 id="route"><a href="#route" class="header-anchor">#</a> Route</h2> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">/// 由 [Navigator] 管理的抽象类。</span>
<span class="token comment">///</span>
<span class="token comment">/// 此类定义了导航器和从导航器出栈入栈的“路由”之间的抽象接口。</span>
<span class="token comment">/// 大多数路由都有视觉提示，它们使用一个或多个 [OverlayEntry] 对象将其放置在导航器的 [Overlay] 中。</span>
<span class="token comment">///</span>
<span class="token comment">/// 有关如何使用 [Route] 进行导航的更多解释，请参见 [Navigator]，包括代码示例。</span>
<span class="token comment">///</span>
<span class="token comment">/// 有关使用平台自适应过渡替换整个屏幕的路由，请参见 [MaterialPageRoute]。</span>
<span class="token comment">///</span>
<span class="token comment">/// 如果 [settings] 是 [Page] 的子类，则路由可以属于页面。基于页面的路由与无页面的路由不同，是在 [Navigator.pages] 更新期间从 [Page.createRoute] 创建的。与此路由关联的页面可能会在路由的生命周期内发生变化。如果 [Navigator] 更新了此路由的页面，它将调用 [changedInternalState] 来通知路由页面已更新。</span>
<span class="token comment">///</span>
<span class="token comment">/// 类型参数 `T` 是路由的返回类型，由 [currentResult]、[popped] 和 [didPop] 使用。如果路由不返回值，可以使用类型 `void`。</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
<span class="token comment">/// 初始化 [Route]。</span>
<span class="token comment">///</span>
<span class="token comment">/// 如果没有提供 [settings]，则使用一个空的 [RouteSettings] 对象。</span>
  <span class="token class-name">Route</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token class-name">RouteSettings</span><span class="token operator">?</span> settings <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> _settings <span class="token operator">=</span> settings <span class="token operator">?</span><span class="token operator">?</span> <span class="token keyword">const</span> <span class="token class-name">RouteSettings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>kFlutterMemoryAllocationsEnabled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">FlutterMemoryAllocations</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">dispatchObjectCreated</span><span class="token punctuation">(</span>
        <span class="token keyword">library</span><span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'package:flutter/widgets.dart'</span></span><span class="token punctuation">,</span>
        className<span class="token punctuation">:</span> <span class="token string-literal"><span class="token string">'</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression"><span class="token class-name">Route</span></span></span><span class="token string">&lt;</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression"><span class="token class-name">T</span></span></span><span class="token string">&gt;'</span></span><span class="token punctuation">,</span>
        object<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 路由所在的导航器（如果有的话）。</span>
  <span class="token class-name">NavigatorState</span><span class="token operator">?</span> <span class="token keyword">get</span> navigator <span class="token operator">=</span><span class="token operator">&gt;</span> _navigator<span class="token punctuation">;</span>
  <span class="token class-name">NavigatorState</span><span class="token operator">?</span> _navigator<span class="token punctuation">;</span>

  <span class="token comment">/// 此路由的设置。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 详情请参见 [RouteSettings]。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 设置可以在路由的生命周期内更改。如果设置更改，路由的覆盖层将被标记为脏（参见</span>
  <span class="token comment">/// [changedInternalState]）。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果路由是从 [Navigator.pages] 列表中的 [Page] 创建的，那么这将是一个 [Page] 子类，</span>
  <span class="token comment">/// 并且每次其对应的 [Navigator.pages] 中的 [Page] 发生变化时，它都会更新。一旦</span>
  <span class="token comment">/// [Route] 从历史记录中移除，此值将停止更新（并保持其最后的值）。</span>
  <span class="token class-name">RouteSettings</span> <span class="token keyword">get</span> settings <span class="token operator">=</span><span class="token operator">&gt;</span> _settings<span class="token punctuation">;</span>
  <span class="token class-name">RouteSettings</span> _settings<span class="token punctuation">;</span>

  <span class="token comment">/// 用于与此路由的 [RestorationScope] 相关的恢复范围内 ID。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果当前禁用了此路由的恢复功能，则恢复范围 ID 为 null。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果恢复范围内 ID 在路由的生命周期内发生变化（例如，因为恢复功能被启用或禁用），</span>
  <span class="token comment">/// 则 [ValueListenable] 会通知其监听器。例如，当路由正在离开屏幕时，ID 会变为 null，</span>
  <span class="token comment">/// 这会触发此字段的通知。此时，路由被视为不再存在于恢复计划中，其状态将不会恢复。</span>
  <span class="token class-name">ValueListenable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> restorationScopeId <span class="token operator">=</span><span class="token operator">&gt;</span> _restorationScopeId<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">ValueNotifier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> _restorationScopeId <span class="token operator">=</span> <span class="token class-name">ValueNotifier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">void</span> <span class="token function">_updateSettings</span><span class="token punctuation">(</span><span class="token class-name">RouteSettings</span> newSettings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_settings <span class="token operator">!=</span> newSettings<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _settings <span class="token operator">=</span> newSettings<span class="token punctuation">;</span>
      <span class="token function">changedInternalState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// ignore: use_setters_to_change_properties, (setters can't be private)</span>
  <span class="token keyword">void</span> <span class="token function">_updateRestorationId</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token operator">?</span> restorationId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _restorationScopeId<span class="token punctuation">.</span>value <span class="token operator">=</span> restorationId<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 此路由的覆盖项。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 这些通常由 [install] 填充。[Navigator] 负责将它们添加到 [Overlay] 中并从中移除。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 在调用 [install] 之后，此列表中必须至少有一个项。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果路由在历史记录中移动，[Navigator] 将负责保持项在一起。</span>
  <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OverlayEntry</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> overlayEntries <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">const</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">OverlayEntry</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">/// 当路由被插入到导航器时调用。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 使用此方法填充 [overlayEntries]。在调用 [install] 之后，此列表中必须至少有一个条目。</span>
  <span class="token comment">/// [Navigator] 将负责将它们添加到 [Overlay] 中或通过调用 [OverlayEntry.remove] 将它们从中移除。</span>
  <span class="token metadata function">@protected</span>
  <span class="token metadata function">@mustCallSuper</span>
  <span class="token keyword">void</span> <span class="token function">install</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// 在 [install] 之后，当路由被推送到导航器时调用。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 当推送过渡完成时，返回值会解析。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 当路由立即出现在屏幕上而没有任何推送过渡时，将调用 [didAdd] 方法而不是 [didPush]。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 通常在调用此方法后会立即调用 [didChangeNext] 和 [didChangePrevious] 方法。</span>
  <span class="token metadata function">@protected</span>
  <span class="token metadata function">@mustCallSuper</span>
  <span class="token class-name">TickerFuture</span> <span class="token function">didPush</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">TickerFuture</span><span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span>then<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> _<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token operator">?</span><span class="token punctuation">.</span>widget<span class="token punctuation">.</span>requestFocus <span class="token operator">?</span><span class="token operator">?</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        navigator<span class="token operator">!</span><span class="token punctuation">.</span>focusNode<span class="token punctuation">.</span>enclosingScope<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 在 [install] 之后，当路由被添加到导航器时调用。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 当路由立即出现在屏幕上而没有任何推送过渡时，将调用此方法而不是 [didPush]。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 通常在调用此方法后会立即调用 [didChangeNext] 和 [didChangePrevious] 方法。</span>
  <span class="token metadata function">@protected</span>
  <span class="token metadata function">@mustCallSuper</span>
  <span class="token keyword">void</span> <span class="token function">didAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>navigator<span class="token operator">?</span><span class="token punctuation">.</span>widget<span class="token punctuation">.</span>requestFocus <span class="token operator">?</span><span class="token operator">?</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 这个 TickerFuture 有两个目的。首先，我们希望确保由其他操作触发的动画在聚焦导航器之前完成。其次，navigator.focusNode 可能会在 Route.install 异步地获取更多聚焦的子节点。这个 TickerFuture 将等待它先完成。</span>
      <span class="token comment">//</span>
      <span class="token comment">// 后一种情况可以在子类管理自己的焦点范围时找到。例如，ModalRoute 在其覆盖条目中创建了一个焦点范围。焦点子节点只能在 initState 之后附加到导航器，这将由异步间隙保护。</span>
      <span class="token class-name">TickerFuture</span><span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>then<span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">void</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">void</span> _<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 路由可以在 ticker future 完成之前被处理掉。这可能发生在导航器位于 TabView 下时，TabView 以动画从一个标签跳转到另一个非相邻标签。TabView 在跳转完成之前和之后重新排序其子节点，这导致其子节点在同一帧内被构建和处理掉。如果其中一个子节点包含导航器，则该导航器中的路由也会在同一帧内被添加和处理掉。</span>
        <span class="token comment">//</span>
        <span class="token comment">// 由于在导航器被处理掉后引用将被设置为 null，我们必须在添加时进行空安全操作，以防这种情况在同一帧内发生。</span>
        navigator<span class="token operator">?</span><span class="token punctuation">.</span>focusNode<span class="token punctuation">.</span>enclosingScope<span class="token operator">?</span><span class="token punctuation">.</span><span class="token function">requestFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// Called after [install] when the route replaced another in the navigator.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The [didChangeNext] and [didChangePrevious] methods are typically called</span>
  <span class="token comment">/// immediately after this method is called.</span>
  <span class="token metadata function">@protected</span>
  <span class="token metadata function">@mustCallSuper</span>
  <span class="token keyword">void</span> <span class="token function">didReplace</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> oldRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// Returns whether calling [Navigator.maybePop] when this [Route] is current</span>
  <span class="token comment">/// ([isCurrent]) should do anything.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// [Navigator.maybePop] is usually used instead of [Navigator.pop] to handle</span>
  <span class="token comment">/// the system back button.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// By default, if a [Route] is the first route in the history (i.e., if</span>
  <span class="token comment">/// [isFirst]), it reports that pops should be bubbled</span>
  <span class="token comment">/// ([RoutePopDisposition.bubble]). This behavior prevents the user from</span>
  <span class="token comment">/// popping the first route off the history and being stranded at a blank</span>
  <span class="token comment">/// screen; instead, the larger scope is popped (e.g. the application quits,</span>
  <span class="token comment">/// so that the user returns to the previous application).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// In other cases, the default behavior is to accept the pop</span>
  <span class="token comment">/// ([RoutePopDisposition.pop]).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// The third possible value is [RoutePopDisposition.doNotPop], which causes</span>
  <span class="token comment">/// the pop request to be ignored entirely.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// See also:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [Form], which provides a [Form.onWillPop] callback that uses this</span>
  <span class="token comment">///    mechanism.</span>
  <span class="token comment">///  * [WillPopScope], another widget that provides a way to intercept the</span>
  <span class="token comment">///    back button.</span>
  <span class="token metadata function">@Deprecated</span><span class="token punctuation">(</span>
    <span class="token string-literal"><span class="token string">'Use popDisposition instead. '</span></span>
    <span class="token string-literal"><span class="token string">'This feature was deprecated after v3.12.0-1.0.pre.'</span></span><span class="token punctuation">,</span>
  <span class="token punctuation">)</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RoutePopDisposition</span><span class="token punctuation">&gt;</span></span> <span class="token function">willPop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">async</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> isFirst <span class="token operator">?</span> <span class="token class-name">RoutePopDisposition</span><span class="token punctuation">.</span>bubble <span class="token punctuation">:</span> <span class="token class-name">RoutePopDisposition</span><span class="token punctuation">.</span>pop<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 返回调用 [Navigator.maybePop] 时是否应该执行任何操作。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// [Navigator.maybePop] 通常用于处理系统返回按钮，而不是 [Navigator.pop]，当它没有通过</span>
  <span class="token comment">/// [SystemNavigator.setFrameworkHandlesBack] 被禁用时。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 默认情况下，如果一个 [Route] 是历史记录中的第一个路由（即，如果 [isFirst]），它会报告弹出应该冒泡</span>
  <span class="token comment">/// ([RoutePopDisposition.bubble])。这种行为防止用户从历史记录中弹出第一个路由并被困在空白屏幕上；</span>
  <span class="token comment">/// 相反，更大的范围被弹出（例如，应用程序退出，因此用户返回到上一个应用程序）。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 在其他情况下，默认行为是接受弹出 ([RoutePopDisposition.pop])。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 第三种可能的值是 [RoutePopDisposition.doNotPop]，它会导致弹出请求完全被忽略。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 另请参见:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [Form], 提供了一个类似的 [Form.canPop] 布尔值。</span>
  <span class="token comment">///  * [PopScope], 一个提供拦截返回按钮的方法的 widget。</span>
  <span class="token class-name">RoutePopDisposition</span> <span class="token keyword">get</span> popDisposition <span class="token punctuation">{</span>
    <span class="token keyword">return</span> isFirst <span class="token operator">?</span> <span class="token class-name">RoutePopDisposition</span><span class="token punctuation">.</span>bubble <span class="token punctuation">:</span> <span class="token class-name">RoutePopDisposition</span><span class="token punctuation">.</span>pop<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// {@template flutter.widgets.navigator.onPopInvoked}</span>
  <span class="token comment">/// 在路由弹出处理后调用。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 即使弹出被取消，例如通过 [PopScope] 小部件，这个方法仍然会被调用。`didPop` 参数指示返回导航是否成功完成。</span>
  <span class="token comment">/// {@endtemplate}</span>
  <span class="token keyword">void</span> <span class="token function">onPopInvoked</span><span class="token punctuation">(</span>bool didPop<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token comment">/// 调用 [didPop] 是否会返回 false。</span>
  bool <span class="token keyword">get</span> willHandlePopInternally <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

  <span class="token comment">/// 当此路由被弹出时（参见 [Navigator.pop]），如果结果未指定或为 null，则将使用此值。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 这个回退值由 [didComplete] 实现。如果传递给该方法的参数为 null，则使用此值。</span>
  <span class="token class-name">T</span><span class="token operator">?</span> <span class="token keyword">get</span> currentResult <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token comment">/// 当此路由从导航器中弹出时完成的 future。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果有值传递给 [Navigator.pop]，则 future 将使用该值完成，否则将使用 [currentResult] 的值完成。有关此主题的更多讨论，请参见 [didComplete]。</span>
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> popped <span class="token operator">=</span><span class="token operator">&gt;</span> _popCompleter<span class="token punctuation">.</span>future<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token class-name">Completer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> _popCompleter <span class="token operator">=</span> <span class="token class-name">Completer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">final</span> <span class="token class-name">Completer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> _disposeCompleter <span class="token operator">=</span> <span class="token class-name">Completer</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// 请求弹出此路由。如果路由可以内部处理它（例如，因为它有自己的内部状态堆栈），则返回 false，否则返回 true（通过返回调用 `super.didPop` 的值）。返回 false 将阻止 [NavigatorState.pop] 的默认行为。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 当此函数返回 true 时，导航器从历史记录中删除此路由，但尚未调用 [dispose]。相反，路由有责任调用 [NavigatorState.finalizeRoute]，这将依次调用路由上的 [dispose]。此序列允许路由在弹出后但在被处理之前执行退出动画（或其他一些视觉效果）。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 此方法应调用 [didComplete] 来解析 [popped] future（这是默认实现所做的全部）；路由不应等待其退出动画完成后再执行此操作。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 有关 `result` 参数的讨论，请参见 [popped]、[didComplete] 和 [currentResult]。</span>
  <span class="token metadata function">@mustCallSuper</span>
  bool <span class="token function">didPop</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token operator">?</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">didComplete</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 路由被弹出或以某种方式优雅地移除。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 这是由 [didPop] 调用的，并响应 [NavigatorState.pushReplacement]。如果没有调用 [didPop]，</span>
  <span class="token comment">/// 那么必须立即调用 [NavigatorState.finalizeRoute] 方法，并且不会运行退出动画。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 这个方法完成了 [popped] future。`result` 参数指定了完成这个 future 的值，</span>
  <span class="token comment">/// 除非它为 null，在这种情况下使用 [currentResult]。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 这应该在弹出动画（如果有的话）发生之前调用，尽管在某些情况下动画可能由用户在路由</span>
  <span class="token comment">/// 被提交弹出之前驱动；这特别可能发生在 iOS 风格的返回手势中。参见 [NavigatorState.didStartUserGesture]。</span>
  <span class="token metadata function">@protected</span>
  <span class="token metadata function">@mustCallSuper</span>
  <span class="token keyword">void</span> <span class="token function">didComplete</span><span class="token punctuation">(</span><span class="token class-name">T</span><span class="token operator">?</span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _popCompleter<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span>result <span class="token operator">?</span><span class="token operator">?</span> currentResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 给定的路由已经从导航器中弹出。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 这个路由现在是当前路由（[isCurrent] 现在为 true），并且没有下一个路由。</span>
  <span class="token metadata function">@protected</span>
  <span class="token metadata function">@mustCallSuper</span>
  <span class="token keyword">void</span> <span class="token function">didPopNext</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> nextRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// 此路由的下一个路由已更改为给定的新路由。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 只要此路由在历史记录中，每当下一个路由因任何原因更改时，都会调用此方法，</span>
  <span class="token comment">/// 包括当路由首次添加到 [Navigator] 时（例如通过 [Navigator.push]），</span>
  <span class="token comment">/// 除了 [didPopNext] 会被调用的情况。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果没有新的下一个路由（即如果 [isCurrent] 为 true），则 `nextRoute` 参数将为 null。</span>
  <span class="token metadata function">@protected</span>
  <span class="token metadata function">@mustCallSuper</span>
  <span class="token keyword">void</span> <span class="token function">didChangeNext</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> nextRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// 此路由的前一个路由已更改为给定的新路由。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 只要此路由在历史记录中，每当前一个路由因任何原因更改时，都会调用此方法，</span>
  <span class="token comment">/// 除了在路由本身被推送之后立即调用的情况（在这种情况下，将调用 [didPush] 或 [didReplace]）。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果没有前一个路由（即如果 [isFirst] 为 true），则 `previousRoute` 参数将为 null。</span>
  <span class="token metadata function">@protected</span>
  <span class="token metadata function">@mustCallSuper</span>
  <span class="token keyword">void</span> <span class="token function">didChangePrevious</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> previousRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// 每当路由的内部状态发生变化时调用。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 每当 [willHandlePopInternally]、[didPop]、[ModalRoute.offstage] 或其他路由的内部状态变化时，都应该调用此方法。</span>
  <span class="token comment">/// 例如，[ModalRoute] 使用它通过其继承的小部件向路由的任何子级报告新信息。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 另请参见:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [changedExternalState]，当 [Navigator] 以某种方式更新可能影响路由时调用。</span>
  <span class="token metadata function">@protected</span>
  <span class="token metadata function">@mustCallSuper</span>
  <span class="token keyword">void</span> <span class="token function">changedInternalState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// 每当 [Navigator] 以某种方式更新可能影响路由时调用，以指示路由可能也需要重建。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 每当 [Navigator] 的 [NavigatorState] 的 [State.widget] 发生变化时（如在 [State.didUpdateWidget] 中），</span>
  <span class="token comment">/// 例如因为 [MaterialApp] 被重建时，都会调用此方法。这确保了直接引用构建 [MaterialApp] 的小部件状态的路由</span>
  <span class="token comment">/// 在该小部件重建时会收到通知，因为否则很难通知这些路由它们依赖的状态可能已更改。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 每当 [Navigator] 的依赖项发生变化时（如在 [State.didChangeDependencies] 中），也会调用此方法。</span>
  <span class="token comment">/// 这允许路由使用 [Navigator] 的上下文（[NavigatorState.context]），例如在 [ModalRoute.barrierColor] 中，并相应地更新。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// [ModalRoute] 子类重写此方法以强制 屏障覆盖 重建。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 另请参见:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [changedInternalState]，用于路由内部状态变化的等效方法。</span>
  <span class="token metadata function">@protected</span>
  <span class="token metadata function">@mustCallSuper</span>
  <span class="token keyword">void</span> <span class="token function">changedExternalState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// 丢弃对象使用的任何资源。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 此方法不应从 [Overlay] 中移除其 [overlayEntries]。对象的所有者负责执行此操作。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 调用此方法后，对象处于不可用状态，应被丢弃。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 此方法应仅由对象的所有者调用；通常 [Navigator] 拥有一个路由，因此在路由被移除时会调用此方法，之后路由将不再被导航器引用。</span>
  <span class="token metadata function">@mustCallSuper</span>
  <span class="token metadata function">@protected</span>
  <span class="token keyword">void</span> <span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    _navigator <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    _restorationScopeId<span class="token punctuation">.</span><span class="token function">dispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    _disposeCompleter<span class="token punctuation">.</span><span class="token function">complete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>kFlutterMemoryAllocationsEnabled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">FlutterMemoryAllocations</span><span class="token punctuation">.</span>instance<span class="token punctuation">.</span><span class="token function">dispatchObjectDisposed</span><span class="token punctuation">(</span>object<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 此路由是否是导航器上的最顶层路由。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果此值为 true，则 [isActive] 也为 true。</span>
  bool <span class="token keyword">get</span> isCurrent <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">final</span> _RouteEntry<span class="token operator">?</span> currentRouteEntry <span class="token operator">=</span> _navigator<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">_lastRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentRouteEntry <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> currentRouteEntry<span class="token punctuation">.</span>route <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 此路由是否是导航器上的最底层活动路由。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果 [isFirst] 和 [isCurrent] 都为 true，那么这是导航器上唯一的路由（并且 [isActive] 也会为 true）。</span>
  bool <span class="token keyword">get</span> isFirst <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">final</span> _RouteEntry<span class="token operator">?</span> currentRouteEntry <span class="token operator">=</span> _navigator<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">_firstRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span>isPresentPredicate<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>currentRouteEntry <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> currentRouteEntry<span class="token punctuation">.</span>route <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 是否在此路由下至少有一个活跃路由。</span>
  <span class="token metadata function">@protected</span>
  bool <span class="token keyword">get</span> hasActiveRouteBelow <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> _RouteEntry entry <span class="token keyword">in</span> _navigator<span class="token operator">!</span><span class="token punctuation">.</span>_history<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span>route <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span><span class="token function">isPresentPredicate</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 此路由是否在导航器上。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果路由不仅是活动的，而且是当前路由（最顶层的路由），那么 [isCurrent] 也会为 true。如果它是第一个路由（最底层的路由），那么 [isFirst] 也会为 true。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果更高的路由完全不透明，那么该路由将是活动的但不会被渲染。甚至有可能路由是活动的，但路由内的有状态小部件没有被实例化。参见 [ModalRoute.maintainState]。</span>
  bool <span class="token keyword">get</span> isActive <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>_navigator <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> _navigator<span class="token operator">!</span><span class="token punctuation">.</span><span class="token function">_firstRouteEntryWhereOrNull</span><span class="token punctuation">(</span>_RouteEntry<span class="token punctuation">.</span><span class="token function">isRoutePredicate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">?</span><span class="token punctuation">.</span>isPresent <span class="token operator">?</span><span class="token operator">?</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br><span class="line-number">175</span><br><span class="line-number">176</span><br><span class="line-number">177</span><br><span class="line-number">178</span><br><span class="line-number">179</span><br><span class="line-number">180</span><br><span class="line-number">181</span><br><span class="line-number">182</span><br><span class="line-number">183</span><br><span class="line-number">184</span><br><span class="line-number">185</span><br><span class="line-number">186</span><br><span class="line-number">187</span><br><span class="line-number">188</span><br><span class="line-number">189</span><br><span class="line-number">190</span><br><span class="line-number">191</span><br><span class="line-number">192</span><br><span class="line-number">193</span><br><span class="line-number">194</span><br><span class="line-number">195</span><br><span class="line-number">196</span><br><span class="line-number">197</span><br><span class="line-number">198</span><br><span class="line-number">199</span><br><span class="line-number">200</span><br><span class="line-number">201</span><br><span class="line-number">202</span><br><span class="line-number">203</span><br><span class="line-number">204</span><br><span class="line-number">205</span><br><span class="line-number">206</span><br><span class="line-number">207</span><br><span class="line-number">208</span><br><span class="line-number">209</span><br><span class="line-number">210</span><br><span class="line-number">211</span><br><span class="line-number">212</span><br><span class="line-number">213</span><br><span class="line-number">214</span><br><span class="line-number">215</span><br><span class="line-number">216</span><br><span class="line-number">217</span><br><span class="line-number">218</span><br><span class="line-number">219</span><br><span class="line-number">220</span><br><span class="line-number">221</span><br><span class="line-number">222</span><br><span class="line-number">223</span><br><span class="line-number">224</span><br><span class="line-number">225</span><br><span class="line-number">226</span><br><span class="line-number">227</span><br><span class="line-number">228</span><br><span class="line-number">229</span><br><span class="line-number">230</span><br><span class="line-number">231</span><br><span class="line-number">232</span><br><span class="line-number">233</span><br><span class="line-number">234</span><br><span class="line-number">235</span><br><span class="line-number">236</span><br><span class="line-number">237</span><br><span class="line-number">238</span><br><span class="line-number">239</span><br><span class="line-number">240</span><br><span class="line-number">241</span><br><span class="line-number">242</span><br><span class="line-number">243</span><br><span class="line-number">244</span><br><span class="line-number">245</span><br><span class="line-number">246</span><br><span class="line-number">247</span><br><span class="line-number">248</span><br><span class="line-number">249</span><br><span class="line-number">250</span><br><span class="line-number">251</span><br><span class="line-number">252</span><br><span class="line-number">253</span><br><span class="line-number">254</span><br><span class="line-number">255</span><br><span class="line-number">256</span><br><span class="line-number">257</span><br><span class="line-number">258</span><br><span class="line-number">259</span><br><span class="line-number">260</span><br><span class="line-number">261</span><br><span class="line-number">262</span><br><span class="line-number">263</span><br><span class="line-number">264</span><br><span class="line-number">265</span><br><span class="line-number">266</span><br><span class="line-number">267</span><br><span class="line-number">268</span><br><span class="line-number">269</span><br><span class="line-number">270</span><br><span class="line-number">271</span><br><span class="line-number">272</span><br><span class="line-number">273</span><br><span class="line-number">274</span><br><span class="line-number">275</span><br><span class="line-number">276</span><br><span class="line-number">277</span><br><span class="line-number">278</span><br><span class="line-number">279</span><br><span class="line-number">280</span><br><span class="line-number">281</span><br><span class="line-number">282</span><br><span class="line-number">283</span><br><span class="line-number">284</span><br><span class="line-number">285</span><br><span class="line-number">286</span><br><span class="line-number">287</span><br><span class="line-number">288</span><br><span class="line-number">289</span><br><span class="line-number">290</span><br><span class="line-number">291</span><br><span class="line-number">292</span><br><span class="line-number">293</span><br><span class="line-number">294</span><br><span class="line-number">295</span><br><span class="line-number">296</span><br><span class="line-number">297</span><br><span class="line-number">298</span><br><span class="line-number">299</span><br><span class="line-number">300</span><br><span class="line-number">301</span><br><span class="line-number">302</span><br><span class="line-number">303</span><br><span class="line-number">304</span><br><span class="line-number">305</span><br><span class="line-number">306</span><br><span class="line-number">307</span><br><span class="line-number">308</span><br><span class="line-number">309</span><br><span class="line-number">310</span><br><span class="line-number">311</span><br><span class="line-number">312</span><br><span class="line-number">313</span><br><span class="line-number">314</span><br><span class="line-number">315</span><br><span class="line-number">316</span><br><span class="line-number">317</span><br><span class="line-number">318</span><br><span class="line-number">319</span><br><span class="line-number">320</span><br><span class="line-number">321</span><br><span class="line-number">322</span><br><span class="line-number">323</span><br><span class="line-number">324</span><br><span class="line-number">325</span><br><span class="line-number">326</span><br><span class="line-number">327</span><br><span class="line-number">328</span><br><span class="line-number">329</span><br><span class="line-number">330</span><br><span class="line-number">331</span><br><span class="line-number">332</span><br><span class="line-number">333</span><br><span class="line-number">334</span><br><span class="line-number">335</span><br><span class="line-number">336</span><br><span class="line-number">337</span><br><span class="line-number">338</span><br><span class="line-number">339</span><br><span class="line-number">340</span><br><span class="line-number">341</span><br><span class="line-number">342</span><br><span class="line-number">343</span><br><span class="line-number">344</span><br><span class="line-number">345</span><br><span class="line-number">346</span><br><span class="line-number">347</span><br><span class="line-number">348</span><br><span class="line-number">349</span><br><span class="line-number">350</span><br><span class="line-number">351</span><br><span class="line-number">352</span><br><span class="line-number">353</span><br><span class="line-number">354</span><br><span class="line-number">355</span><br><span class="line-number">356</span><br><span class="line-number">357</span><br><span class="line-number">358</span><br><span class="line-number">359</span><br><span class="line-number">360</span><br><span class="line-number">361</span><br><span class="line-number">362</span><br><span class="line-number">363</span><br><span class="line-number">364</span><br><span class="line-number">365</span><br><span class="line-number">366</span><br><span class="line-number">367</span><br></div></div><h2 id="routesettings"><a href="#routesettings" class="header-anchor">#</a> RouteSettings</h2> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">/// Data that might be useful in constructing a [Route].</span>
<span class="token metadata function">@immutable</span>
<span class="token keyword">class</span> <span class="token class-name">RouteSettings</span> <span class="token punctuation">{</span>
  <span class="token comment">/// Creates data used to construct routes.</span>
  <span class="token keyword">const</span> <span class="token class-name">RouteSettings</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>arguments<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// The name of the route (e.g., &quot;/settings&quot;).</span>
  <span class="token comment">///</span>
  <span class="token comment">/// If null, the route is anonymous.</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> name<span class="token punctuation">;</span>

  <span class="token comment">/// The arguments passed to this route.</span>
  <span class="token comment">///</span>
  <span class="token comment">/// May be used when building the route, e.g. in [Navigator.onGenerateRoute].</span>
  <span class="token keyword">final</span> <span class="token class-name">Object</span><span class="token operator">?</span> arguments<span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string-literal"><span class="token string">'${objectRuntimeType(this, '</span></span><span class="token class-name">RouteSettings</span><span class="token string-literal"><span class="token string">')}(${name == null ? '</span></span>none<span class="token string-literal"><span class="token string">' : '</span></span><span class="token string-literal"><span class="token string">&quot;</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">name</span></span><span class="token string">&quot;</span></span><span class="token string-literal"><span class="token string">'}, </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">arguments</span></span><span class="token string">)'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h2 id="page"><a href="#page" class="header-anchor">#</a> Page</h2> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">/// 描述 [Route] 的配置。</span>
<span class="token comment">///</span>
<span class="token comment">/// 类型参数 `T` 是相应 [Route] 的返回类型，由 [Route.currentResult]、[Route.popped] 和 [Route.didPop] 使用。</span>
<span class="token comment">///</span>
<span class="token comment">/// 另请参见:</span>
<span class="token comment">///</span>
<span class="token comment">///  * [Navigator.pages]，它接受一个 [Page] 列表并更新其路由历史记录。</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">extends</span> <span class="token class-name">RouteSettings</span> <span class="token punctuation">{</span>
  <span class="token comment">/// Creates a page and initializes [key] for subclasses.</span>
  <span class="token keyword">const</span> <span class="token class-name">Page</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>key<span class="token punctuation">,</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>arguments<span class="token punctuation">,</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>restorationId<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// 与此页面关联的键。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 此键将用于在 [canUpdate] 中比较页面。</span>
  <span class="token keyword">final</span> <span class="token class-name">LocalKey</span><span class="token operator">?</span> key<span class="token punctuation">;</span>

  <span class="token comment">/// 用于保存和恢复此页面配置的 [Route] 状态的恢复 ID。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果未提供恢复 ID，则 [Route] 将不会恢复其状态。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 另请参见:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [RestorationManager]，它解释了 Flutter 中状态恢复的工作原理。</span>
  <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token operator">?</span> restorationId<span class="token punctuation">;</span>

  <span class="token comment">/// 此页面是否可以使用 [other] 页面进行更新。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果两个页面具有相同的 [runtimeType] 和 [key]，则它们被认为是可更新的。</span>
  bool <span class="token function">canUpdate</span><span class="token punctuation">(</span><span class="token class-name">Page</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> other<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> other<span class="token punctuation">.</span>runtimeType <span class="token operator">==</span> runtimeType <span class="token operator">&amp;&amp;</span>
           other<span class="token punctuation">.</span>key <span class="token operator">==</span> key<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 创建与此页面对应的 [Route]。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 创建的 [Route] 必须将其 [Route.settings] 属性设置为此 [Page]。</span>
  <span class="token metadata function">@factory</span>
  <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">createRoute</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token metadata function">@override</span>
  <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token string-literal"><span class="token string">'${objectRuntimeType(this, '</span></span><span class="token class-name">Page</span><span class="token string-literal"><span class="token string">')}(&quot;</span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">name</span></span><span class="token string">&quot;, </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">key</span></span><span class="token string">, </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">arguments</span></span><span class="token string">)'</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h2 id="navigatorobserver"><a href="#navigatorobserver" class="header-anchor">#</a> NavigatorObserver</h2> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code>```dart
<span class="token comment">/// 观察 [Navigator] 行为的接口。</span>
<span class="token keyword">class</span> <span class="token class-name">NavigatorObserver</span> <span class="token punctuation">{</span>
  <span class="token comment">/// 观察者正在观察的导航器（如果有的话）。</span>
  <span class="token class-name">NavigatorState</span><span class="token operator">?</span> <span class="token keyword">get</span> navigator <span class="token operator">=</span><span class="token operator">&gt;</span> _navigators<span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

  <span class="token comment">// 使用 Expando 将 NavigatorObserver 实例映射到其关联的 NavigatorState（如果没有关联的 NavigatorState，则为 `null`）。</span>
  <span class="token comment">// 我们不使用类型为 `NavigatorState?` 的私有实例字段的原因是，因为在实现 https://github.com/dart-lang/language/issues/2020 的过程中，</span>
  <span class="token comment">// 调用在另一个库中模拟的私有成员将很快成为运行时错误。通过使用 Expando 而不是实例字段，我们确保模拟的 NavigatorObserver 仍然可以正确跟踪其关联的 NavigatorState。</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Expando</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorState</span><span class="token punctuation">&gt;</span></span> _navigators <span class="token operator">=</span> <span class="token class-name">Expando</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">NavigatorState</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// [Navigator] 推送了 `route`。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 紧接在其下方的路由，即先前活动的路由，是 `previousRoute`。</span>
  <span class="token keyword">void</span> <span class="token function">didPush</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> previousRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// [Navigator] 弹出了 `route`。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 紧接在其下方的路由，即新活动的路由，是 `previousRoute`。</span>
  <span class="token keyword">void</span> <span class="token function">didPop</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> previousRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// [Navigator] 移除了 `route`。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果只移除一个路由，那么紧接在其下方的路由（如果有的话）是 `previousRoute`。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果移除多个路由，那么在最底层被移除的路由下方的路由（如果有的话）是 `previousRoute`，</span>
  <span class="token comment">/// 并且此方法将为每个被移除的路由调用一次，从最顶层的路由到最底层的路由。</span>
  <span class="token keyword">void</span> <span class="token function">didRemove</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> previousRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// [Navigator] 用 `newRoute` 替换了 `oldRoute`。</span>
  <span class="token keyword">void</span> <span class="token function">didReplace</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> newRoute<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> oldRoute <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// 用户手势正在移动 [Navigator] 的路由。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 例如，当 iOS 返回手势开始时会调用此方法，并用于在此类交互期间禁用Hero动画。</span>
  <span class="token keyword">void</span> <span class="token function">didStartUserGesture</span><span class="token punctuation">(</span><span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> route<span class="token punctuation">,</span> <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span><span class="token operator">?</span> previousRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

  <span class="token comment">/// 用户手势不再控制 [Navigator]。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 与之前调用的 [didStartUserGesture] 配对。</span>
  <span class="token keyword">void</span> <span class="token function">didStopUserGesture</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="herocontrollerscope"><a href="#herocontrollerscope" class="header-anchor">#</a> HeroControllerScope</h2> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">/// 一个继承的小部件，用于托管Hero控制器。</span>
<span class="token comment">///</span>
<span class="token comment">/// 托管的Hero控制器将被导航器在[child]子树中拾取。一旦导航器拾取了这个控制器，导航器将禁止其子树下的任何导航器接收这个控制器。</span>
<span class="token comment">///</span>
<span class="token comment">/// [HeroControllerScope]中的Hero控制器一次只能订阅一个导航器。如果Hero控制器订阅了多个导航器，将抛出断言。这可能发生在同一个[HeroControllerScope]下有多个并行导航器时。</span>
<span class="token keyword">class</span> <span class="token class-name">HeroControllerScope</span> <span class="token keyword">extends</span> <span class="token class-name">InheritedWidget</span> <span class="token punctuation">{</span>
  <span class="token comment">/// 创建一个小部件来托管输入的[controller]。</span>
  <span class="token keyword">const</span> <span class="token class-name">HeroControllerScope</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>key<span class="token punctuation">,</span>
    required <span class="token class-name">HeroController</span> <span class="token keyword">this</span><span class="token punctuation">.</span>controller<span class="token punctuation">,</span>
    required <span class="token keyword">super</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// 创建一个小部件以防止子树接收上方的Hero控制器。</span>
  <span class="token keyword">const</span> <span class="token class-name">HeroControllerScope</span><span class="token punctuation">.</span><span class="token function">none</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">.</span>key<span class="token punctuation">,</span>
    required <span class="token keyword">super</span><span class="token punctuation">.</span>child<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> controller <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

  <span class="token comment">/// 托管在此小部件内的Hero控制器。</span>
  <span class="token keyword">final</span> <span class="token class-name">HeroController</span><span class="token operator">?</span> controller<span class="token punctuation">;</span>

  <span class="token comment">/// 从最近的[HeroControllerScope]祖先中检索[HeroController]，如果不存在则返回null。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 调用此方法将在[context]中创建对最近的[HeroControllerScope]的依赖（如果存在）。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 另请参见:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// * [HeroControllerScope.of]，类似于此方法，但如果没有找到[HeroControllerScope]祖先，则会断言。</span>
  <span class="token keyword">static</span> <span class="token class-name">HeroController</span><span class="token operator">?</span> <span class="token function">maybeOf</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">HeroControllerScope</span><span class="token operator">?</span> host <span class="token operator">=</span> context<span class="token punctuation">.</span>dependOnInheritedWidgetOfExactType<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HeroControllerScope</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> host<span class="token operator">?</span><span class="token punctuation">.</span>controller<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 从最近的[HeroControllerScope]祖先中检索[HeroController]。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果没有找到祖先，此方法将在调试模式下断言，并在发布模式下抛出异常。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 调用此方法将在[context]中创建对最近的[HeroControllerScope]的依赖。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 另请参见:</span>
  <span class="token comment">///</span>
  <span class="token comment">/// * [HeroControllerScope.maybeOf]，类似于此方法，但如果没有找到[HeroControllerScope]祖先，则返回null。</span>
  <span class="token keyword">static</span> <span class="token class-name">HeroController</span> <span class="token function">of</span><span class="token punctuation">(</span><span class="token class-name">BuildContext</span> context<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">HeroController</span><span class="token operator">?</span> controller <span class="token operator">=</span> <span class="token function">maybeOf</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>controller <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token class-name">FlutterError</span><span class="token punctuation">(</span>
          <span class="token string-literal"><span class="token string">'HeroControllerScope.of() 被调用时，传入的上下文中不包含 HeroControllerScope 小部件。\n'</span></span>
          <span class="token string-literal"><span class="token string">'从传递给 HeroControllerScope.of() 的上下文开始，找不到 HeroControllerScope 小部件祖先。这可能是因为您使用了一个查找 HeroControllerScope 祖先的小部件，但没有这样的祖先存在。\n'</span></span>
          <span class="token string-literal"><span class="token string">'使用的上下文是:\n'</span></span>
          <span class="token string-literal"><span class="token string">'  </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">context</span></span><span class="token string">'</span></span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> controller<span class="token operator">!</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token metadata function">@override</span>
  bool <span class="token function">updateShouldNotify</span><span class="token punctuation">(</span><span class="token class-name">HeroControllerScope</span> oldWidget<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> oldWidget<span class="token punctuation">.</span>controller <span class="token operator">!=</span> controller<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><h2 id="routetransitionrecord"><a href="#routetransitionrecord" class="header-anchor">#</a> RouteTransitionRecord</h2> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">/// 一个 [Route] 包装接口，可以由 [TransitionDelegate] 决定其底层 [Route] 如何过渡到屏幕上或屏幕外。</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">RouteTransitionRecord</span> <span class="token punctuation">{</span>
  <span class="token comment">/// 获取包装的 [Route]。</span>
  <span class="token class-name">Route</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token keyword">dynamic</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">get</span> route<span class="token punctuation">;</span>

  <span class="token comment">/// 此路由是否正在等待进入屏幕的决策。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果此属性为 true，则此路由需要明确决定如何过渡到屏幕上。此类决策应在</span>
  <span class="token comment">/// [TransitionDelegate.resolve] 中做出。</span>
  bool <span class="token keyword">get</span> isWaitingForEnteringDecision<span class="token punctuation">;</span>

  <span class="token comment">/// 此路由是否正在等待退出屏幕的决策。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 如果此属性为 true，则此路由需要明确决定如何过渡到屏幕外。此类决策应在</span>
  <span class="token comment">/// [TransitionDelegate.resolve] 中做出。</span>
  bool <span class="token keyword">get</span> isWaitingForExitingDecision<span class="token punctuation">;</span>

  <span class="token comment">/// 标记 [route] 以进行过渡推送。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 在 [TransitionDelegate.resolve] 期间，可以在进入路由（[RouteTransitionRecord.isWaitingForEnteringDecision] 为 true）上调用此方法，以指示该路由应通过动画过渡推送到 [Navigator]。</span>
  <span class="token keyword">void</span> <span class="token function">markForPush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// 标记 [route] 以在没有过渡的情况下添加。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 在 [TransitionDelegate.resolve] 期间，可以在进入路由（[RouteTransitionRecord.isWaitingForEnteringDecision] 为 true）上调用此方法，以指示该路由应在没有动画过渡的情况下添加到 [Navigator]。</span>
  <span class="token keyword">void</span> <span class="token function">markForAdd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// 标记 [route] 以进行过渡弹出。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 在 [TransitionDelegate.resolve] 期间，可以在退出路由上调用此方法，以指示该路由应通过动画过渡从 [Navigator] 弹出。</span>
  <span class="token keyword">void</span> <span class="token function">markForPop</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">dynamic</span> result<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// 标记 [route] 以在没有过渡的情况下完成。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 在 [TransitionDelegate.resolve] 期间，可以在退出路由上调用此方法，以指示该路由应使用提供的结果完成并从 [Navigator] 中移除，而无需动画过渡。</span>
  <span class="token keyword">void</span> <span class="token function">markForComplete</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">dynamic</span> result<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">/// 标记 [route] 以在没有过渡的情况下移除。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 在 [TransitionDelegate.resolve] 期间，可以在退出路由上调用此方法，以指示该路由应从 [Navigator] 中移除，而无需完成并且没有动画过渡。</span>
  <span class="token keyword">void</span> <span class="token function">markForRemove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><h2 id="transitiondelegate"><a href="#transitiondelegate" class="header-anchor">#</a> TransitionDelegate</h2> <div class="language-dart line-numbers-mode"><pre class="language-dart"><code><span class="token comment">/// 决定从 [Navigator.pages] 添加和移除的页面如何在屏幕上或屏幕外过渡的委托。</span>
<span class="token comment">///</span>
<span class="token comment">/// 当 [Navigator] 需要明确决定路由如何在屏幕上或屏幕外过渡时，此抽象类实现了要调用的 API。</span>
<span class="token comment">///</span>
<span class="token comment">/// 要做出路由过渡决策，子类必须实现 [resolve]。</span>
<span class="token comment">///</span>
<span class="token comment">/// {@tool snippet}</span>
<span class="token comment">/// 以下示例演示了如何实现一个子类，该子类始终在没有动画过渡的情况下添加或移除路由，并将移除的路由放在列表顶部。</span>
<span class="token comment">///</span>
<span class="token comment">/// ```dart</span>
<span class="token comment">/// class NoAnimationTransitionDelegate extends TransitionDelegate&lt;void&gt; {</span>
<span class="token comment">///   @override</span>
<span class="token comment">///   Iterable&lt;RouteTransitionRecord&gt; resolve({</span>
<span class="token comment">///     required List&lt;RouteTransitionRecord&gt; newPageRouteHistory,</span>
<span class="token comment">///     required Map&lt;RouteTransitionRecord?, RouteTransitionRecord&gt; locationToExitingPageRoute,</span>
<span class="token comment">///     required Map&lt;RouteTransitionRecord?, List&lt;RouteTransitionRecord&gt;&gt; pageRouteToPagelessRoutes,</span>
<span class="token comment">///   }) {</span>
<span class="token comment">///     final List&lt;RouteTransitionRecord&gt; results = &lt;RouteTransitionRecord&gt;[];</span>
<span class="token comment">///</span>
<span class="token comment">///     for (final RouteTransitionRecord pageRoute in newPageRouteHistory) {</span>
<span class="token comment">///       if (pageRoute.isWaitingForEnteringDecision) {</span>
<span class="token comment">///         pageRoute.markForAdd();</span>
<span class="token comment">///       }</span>
<span class="token comment">///       results.add(pageRoute);</span>
<span class="token comment">///</span>
<span class="token comment">///     }</span>
<span class="token comment">///     for (final RouteTransitionRecord exitingPageRoute in locationToExitingPageRoute.values) {</span>
<span class="token comment">///       if (exitingPageRoute.isWaitingForExitingDecision) {</span>
<span class="token comment">///        exitingPageRoute.markForRemove();</span>
<span class="token comment">///        final List&lt;RouteTransitionRecord&gt;? pagelessRoutes = pageRouteToPagelessRoutes[exitingPageRoute];</span>
<span class="token comment">///        if (pagelessRoutes != null) {</span>
<span class="token comment">///          for (final RouteTransitionRecord pagelessRoute in pagelessRoutes) {</span>
<span class="token comment">///             pagelessRoute.markForRemove();</span>
<span class="token comment">///           }</span>
<span class="token comment">///        }</span>
<span class="token comment">///       }</span>
<span class="token comment">///       results.add(exitingPageRoute);</span>
<span class="token comment">///</span>
<span class="token comment">///     }</span>
<span class="token comment">///     return results;</span>
<span class="token comment">///   }</span>
<span class="token comment">/// }</span>
<span class="token comment">///</span>
<span class="token comment">/// ```</span>
<span class="token comment">/// {@end-tool}</span>
<span class="token comment">///</span>
<span class="token comment">/// 另请参见:</span>
<span class="token comment">///</span>
<span class="token comment">///  * [Navigator.transitionDelegate]，它使用此类来做出路由过渡决策。</span>
<span class="token comment">///  * [DefaultTransitionDelegate]，它实现了决定路由如何在屏幕上或屏幕外过渡的默认方式。</span>
<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">TransitionDelegate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token comment">/// 创建一个委托并使子类能够创建一个常量类。</span>
  <span class="token keyword">const</span> <span class="token class-name">TransitionDelegate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> <span class="token function">_transition</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    required <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> newPageRouteHistory<span class="token punctuation">,</span>
    required <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> locationToExitingPageRoute<span class="token punctuation">,</span>
    required <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> pageRouteToPagelessRoutes<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> results <span class="token operator">=</span> <span class="token function">resolve</span><span class="token punctuation">(</span>
      newPageRouteHistory<span class="token punctuation">:</span> newPageRouteHistory<span class="token punctuation">,</span>
      locationToExitingPageRoute<span class="token punctuation">:</span> locationToExitingPageRoute<span class="token punctuation">,</span>
      pageRouteToPagelessRoutes<span class="token punctuation">:</span> pageRouteToPagelessRoutes<span class="token punctuation">,</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// 在做出决策后验证完整性。</span>
    <span class="token comment">//</span>
    <span class="token comment">// 规则如下：</span>
    <span class="token comment">// - newPageRouteHistory 中的所有进入路由必须被推送或添加。</span>
    <span class="token comment">// - locationToExitingPageRoute 中的所有退出路由必须被弹出、完成或移除。</span>
    <span class="token comment">// - 属于退出路由的所有无页面路由必须被弹出、完成或移除。</span>
    <span class="token comment">// - 结果中的所有进入路由必须保持与 newPageRouteHistory 中的进入路由相同的顺序，并且结果必须包含所有退出路由。</span>
    <span class="token comment">//     例如:</span>
    <span class="token comment">//</span>
    <span class="token comment">//     newPageRouteHistory = [A, B, C]</span>
    <span class="token comment">//</span>
    <span class="token comment">//     locationToExitingPageRoute = {A -&gt; D, C -&gt; E}</span>
    <span class="token comment">//</span>
    <span class="token comment">//     results = [A, B ,C ,D ,E] 是有效的</span>
    <span class="token comment">//     results = [D, A, B ,C ,E] 也是有效的，因为退出路由可以插入到任何地方</span>
    <span class="token comment">//</span>
    <span class="token comment">//     results = [B, A, C ,D ,E] 是无效的，因为 B 必须在 A 之后。</span>
    <span class="token comment">//     results = [A, B, C ,E] 是无效的，因为结果必须包含 D。</span>
    <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> resultsToVerify <span class="token operator">=</span> results<span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span>growable<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">final</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> exitingPageRoutes <span class="token operator">=</span> locationToExitingPageRoute<span class="token punctuation">.</span>values<span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token comment">// 首先，验证所有退出路由都已标记。</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">RouteTransitionRecord</span> exitingPageRoute <span class="token keyword">in</span> exitingPageRoutes<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>exitingPageRoute<span class="token punctuation">.</span>isWaitingForExitingDecision<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>pageRouteToPagelessRoutes<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span>exitingPageRoute<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token class-name">RouteTransitionRecord</span> pagelessRoute <span class="token keyword">in</span> pageRouteToPagelessRoutes<span class="token punctuation">[</span>exitingPageRoute<span class="token punctuation">]</span><span class="token operator">!</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>pagelessRoute<span class="token punctuation">.</span>isWaitingForExitingDecision<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token comment">// 其次，验证结果的顺序与 newPageRouteHistory 匹配并包含所有退出路由。</span>
      int indexOfNextRouteInNewHistory <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">final</span> _RouteEntry routeEntry <span class="token keyword">in</span> resultsToVerify<span class="token punctuation">.</span>cast<span class="token generics"><span class="token punctuation">&lt;</span>_RouteEntry<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">assert</span><span class="token punctuation">(</span><span class="token operator">!</span>routeEntry<span class="token punctuation">.</span>isWaitingForEnteringDecision <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>routeEntry<span class="token punctuation">.</span>isWaitingForExitingDecision<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>
          indexOfNextRouteInNewHistory <span class="token operator">&gt;=</span> newPageRouteHistory<span class="token punctuation">.</span>length <span class="token operator">||</span>
          routeEntry <span class="token operator">!=</span> newPageRouteHistory<span class="token punctuation">[</span>indexOfNextRouteInNewHistory<span class="token punctuation">]</span>
        <span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">assert</span><span class="token punctuation">(</span>exitingPageRoutes<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>routeEntry<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          exitingPageRoutes<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>routeEntry<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          indexOfNextRouteInNewHistory <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">assert</span><span class="token punctuation">(</span>
        indexOfNextRouteInNewHistory <span class="token operator">==</span> newPageRouteHistory<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span>
        exitingPageRoutes<span class="token punctuation">.</span>isEmpty<span class="token punctuation">,</span>
        <span class="token string-literal"><span class="token string">'从 </span><span class="token interpolation"><span class="token punctuation">$</span><span class="token expression">runtimeType</span></span><span class="token string">.resolve 合并的结果不包含所有必需的路由。你是否记得合并所有退出路由？'</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> results<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token comment">/// 当 [Navigator.pages] 更新时，[Navigator] 将调用此方法来决定路由如何在屏幕上或屏幕外过渡。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// `newPageRouteHistory` 列表包含更新完成后将位于 [Navigator] 历史堆栈中的所有基于页面的路由。如果 `newPageRouteHistory` 中的路由具有其 [RouteTransitionRecord.isWaitingForEnteringDecision] 设置为 true，则此路由需要明确决定如何过渡到 Navigator。要做出决定，请调用 [RouteTransitionRecord.markForPush] 或 [RouteTransitionRecord.markForAdd]。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// `locationToExitingPageRoute` 包含在页面更新后从路由历史记录中移除的基于页面的路由。此映射记录了要移除的基于页面的路由及其在更新前的原始路由历史记录中的位置。键是表示位于移除路由正下方的基于页面的路由的位置，值是要移除的基于页面的路由。如果要移除的路由是最底层的路由，则位置为 null。如果 `locationToExitingPageRoute` 中的路由具有其 [RouteTransitionRecord.isWaitingForExitingDecision] 设置为 true，则此路由需要明确决定如何从 Navigator 过渡。要为移除的路由做出决定，请调用 [RouteTransitionRecord.markForPop]、[RouteTransitionRecord.markForComplete] 或 [RouteTransitionRecord.markForRemove]。可能不需要对 `locationToExitingPageRoute` 中的路由做出决定。这种情况可能发生在路由在早期页面更新中已经被弹出并且仍在等待弹出动画完成的情况下。在这种情况下，这些路由仍包含在 `locationToExitingPageRoute` 中，其 [RouteTransitionRecord.isWaitingForExitingDecision] 设置为 false，并且不需要做出决定。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// `pageRouteToPagelessRoutes` 记录了基于页面的路由及其关联的无页面路由。如果基于页面的路由正在等待退出决策，则其关联的无页面路由也需要明确决定如何从屏幕上过渡。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 一旦做出了所有决定，此方法必须合并移除的路由（无论是否需要做出决定）和 `newPageRouteHistory` 并返回合并结果。结果中的顺序将是 [Navigator] 用于更新路由历史记录的顺序。返回列表必须保持 `newPageRouteHistory` 中路由的相同顺序。然而，移除的路由可以自由插入到返回列表中，只要包含所有移除的路由即可。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 例如，考虑以下情况。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// `newPageRouteHistory = [A, B, C]`</span>
  <span class="token comment">///</span>
  <span class="token comment">/// `locationToExitingPageRoute = {A -&gt; D, C -&gt; E}`</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 以下输出是有效的。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// `result = [A, B ,C ,D ,E]` 是有效的。</span>
  <span class="token comment">/// `result = [D, A, B ,C ,E]` 也是有效的，因为退出路由可以插入到任何地方。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 以下输出是无效的。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// `result = [B, A, C ,D ,E]` 是无效的，因为 B 必须在 A 之后。</span>
  <span class="token comment">/// `result = [A, B, C ,E]` 是无效的，因为结果必须包含 D。</span>
  <span class="token comment">///</span>
  <span class="token comment">/// 另请参见:</span>
  <span class="token comment">///</span>
  <span class="token comment">///  * [RouteTransitionRecord.markForPush]，使路由通过动画过渡进入屏幕。</span>
  <span class="token comment">///  * [RouteTransitionRecord.markForAdd]，使路由在没有动画过渡的情况下进入屏幕。</span>
  <span class="token comment">///  * [RouteTransitionRecord.markForPop]，使路由通过动画过渡退出屏幕。</span>
  <span class="token comment">///  * [RouteTransitionRecord.markForRemove]，不完成路由并使其在没有动画过渡的情况下退出屏幕。</span>
  <span class="token comment">///  * [RouteTransitionRecord.markForComplete]，完成路由并使其在没有动画过渡的情况下退出屏幕。</span>
  <span class="token comment">///  * [DefaultTransitionDelegate.resolve]，实现了决定路由如何在屏幕上或屏幕外过渡的默认方式。</span>
  <span class="token class-name">Iterable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    required <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> newPageRouteHistory<span class="token punctuation">,</span>
    required <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span></span> locationToExitingPageRoute<span class="token punctuation">,</span>
    required <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token operator">?</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">RouteTransitionRecord</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> pageRouteToPagelessRoutes<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br></div></div><h2 id="navigator"><a href="#navigator" class="header-anchor">#</a> Navigator</h2></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2025/2/5 11:37:21</span></div></footer> <!----> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/fang_blog/blogs/%E7%A7%BB%E5%8A%A8%E7%AB%AF/flutter/%E8%B7%AF%E7%94%B1/flutter%E8%B7%AF%E7%94%B1%E4%B9%8Bnavigator.html#代码分析" class="sidebar-link reco-side-代码分析" data-v-b57cc07c>代码分析</a></li><li class="level-2" data-v-b57cc07c><a href="/fang_blog/blogs/%E7%A7%BB%E5%8A%A8%E7%AB%AF/flutter/%E8%B7%AF%E7%94%B1/flutter%E8%B7%AF%E7%94%B1%E4%B9%8Bnavigator.html#route" class="sidebar-link reco-side-route" data-v-b57cc07c>Route</a></li><li class="level-2" data-v-b57cc07c><a href="/fang_blog/blogs/%E7%A7%BB%E5%8A%A8%E7%AB%AF/flutter/%E8%B7%AF%E7%94%B1/flutter%E8%B7%AF%E7%94%B1%E4%B9%8Bnavigator.html#routesettings" class="sidebar-link reco-side-routesettings" data-v-b57cc07c>RouteSettings</a></li><li class="level-2" data-v-b57cc07c><a href="/fang_blog/blogs/%E7%A7%BB%E5%8A%A8%E7%AB%AF/flutter/%E8%B7%AF%E7%94%B1/flutter%E8%B7%AF%E7%94%B1%E4%B9%8Bnavigator.html#page" class="sidebar-link reco-side-page" data-v-b57cc07c>Page</a></li><li class="level-2" data-v-b57cc07c><a href="/fang_blog/blogs/%E7%A7%BB%E5%8A%A8%E7%AB%AF/flutter/%E8%B7%AF%E7%94%B1/flutter%E8%B7%AF%E7%94%B1%E4%B9%8Bnavigator.html#navigatorobserver" class="sidebar-link reco-side-navigatorobserver" data-v-b57cc07c>NavigatorObserver</a></li><li class="level-2" data-v-b57cc07c><a href="/fang_blog/blogs/%E7%A7%BB%E5%8A%A8%E7%AB%AF/flutter/%E8%B7%AF%E7%94%B1/flutter%E8%B7%AF%E7%94%B1%E4%B9%8Bnavigator.html#herocontrollerscope" class="sidebar-link reco-side-herocontrollerscope" data-v-b57cc07c>HeroControllerScope</a></li><li class="level-2" data-v-b57cc07c><a href="/fang_blog/blogs/%E7%A7%BB%E5%8A%A8%E7%AB%AF/flutter/%E8%B7%AF%E7%94%B1/flutter%E8%B7%AF%E7%94%B1%E4%B9%8Bnavigator.html#routetransitionrecord" class="sidebar-link reco-side-routetransitionrecord" data-v-b57cc07c>RouteTransitionRecord</a></li><li class="level-2" data-v-b57cc07c><a href="/fang_blog/blogs/%E7%A7%BB%E5%8A%A8%E7%AB%AF/flutter/%E8%B7%AF%E7%94%B1/flutter%E8%B7%AF%E7%94%B1%E4%B9%8Bnavigator.html#transitiondelegate" class="sidebar-link reco-side-transitiondelegate" data-v-b57cc07c>TransitionDelegate</a></li><li class="level-2" data-v-b57cc07c><a href="/fang_blog/blogs/%E7%A7%BB%E5%8A%A8%E7%AB%AF/flutter/%E8%B7%AF%E7%94%B1/flutter%E8%B7%AF%E7%94%B1%E4%B9%8Bnavigator.html#navigator" class="sidebar-link reco-side-navigator" data-v-b57cc07c>Navigator</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:-1;" data-v-248d85d6></canvas></div><canvas id="vuepress-canvas-cursor"></canvas></div></div>
    <script src="/fang_blog/assets/js/app.8dbc3baf.js" defer></script><script src="/fang_blog/assets/js/3.d5c9c33c.js" defer></script><script src="/fang_blog/assets/js/1.3f023f4a.js" defer></script><script src="/fang_blog/assets/js/103.c0b41ce3.js" defer></script>
  </body>
</html>
